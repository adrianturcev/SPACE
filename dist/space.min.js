/* PrismJS 1.30.0
https://prismjs.com/download.html#themes=prism-okaidia&languages=markup+json+markdown+mermaid&plugins=show-invisibles */
var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(e){var n=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,t=0,r={},a={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(n){return n instanceof i?new i(n.type,e(n.content),n.alias):Array.isArray(n)?n.map(e):n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function e(n,t){var r,i;switch(t=t||{},a.util.type(n)){case"Object":if(i=a.util.objId(n),t[i])return t[i];for(var l in r={},t[i]=r,n)n.hasOwnProperty(l)&&(r[l]=e(n[l],t));return r;case"Array":return i=a.util.objId(n),t[i]?t[i]:(r=[],t[i]=r,n.forEach((function(n,a){r[a]=e(n,t)})),r);default:return n}},getLanguage:function(e){for(;e;){var t=n.exec(e.className);if(t)return t[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,t){e.className=e.className.replace(RegExp(n,"gi"),""),e.classList.add("language-"+t)},currentScript:function(){if("undefined"==typeof document)return null;if(document.currentScript&&"SCRIPT"===document.currentScript.tagName)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(r.stack)||[])[1];if(e){var n=document.getElementsByTagName("script");for(var t in n)if(n[t].src==e)return n[t]}return null}},isActive:function(e,n,t){for(var r="no-"+n;e;){var a=e.classList;if(a.contains(n))return!0;if(a.contains(r))return!1;e=e.parentElement}return!!t}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,n){var t=a.util.clone(a.languages[e]);for(var r in n)t[r]=n[r];return t},insertBefore:function(e,n,t,r){var i=(r=r||a.languages)[e],l={};for(var o in i)if(i.hasOwnProperty(o)){if(o==n)for(var s in t)t.hasOwnProperty(s)&&(l[s]=t[s]);t.hasOwnProperty(o)||(l[o]=i[o])}var u=r[e];return r[e]=l,a.languages.DFS(a.languages,(function(n,t){t===u&&n!=e&&(this[n]=l)})),l},DFS:function e(n,t,r,i){i=i||{};var l=a.util.objId;for(var o in n)if(n.hasOwnProperty(o)){t.call(n,o,n[o],r||o);var s=n[o],u=a.util.type(s);"Object"!==u||i[l(s)]?"Array"!==u||i[l(s)]||(i[l(s)]=!0,e(s,t,o,i)):(i[l(s)]=!0,e(s,t,null,i))}}},plugins:{},highlightAll:function(e,n){a.highlightAllUnder(document,e,n)},highlightAllUnder:function(e,n,t){var r={callback:t,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),a.hooks.run("before-all-elements-highlight",r);for(var i,l=0;i=r.elements[l++];)a.highlightElement(i,!0===n,r.callback)},highlightElement:function(n,t,r){var i=a.util.getLanguage(n),l=a.languages[i];a.util.setLanguage(n,i);var o=n.parentElement;o&&"pre"===o.nodeName.toLowerCase()&&a.util.setLanguage(o,i);var s={element:n,language:i,grammar:l,code:n.textContent};function u(e){s.highlightedCode=e,a.hooks.run("before-insert",s),s.element.innerHTML=s.highlightedCode,a.hooks.run("after-highlight",s),a.hooks.run("complete",s),r&&r.call(s.element)}if(a.hooks.run("before-sanity-check",s),(o=s.element.parentElement)&&"pre"===o.nodeName.toLowerCase()&&!o.hasAttribute("tabindex")&&o.setAttribute("tabindex","0"),!s.code)return a.hooks.run("complete",s),void(r&&r.call(s.element));if(a.hooks.run("before-highlight",s),s.grammar)if(t&&e.Worker){var c=new Worker(a.filename);c.onmessage=function(e){u(e.data)},c.postMessage(JSON.stringify({language:s.language,code:s.code,immediateClose:!0}))}else u(a.highlight(s.code,s.grammar,s.language));else u(a.util.encode(s.code))},highlight:function(e,n,t){var r={code:e,grammar:n,language:t};if(a.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=a.tokenize(r.code,r.grammar),a.hooks.run("after-tokenize",r),i.stringify(a.util.encode(r.tokens),r.language)},tokenize:function(e,n){var t=n.rest;if(t){for(var r in t)n[r]=t[r];delete n.rest}var a=new s;return u(a,a.head,e),o(e,a,n,a.head,0),function(e){for(var n=[],t=e.head.next;t!==e.tail;)n.push(t.value),t=t.next;return n}(a)},hooks:{all:{},add:function(e,n){var t=a.hooks.all;t[e]=t[e]||[],t[e].push(n)},run:function(e,n){var t=a.hooks.all[e];if(t&&t.length)for(var r,i=0;r=t[i++];)r(n)}},Token:i};function i(e,n,t,r){this.type=e,this.content=n,this.alias=t,this.length=0|(r||"").length}function l(e,n,t,r){e.lastIndex=n;var a=e.exec(t);if(a&&r&&a[1]){var i=a[1].length;a.index+=i,a[0]=a[0].slice(i)}return a}function o(e,n,t,r,s,g){for(var f in t)if(t.hasOwnProperty(f)&&t[f]){var h=t[f];h=Array.isArray(h)?h:[h];for(var d=0;d<h.length;++d){if(g&&g.cause==f+","+d)return;var v=h[d],p=v.inside,m=!!v.lookbehind,y=!!v.greedy,k=v.alias;if(y&&!v.pattern.global){var x=v.pattern.toString().match(/[imsuy]*$/)[0];v.pattern=RegExp(v.pattern.source,x+"g")}for(var b=v.pattern||v,w=r.next,A=s;w!==n.tail&&!(g&&A>=g.reach);A+=w.value.length,w=w.next){var P=w.value;if(n.length>e.length)return;if(!(P instanceof i)){var E,S=1;if(y){if(!(E=l(b,A,e,m))||E.index>=e.length)break;var L=E.index,O=E.index+E[0].length,C=A;for(C+=w.value.length;L>=C;)C+=(w=w.next).value.length;if(A=C-=w.value.length,w.value instanceof i)continue;for(var j=w;j!==n.tail&&(C<O||"string"==typeof j.value);j=j.next)S++,C+=j.value.length;S--,P=e.slice(A,C),E.index-=A}else if(!(E=l(b,0,P,m)))continue;L=E.index;var N=E[0],_=P.slice(0,L),M=P.slice(L+N.length),W=A+P.length;g&&W>g.reach&&(g.reach=W);var I=w.prev;if(_&&(I=u(n,I,_),A+=_.length),c(n,I,S),w=u(n,I,new i(f,p?a.tokenize(N,p):N,k,N)),M&&u(n,w,M),S>1){var T={cause:f+","+d,reach:W};o(e,n,t,w.prev,A,T),g&&T.reach>g.reach&&(g.reach=T.reach)}}}}}}function s(){var e={value:null,prev:null,next:null},n={value:null,prev:e,next:null};e.next=n,this.head=e,this.tail=n,this.length=0}function u(e,n,t){var r=n.next,a={value:t,prev:n,next:r};return n.next=a,r.prev=a,e.length++,a}function c(e,n,t){for(var r=n.next,a=0;a<t&&r!==e.tail;a++)r=r.next;n.next=r,r.prev=n,e.length-=a}if(e.Prism=a,i.stringify=function e(n,t){if("string"==typeof n)return n;if(Array.isArray(n)){var r="";return n.forEach((function(n){r+=e(n,t)})),r}var i={type:n.type,content:e(n.content,t),tag:"span",classes:["token",n.type],attributes:{},language:t},l=n.alias;l&&(Array.isArray(l)?Array.prototype.push.apply(i.classes,l):i.classes.push(l)),a.hooks.run("wrap",i);var o="";for(var s in i.attributes)o+=" "+s+'="'+(i.attributes[s]||"").replace(/"/g,"&quot;")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+o+">"+i.content+"</"+i.tag+">"},!e.document)return e.addEventListener?(a.disableWorkerMessageHandler||e.addEventListener("message",(function(n){var t=JSON.parse(n.data),r=t.language,i=t.code,l=t.immediateClose;e.postMessage(a.highlight(i,a.languages[r],r)),l&&e.close()}),!1),a):a;var g=a.util.currentScript();function f(){a.manual||a.highlightAll()}if(g&&(a.filename=g.src,g.hasAttribute("data-manual")&&(a.manual=!0)),!a.manual){var h=document.readyState;"loading"===h||"interactive"===h&&g&&g.defer?document.addEventListener("DOMContentLoaded",f):window.requestAnimationFrame?window.requestAnimationFrame(f):window.setTimeout(f,16)}return a}(_self);"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism);
Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",(function(a){"entity"===a.type&&(a.attributes.title=a.content.replace(/&amp;/,"&"))})),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(a,e){var s={};s["language-"+e]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[e]},s.cdata=/^<!\[CDATA\[|\]\]>$/i;var t={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:s}};t["language-"+e]={pattern:/[\s\S]+/,inside:Prism.languages[e]};var n={};n[a]={pattern:RegExp("(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[^])*?(?=</__>)".replace(/__/g,(function(){return a})),"i"),lookbehind:!0,greedy:!0,inside:t},Prism.languages.insertBefore("markup","cdata",n)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(a,e){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp("(^|[\"'\\s])(?:"+a+")\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))","i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:Prism.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml;
Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},Prism.languages.webmanifest=Prism.languages.json;
!function(n){function e(n){return n=n.replace(/<inner>/g,(function(){return"(?:\\\\.|[^\\\\\n\r]|(?:\n|\r\n?)(?![\r\n]))"})),RegExp("((?:^|[^\\\\])(?:\\\\{2})*)(?:"+n+")")}var t="(?:\\\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\\\|\r\n`])+",a="\\|?__(?:\\|__)+\\|?(?:(?:\n|\r\n?)|(?![^]))".replace(/__/g,(function(){return t})),i="\\|?[ \t]*:?-{3,}:?[ \t]*(?:\\|[ \t]*:?-{3,}:?[ \t]*)+\\|?(?:\n|\r\n?)";n.languages.markdown=n.languages.extend("markup",{}),n.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:n.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+a+i+"(?:"+a+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+a+i+")(?:"+a+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(t),inside:n.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+a+")"+i+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+a+"$"),inside:{"table-header":{pattern:RegExp(t),alias:"important",inside:n.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:e("\\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\\b|\\*\\*(?:(?!\\*)<inner>|\\*(?:(?!\\*)<inner>)+\\*)+\\*\\*"),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:e("\\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\\b|\\*(?:(?!\\*)<inner>|\\*\\*(?:(?!\\*)<inner>)+\\*\\*)+\\*"),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:e("(~~?)(?:(?!~)<inner>)+\\2"),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:e('!?\\[(?:(?!\\])<inner>)+\\](?:\\([^\\s)]+(?:[\t ]+"(?:\\\\.|[^"\\\\])*")?\\)|[ \t]?\\[(?:(?!\\])<inner>)+\\])'),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach((function(e){["url","bold","italic","strike","code-snippet"].forEach((function(t){e!==t&&(n.languages.markdown[e].inside.content.inside[t]=n.languages.markdown[t])}))})),n.hooks.add("after-tokenize",(function(n){"markdown"!==n.language&&"md"!==n.language||function n(e){if(e&&"string"!=typeof e)for(var t=0,a=e.length;t<a;t++){var i=e[t];if("code"===i.type){var r=i.content[1],o=i.content[3];if(r&&o&&"code-language"===r.type&&"code-block"===o.type&&"string"==typeof r.content){var l=r.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),s="language-"+(l=(/[a-z][\w-]*/i.exec(l)||[""])[0].toLowerCase());o.alias?"string"==typeof o.alias?o.alias=[o.alias,s]:o.alias.push(s):o.alias=[s]}}else n(i.content)}}(n.tokens)})),n.hooks.add("wrap",(function(e){if("code-block"===e.type){for(var t="",a=0,i=e.classes.length;a<i;a++){var s=e.classes[a],d=/language-(.+)/.exec(s);if(d){t=d[1];break}}var p=n.languages[t];if(p)e.content=n.highlight(e.content.replace(r,"").replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,(function(n,e){var t;return"#"===(e=e.toLowerCase())[0]?(t="x"===e[1]?parseInt(e.slice(2),16):Number(e.slice(1)),l(t)):o[e]||n})),p,t);else if(t&&"none"!==t&&n.plugins.autoloader){var u="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());e.attributes.id=u,n.plugins.autoloader.loadLanguages(t,(function(){var e=document.getElementById(u);e&&(e.innerHTML=n.highlight(e.textContent,n.languages[t],t))}))}}}));var r=RegExp(n.languages.markup.tag.pattern.source,"gi"),o={amp:"&",lt:"<",gt:">",quot:'"'},l=String.fromCodePoint||String.fromCharCode;n.languages.md=n.languages.markdown}(Prism);
Prism.languages.mermaid={comment:{pattern:/%%.*/,greedy:!0},style:{pattern:/^([ \t]*(?:classDef|linkStyle|style)[ \t]+[\w$-]+[ \t]+)\w.*[^\s;]/m,lookbehind:!0,inside:{property:/\b\w[\w-]*(?=[ \t]*:)/,operator:/:/,punctuation:/,/}},"inter-arrow-label":{pattern:/([^<>ox.=-])(?:-[-.]|==)(?![<>ox.=-])[ \t]*(?:"[^"\r\n]*"|[^\s".=-](?:[^\r\n.=-]*[^\s.=-])?)[ \t]*(?:\.+->?|--+[->]|==+[=>])(?![<>ox.=-])/,lookbehind:!0,greedy:!0,inside:{arrow:{pattern:/(?:\.+->?|--+[->]|==+[=>])$/,alias:"operator"},label:{pattern:/^([\s\S]{2}[ \t]*)\S(?:[\s\S]*\S)?/,lookbehind:!0,alias:"property"},"arrow-head":{pattern:/^\S+/,alias:["arrow","operator"]}}},arrow:[{pattern:/(^|[^{}|o.-])[|}][|o](?:--|\.\.)[|o][|{](?![{}|o.-])/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>ox.=-])(?:[<ox](?:==+|--+|-\.*-)[>ox]?|(?:==+|--+|-\.*-)[>ox]|===+|---+|-\.+-)(?![<>ox.=-])/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>()x-])(?:--?(?:>>|[x>)])(?![<>()x])|(?:<<|[x<(])--?(?!-))/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>|*o.-])(?:[*o]--|--[*o]|<\|?(?:--|\.\.)|(?:--|\.\.)\|?>|--|\.\.)(?![<>|*o.-])/,lookbehind:!0,alias:"operator"}],label:{pattern:/(^|[^|<])\|(?:[^\r\n"|]|"[^"\r\n]*")+\|/,lookbehind:!0,greedy:!0,alias:"property"},text:{pattern:/(?:[(\[{]+|\b>)(?:[^\r\n"()\[\]{}]|"[^"\r\n]*")+(?:[)\]}]+|>)/,alias:"string"},string:{pattern:/"[^"\r\n]*"/,greedy:!0},annotation:{pattern:/<<(?:abstract|choice|enumeration|fork|interface|join|service)>>|\[\[(?:choice|fork|join)\]\]/i,alias:"important"},keyword:[{pattern:/(^[ \t]*)(?:action|callback|class|classDef|classDiagram|click|direction|erDiagram|flowchart|gantt|gitGraph|graph|journey|link|linkStyle|pie|requirementDiagram|sequenceDiagram|stateDiagram|stateDiagram-v2|style|subgraph)(?![\w$-])/m,lookbehind:!0,greedy:!0},{pattern:/(^[ \t]*)(?:activate|alt|and|as|autonumber|deactivate|else|end(?:[ \t]+note)?|loop|opt|par|participant|rect|state|note[ \t]+(?:over|(?:left|right)[ \t]+of))(?![\w$-])/im,lookbehind:!0,greedy:!0}],entity:/#[a-z0-9]+;/,operator:{pattern:/(\w[ \t]*)&(?=[ \t]*\w)|:::|:/,lookbehind:!0},punctuation:/[(){};]/};
!function(){if("undefined"!=typeof Prism){var r={tab:/\t/,crlf:/\r\n/,lf:/\n/,cr:/\r/,space:/ /};Prism.hooks.add("before-highlight",(function(r){i(r.grammar)}))}function e(r,a){var n=r[a];switch(Prism.util.type(n)){case"RegExp":var t={};r[a]={pattern:n,inside:t},i(t);break;case"Array":for(var f=0,s=n.length;f<s;f++)e(n,f);break;default:i(t=n.inside||(n.inside={}))}}function i(a){if(a&&!a.tab){for(var n in r)r.hasOwnProperty(n)&&(a[n]=r[n]);for(var n in a)a.hasOwnProperty(n)&&!r[n]&&("rest"===n?i(a.rest):e(a,n))}}}();
;
Prism.languages.damon = {
    'list-hyphen': {
        pattern: /(^\s*)(?:[*-])/m,
        lookbehind: true,
        greedy: true
    },
    'key': {
        pattern: /.+(?=(: (true *$|false *$|null *$|\".*\" *$|\\{.*\\} *$|\\[.*] *$|-?(?:0|[1-9]\\d*)(?:(?:\\.\\d+)?(?:[eE][+-]?\\d+)?)? *$)))/,
    },
    'string': {
        pattern: /(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,
        lookbehind: true,
        greedy: true
    },
    'comment': {
        pattern: /\/\/.*|\/\*[\s\S]*?(?:\*\/|$)\n/,
        greedy: true
    },
    'number': /-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,
    'operator': /:/,
    'boolean': /\b(?:false|true)\b/,
    'null': {
        pattern: /\bnull\b/,
        alias: 'keyword'
    },
    'map': {
        pattern: /(\{\})\n/,
    },
    'list': {
        pattern: /(\[\])\n/,
    },
    'punctuation': /[\{\}\[\],]/,
};

Prism.languages.webmanifest = Prism.languages.damon;
;
(()=>{var je=Object.defineProperty;var Qr=Object.getOwnPropertyDescriptor;var jr=Object.getOwnPropertyNames;var en=Object.prototype.hasOwnProperty;var tn=(i=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(i,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):i)(function(i){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+i+'" is not supported')});var rn=(i,e)=>()=>(i&&(e=i(i=0)),e);var se=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),nn=(i,e)=>{for(var r in e)je(i,r,{get:e[r],enumerable:!0})},ln=(i,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let t of jr(e))!en.call(i,t)&&t!==r&&je(i,t,{get:()=>e[t],enumerable:!(n=Qr(e,t))||n.enumerable});return i};var an=i=>ln(je({},"__esModule",{value:!0}),i);var Bt=se((Un,Jt)=>{Jt.exports={qs(i){return document.querySelector(i)},qsa(i){return Array.from(document.querySelector(i))},nil(i){return i===null||typeof i>"u"},hack(i,e,r){return i.slice(e,r+1)},pick(i,e){return i.filter(e)},prune(i,e){return i.filter(function(r){return!e(r)})},check(i,e){return i.every(e)},pipe(i,...e){return e.reduce((r,n)=>n(r),i)},escape(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},html(i){let e=i[0],r=Math.max(i.length,arguments.length-1);for(let n=1;n<r;n++)e+=arguments[n],e+=i[n];return e},diffVDomAndUpdate(i,e,r){let n=this;n.changedNodes=[];let t=i.childNodes,l=e.childNodes,a=r.childNodes;if(a.length>l.length){let o=a.length-l.length;for(let p=0,s=o;p<s;p++)r.lastChild.remove()}for(let o=0,p=l.length;o<p;o++)if(t[o]){if(t[o].outerHTML!==l[o].outerHTML){let s=["AREA","BASE","BR","COL","EMBED","HR","IMG","INPUT","LINK","META","PARAM","SOURCE","TRACK","WBR"],d=0;if(s.indexOf(l[o].tagName)===-1&&(d=3+l[o].tagName.length),t[o].tagName!==l[o].tagName||t[o].innerHTML===l[o].innerHTML||t[o].outerHTML.slice(-1*t[o].innerHTML.length-d)!==l[o].outerHTML.slice(-1*l[o].innerHTML.length-d)){let f=l[o].cloneNode(!0);n.changedNodes.push(f),a[o].replaceWith(f)}else this.diffVDomAndUpdate(t[o],l[o],a[o])}}else{let s=l[o].cloneNode(!0);n.changedNodes.push(s),r.appendChild(s)}},addDataState(i,e){let r=[];i.dataset.state&&i.dataset.state.indexOf(" ")>-1?r=i.dataset.state.split(" "):r=[i.dataset.state],r.indexOf(e)===-1&&(r.push(e),i.dataset.state=r.join(" "))},removeDataState(i,e){let r=[];i.dataset.state&&i.dataset.state.indexOf(" ")>-1?r=i.dataset.state.split(" "):r=[i.dataset.state],i.dataset.state=r.filter(n=>n!==e).join(" ")},replaceDataState(i,e,r){this.removeDataState(i,e),this.addDataState(i,r)},toggleDataState(i,e){i.dataset.state.split(" ").indexOf(e)==-1?this.addDataState(i,e):this.removeDataState(i,e)},resetDataState(i){i.dataset.state=""},ajaxGet(i,e,r,n){var t=new XMLHttpRequest;t.open("GET",i),t.addEventListener("load",function(){if(t.status>=200&&t.status<400)if(r){var l={};try{l=JSON.parse(t.responseText)}catch{console.error("Get request returned invalid JSON.")}n===void 0?e(l):e.apply(n,[l])}else n===void 0?e(t.responseText):e.apply(n,[t.responseText]);else console.error(t.status+" "+t.statusText+" "+i)}),t.addEventListener("error",function(){console.error("Network error trying to access: "+i)}),t.send(null)},ajaxPost(i,e,r,n,t,l,a){var o=new XMLHttpRequest;o.open("POST",i),o.addEventListener("load",function(){o.status>=200&&o.status<400?l===void 0?r(o):r.apply(l,[o]):(a===void 0?n(o):n.apply(a,[o]),console.error(o.status+" "+o.statusText+" "+i))}),o.addEventListener("error",function(){console.error("Network error trying to access: "+i)}),t&&(o.setRequestHeader("Content-Type","application/json"),e=JSON.stringify(e)),o.send(e)}}});var gr={};nn(gr,{__addDisposableResource:()=>dr,__assign:()=>He,__asyncDelegator:()=>ir,__asyncGenerator:()=>nr,__asyncValues:()=>lr,__await:()=>xe,__awaiter:()=>Zt,__classPrivateFieldGet:()=>fr,__classPrivateFieldIn:()=>ur,__classPrivateFieldSet:()=>cr,__createBinding:()=>Fe,__decorate:()=>Gt,__disposeResources:()=>hr,__esDecorate:()=>Wt,__exportStar:()=>jt,__extends:()=>Pt,__generator:()=>Qt,__importDefault:()=>or,__importStar:()=>sr,__makeTemplateObject:()=>ar,__metadata:()=>Xt,__param:()=>Vt,__propKey:()=>Yt,__read:()=>rt,__rest:()=>zt,__rewriteRelativeImportExtension:()=>pr,__runInitializers:()=>qt,__setFunctionName:()=>Kt,__spread:()=>er,__spreadArray:()=>rr,__spreadArrays:()=>tr,__values:()=>Me,default:()=>fn});function Pt(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");et(i,e);function r(){this.constructor=i}i.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function zt(i,e){var r={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(r[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,n=Object.getOwnPropertySymbols(i);t<n.length;t++)e.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(i,n[t])&&(r[n[t]]=i[n[t]]);return r}function Gt(i,e,r,n){var t=arguments.length,l=t<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(i,e,r,n);else for(var o=i.length-1;o>=0;o--)(a=i[o])&&(l=(t<3?a(l):t>3?a(e,r,l):a(e,r))||l);return t>3&&l&&Object.defineProperty(e,r,l),l}function Vt(i,e){return function(r,n){e(r,n,i)}}function Wt(i,e,r,n,t,l){function a(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var o=n.kind,p=o==="getter"?"get":o==="setter"?"set":"value",s=!e&&i?n.static?i:i.prototype:null,d=e||(s?Object.getOwnPropertyDescriptor(s,n.name):{}),f,g=!1,c=r.length-1;c>=0;c--){var N={};for(var E in n)N[E]=E==="access"?{}:n[E];for(var E in n.access)N.access[E]=n.access[E];N.addInitializer=function(y){if(g)throw new TypeError("Cannot add initializers after decoration has completed");l.push(a(y||null))};var A=(0,r[c])(o==="accessor"?{get:d.get,set:d.set}:d[p],N);if(o==="accessor"){if(A===void 0)continue;if(A===null||typeof A!="object")throw new TypeError("Object expected");(f=a(A.get))&&(d.get=f),(f=a(A.set))&&(d.set=f),(f=a(A.init))&&t.unshift(f)}else(f=a(A))&&(o==="field"?t.unshift(f):d[p]=f)}s&&Object.defineProperty(s,n.name,d),g=!0}function qt(i,e,r){for(var n=arguments.length>2,t=0;t<e.length;t++)r=n?e[t].call(i,r):e[t].call(i);return n?r:void 0}function Yt(i){return typeof i=="symbol"?i:"".concat(i)}function Kt(i,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Xt(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)}function Zt(i,e,r,n){function t(l){return l instanceof r?l:new r(function(a){a(l)})}return new(r||(r=Promise))(function(l,a){function o(d){try{s(n.next(d))}catch(f){a(f)}}function p(d){try{s(n.throw(d))}catch(f){a(f)}}function s(d){d.done?l(d.value):t(d.value).then(o,p)}s((n=n.apply(i,e||[])).next())})}function Qt(i,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,t,l,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(s){return function(d){return p([s,d])}}function p(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(r=0)),r;)try{if(n=1,t&&(l=s[0]&2?t.return:s[0]?t.throw||((l=t.return)&&l.call(t),0):t.next)&&!(l=l.call(t,s[1])).done)return l;switch(t=0,l&&(s=[s[0]&2,l.value]),s[0]){case 0:case 1:l=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,t=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!l||s[1]>l[0]&&s[1]<l[3])){r.label=s[1];break}if(s[0]===6&&r.label<l[1]){r.label=l[1],l=s;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(s);break}l[2]&&r.ops.pop(),r.trys.pop();continue}s=e.call(i,r)}catch(d){s=[6,d],t=0}finally{n=l=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function jt(i,e){for(var r in i)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Fe(e,i,r)}function Me(i){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&i[e],n=0;if(r)return r.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function rt(i,e){var r=typeof Symbol=="function"&&i[Symbol.iterator];if(!r)return i;var n=r.call(i),t,l=[],a;try{for(;(e===void 0||e-- >0)&&!(t=n.next()).done;)l.push(t.value)}catch(o){a={error:o}}finally{try{t&&!t.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return l}function er(){for(var i=[],e=0;e<arguments.length;e++)i=i.concat(rt(arguments[e]));return i}function tr(){for(var i=0,e=0,r=arguments.length;e<r;e++)i+=arguments[e].length;for(var n=Array(i),t=0,e=0;e<r;e++)for(var l=arguments[e],a=0,o=l.length;a<o;a++,t++)n[t]=l[a];return n}function rr(i,e,r){if(r||arguments.length===2)for(var n=0,t=e.length,l;n<t;n++)(l||!(n in e))&&(l||(l=Array.prototype.slice.call(e,0,n)),l[n]=e[n]);return i.concat(l||Array.prototype.slice.call(e))}function xe(i){return this instanceof xe?(this.v=i,this):new xe(i)}function nr(i,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(i,e||[]),t,l=[];return t=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),t[Symbol.asyncIterator]=function(){return this},t;function a(c){return function(N){return Promise.resolve(N).then(c,f)}}function o(c,N){n[c]&&(t[c]=function(E){return new Promise(function(A,y){l.push([c,E,A,y])>1||p(c,E)})},N&&(t[c]=N(t[c])))}function p(c,N){try{s(n[c](N))}catch(E){g(l[0][3],E)}}function s(c){c.value instanceof xe?Promise.resolve(c.value.v).then(d,f):g(l[0][2],c)}function d(c){p("next",c)}function f(c){p("throw",c)}function g(c,N){c(N),l.shift(),l.length&&p(l[0][0],l[0][1])}}function ir(i){var e,r;return e={},n("next"),n("throw",function(t){throw t}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(t,l){e[t]=i[t]?function(a){return(r=!r)?{value:xe(i[t](a)),done:!1}:l?l(a):a}:l}}function lr(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],r;return e?e.call(i):(i=typeof Me=="function"?Me(i):i[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(l){r[l]=i[l]&&function(a){return new Promise(function(o,p){a=i[l](a),t(o,p,a.done,a.value)})}}function t(l,a,o,p){Promise.resolve(p).then(function(s){l({value:s,done:o})},a)}}function ar(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i}function sr(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var r=tt(i),n=0;n<r.length;n++)r[n]!=="default"&&Fe(e,i,r[n]);return sn(e,i),e}function or(i){return i&&i.__esModule?i:{default:i}}function fr(i,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?i!==e||!n:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(i):n?n.value:e.get(i)}function cr(i,e,r,n,t){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!t)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?i!==e||!t:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?t.call(i,r):t?t.value=r:e.set(i,r),r}function ur(i,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?e===i:i.has(e)}function dr(i,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,t;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(t=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");t&&(n=function(){try{t.call(this)}catch(l){return Promise.reject(l)}}),i.stack.push({value:e,dispose:n,async:r})}else r&&i.stack.push({async:!0});return e}function hr(i){function e(l){i.error=i.hasError?new on(l,i.error,"An error was suppressed during disposal."):l,i.hasError=!0}var r,n=0;function t(){for(;r=i.stack.pop();)try{if(!r.async&&n===1)return n=0,i.stack.push(r),Promise.resolve().then(t);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(l).then(t,function(a){return e(a),t()})}else n|=1}catch(a){e(a)}if(n===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return t()}function pr(i,e){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,t,l,a){return n?e?".jsx":".js":t&&(!l||!a)?r:t+l+"."+a.toLowerCase()+"js"}):i}var et,He,Fe,sn,tt,on,fn,mr=rn(()=>{et=function(i,e){return et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])},et(i,e)};He=function(){return He=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++){r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},He.apply(this,arguments)};Fe=Object.create?(function(i,e,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(e,r);(!t||("get"in t?!e.__esModule:t.writable||t.configurable))&&(t={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(i,n,t)}):(function(i,e,r,n){n===void 0&&(n=r),i[n]=e[r]});sn=Object.create?(function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}):function(i,e){i.default=e},tt=function(i){return tt=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},tt(i)};on=typeof SuppressedError=="function"?SuppressedError:function(i,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=i,n.suppressed=e,n};fn={__extends:Pt,__assign:He,__rest:zt,__decorate:Gt,__param:Vt,__esDecorate:Wt,__runInitializers:qt,__propKey:Yt,__setFunctionName:Kt,__metadata:Xt,__awaiter:Zt,__generator:Qt,__createBinding:Fe,__exportStar:jt,__values:Me,__read:rt,__spread:er,__spreadArrays:tr,__spreadArray:rr,__await:xe,__asyncGenerator:nr,__asyncDelegator:ir,__asyncValues:lr,__makeTemplateObject:ar,__importStar:sr,__importDefault:or,__classPrivateFieldGet:fr,__classPrivateFieldSet:cr,__classPrivateFieldIn:ur,__addDisposableResource:dr,__disposeResources:hr,__rewriteRelativeImportExtension:pr}});var yr=se(nt=>{(function(i){"use strict";var e=typeof process=="object"&&process.env?process.env:self;i.parser=function(x){return new f(x)},i.CParser=f,i.CStream=c,i.createStream=g,i.MAX_BUFFER_LENGTH=64*1024,i.DEBUG=e.CDEBUG==="debug",i.INFO=e.CDEBUG==="debug"||e.CDEBUG==="info",i.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var r={textNode:void 0,numberNode:""},n=i.EVENTS.filter(function(x){return x!=="error"&&x!=="end"}),t=0,l;i.STATE={BEGIN:t++,VALUE:t++,OPEN_OBJECT:t++,CLOSE_OBJECT:t++,OPEN_ARRAY:t++,CLOSE_ARRAY:t++,TEXT_ESCAPE:t++,STRING:t++,BACKSLASH:t++,END:t++,OPEN_KEY:t++,CLOSE_KEY:t++,TRUE:t++,TRUE2:t++,TRUE3:t++,FALSE:t++,FALSE2:t++,FALSE3:t++,FALSE4:t++,NULL:t++,NULL2:t++,NULL3:t++,NUMBER_DECIMAL_POINT:t++,NUMBER_DIGIT:t++};for(var a in i.STATE)i.STATE[i.STATE[a]]=a;t=i.STATE;let o={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(x){function u(){this.__proto__=x}return u.prototype=x,new u}),Object.getPrototypeOf||(Object.getPrototypeOf=function(x){return x.__proto__}),Object.keys||(Object.keys=function(x){var u=[];for(var O in x)x.hasOwnProperty(O)&&u.push(O);return u});function p(x){var u=Math.max(i.MAX_BUFFER_LENGTH,10),O=0;for(var C in r){var _=x[C]===void 0?0:x[C].length;if(_>u)switch(C){case"text":closeText(x);break;default:m(x,"Max buffer length exceeded: "+C)}O=Math.max(O,_)}x.bufferCheckPosition=i.MAX_BUFFER_LENGTH-O+x.position}function s(x){for(var u in r)x[u]=r[u]}var d=/[\\"\n]/g;function f(x){if(!(this instanceof f))return new f(x);var u=this;s(u),u.bufferCheckPosition=i.MAX_BUFFER_LENGTH,u.q=u.c=u.p="",u.opt=x||{},u.closed=u.closedRoot=u.sawRoot=!1,u.tag=u.error=null,u.state=t.BEGIN,u.stack=new Array,u.position=u.column=0,u.line=1,u.slashed=!1,u.unicodeI=0,u.unicodeS=null,u.depth=0,N(u,"onready")}f.prototype={end:function(){w(this)},write:S,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{l=tn("stream").Stream}catch{l=function(){}}function g(x){return new c(x)}function c(x){if(!(this instanceof c))return new c(x);this._parser=new f(x),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var u=this;l.apply(u),this._parser.onend=function(){u.emit("end")},this._parser.onerror=function(O){u.emit("error",O),u._parser.error=null},n.forEach(function(O){Object.defineProperty(u,"on"+O,{get:function(){return u._parser["on"+O]},set:function(C){if(!C)return u.removeAllListeners(O),u._parser["on"+O]=C,C;u.on(O,C)},enumerable:!0,configurable:!1})})}c.prototype=Object.create(l.prototype,{constructor:{value:c}}),c.prototype.write=function(x){x=new Buffer(x);for(var u=0;u<x.length;u++){var O=x[u];if(this.bytes_remaining>0){for(var C=0;C<this.bytes_remaining;C++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+C]=x[C];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,u=u+C-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&O>=128)if(O>=194&&O<=223&&(this.bytes_in_sequence=2),O>=224&&O<=239&&(this.bytes_in_sequence=3),O>=240&&O<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+u>x.length){for(var _=0;_<=x.length-1-u;_++)this.temp_buffs[this.bytes_in_sequence][_]=x[u+_];return this.bytes_remaining=u+this.bytes_in_sequence-x.length,!0}else{this.string=x.slice(u,u+this.bytes_in_sequence).toString(),u=u+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var D=u;D<x.length&&!(x[D]>=128);D++);this.string=x.slice(u,D).toString(),this._parser.write(this.string),this.emit("data",this.string),u=D-1}},c.prototype.end=function(x){return x&&x.length&&this._parser.write(x.toString()),this._parser.end(),!0},c.prototype.on=function(x,u){var O=this;return!O._parser["on"+x]&&n.indexOf(x)!==-1&&(O._parser["on"+x]=function(){var C=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);C.splice(0,0,x),O.emit.apply(O,C)}),l.prototype.on.call(O,x,u)},c.prototype.destroy=function(){s(this._parser),this.emit("close")};function N(x,u,O){i.INFO&&console.log("-- emit",u,O),x[u]&&x[u](O)}function E(x,u,O){A(x),N(x,u,O)}function A(x,u){x.textNode=h(x.opt,x.textNode),x.textNode!==void 0&&N(x,u||"onvalue",x.textNode),x.textNode=void 0}function y(x){x.numberNode&&N(x,"onvalue",parseFloat(x.numberNode)),x.numberNode=""}function h(x,u){return u===void 0||(x.trim&&(u=u.trim()),x.normalize&&(u=u.replace(/\s+/g," "))),u}function m(x,u){return A(x),u+=`
Line: `+x.line+`
Column: `+x.column+`
Char: `+x.c,u=new Error(u),x.error=u,N(x,"onerror",u),x}function w(x){return(x.state!==t.VALUE||x.depth!==0)&&m(x,"Unexpected end"),A(x),x.c="",x.closed=!0,N(x,"onend"),f.call(x,x.opt),x}function T(x){return x===o.carriageReturn||x===o.lineFeed||x===o.space||x===o.tab}function S(x){var u=this;if(this.error)throw this.error;if(u.closed)return m(u,"Cannot write after close. Assign an onready handler.");if(x===null)return w(u);var O=0,C=x.charCodeAt(0),_=u.p,D=!1;for(i.DEBUG&&console.log("write -> ["+x+"]");C&&(_=C,u.c=C=x.charCodeAt(O++),_!==C?u.p=_:_=u.p,!!C);)switch(i.DEBUG&&console.log(O,C,i.STATE[u.state]),D?D=!1:(u.position++,C===o.lineFeed?(u.line++,u.column=0):u.column++),u.state){case t.BEGIN:C===o.openBrace?u.state=t.OPEN_OBJECT:C===o.openBracket?u.state=t.OPEN_ARRAY:T(C)||m(u,"Non-whitespace before {[.");continue;case t.OPEN_KEY:case t.OPEN_OBJECT:if(T(C))continue;if(u.state===t.OPEN_KEY)u.stack.push(t.CLOSE_KEY);else if(C===o.closeBrace){N(u,"onopenobject"),this.depth++,N(u,"oncloseobject"),this.depth--,u.state=u.stack.pop()||t.VALUE;continue}else u.stack.push(t.CLOSE_OBJECT);C===o.doubleQuote?u.state=t.STRING:m(u,'Malformed object key should start with "');continue;case t.CLOSE_KEY:case t.CLOSE_OBJECT:if(T(C))continue;var $=u.state===t.CLOSE_KEY?"key":"object";C===o.colon?(u.state===t.CLOSE_OBJECT?(u.stack.push(t.CLOSE_OBJECT),A(u,"onopenobject"),this.depth++):A(u,"onkey"),u.state=t.VALUE):C===o.closeBrace?(E(u,"oncloseobject"),this.depth--,u.state=u.stack.pop()||t.VALUE):C===o.comma?(u.state===t.CLOSE_OBJECT&&u.stack.push(t.CLOSE_OBJECT),A(u),u.state=t.OPEN_KEY):m(u,"Bad object");continue;case t.OPEN_ARRAY:case t.VALUE:if(T(C))continue;if(u.state===t.OPEN_ARRAY)if(N(u,"onopenarray"),this.depth++,u.state=t.VALUE,C===o.closeBracket){N(u,"onclosearray"),this.depth--,u.state=u.stack.pop()||t.VALUE;continue}else u.stack.push(t.CLOSE_ARRAY);C===o.doubleQuote?u.state=t.STRING:C===o.openBrace?u.state=t.OPEN_OBJECT:C===o.openBracket?u.state=t.OPEN_ARRAY:C===o.t?u.state=t.TRUE:C===o.f?u.state=t.FALSE:C===o.n?u.state=t.NULL:C===o.minus?u.numberNode+="-":o._0<=C&&C<=o._9?(u.numberNode+=String.fromCharCode(C),u.state=t.NUMBER_DIGIT):m(u,"Bad value");continue;case t.CLOSE_ARRAY:if(C===o.comma)u.stack.push(t.CLOSE_ARRAY),A(u,"onvalue"),u.state=t.VALUE;else if(C===o.closeBracket)E(u,"onclosearray"),this.depth--,u.state=u.stack.pop()||t.VALUE;else{if(T(C))continue;m(u,"Bad array")}continue;case t.STRING:u.textNode===void 0&&(u.textNode="");var F=O-1,k=u.slashed,H=u.unicodeI;e:for(;;){for(i.DEBUG&&console.log(O,C,i.STATE[u.state],k);H>0;)if(u.unicodeS+=String.fromCharCode(C),C=x.charCodeAt(O++),u.position++,H===4?(u.textNode+=String.fromCharCode(parseInt(u.unicodeS,16)),H=0,F=O-1):H++,!C)break e;if(C===o.doubleQuote&&!k){u.state=u.stack.pop()||t.VALUE,u.textNode+=x.substring(F,O-1),u.position+=O-1-F;break}if(C===o.backslash&&!k&&(k=!0,u.textNode+=x.substring(F,O-1),u.position+=O-1-F,C=x.charCodeAt(O++),u.position++,!C))break;if(k){if(k=!1,C===o.n?u.textNode+=`
`:C===o.r?u.textNode+="\r":C===o.t?u.textNode+="	":C===o.f?u.textNode+="\f":C===o.b?u.textNode+="\b":C===o.u?(H=1,u.unicodeS=""):u.textNode+=String.fromCharCode(C),C=x.charCodeAt(O++),u.position++,F=O-1,C)continue;break}d.lastIndex=O;var U=d.exec(x);if(U===null){O=x.length+1,u.textNode+=x.substring(F,O-1),u.position+=O-1-F;break}if(O=U.index+1,C=x.charCodeAt(U.index),!C){u.textNode+=x.substring(F,O-1),u.position+=O-1-F;break}}u.slashed=k,u.unicodeI=H;continue;case t.TRUE:C===o.r?u.state=t.TRUE2:m(u,"Invalid true started with t"+C);continue;case t.TRUE2:C===o.u?u.state=t.TRUE3:m(u,"Invalid true started with tr"+C);continue;case t.TRUE3:C===o.e?(N(u,"onvalue",!0),u.state=u.stack.pop()||t.VALUE):m(u,"Invalid true started with tru"+C);continue;case t.FALSE:C===o.a?u.state=t.FALSE2:m(u,"Invalid false started with f"+C);continue;case t.FALSE2:C===o.l?u.state=t.FALSE3:m(u,"Invalid false started with fa"+C);continue;case t.FALSE3:C===o.s?u.state=t.FALSE4:m(u,"Invalid false started with fal"+C);continue;case t.FALSE4:C===o.e?(N(u,"onvalue",!1),u.state=u.stack.pop()||t.VALUE):m(u,"Invalid false started with fals"+C);continue;case t.NULL:C===o.u?u.state=t.NULL2:m(u,"Invalid null started with n"+C);continue;case t.NULL2:C===o.l?u.state=t.NULL3:m(u,"Invalid null started with nu"+C);continue;case t.NULL3:C===o.l?(N(u,"onvalue",null),u.state=u.stack.pop()||t.VALUE):m(u,"Invalid null started with nul"+C);continue;case t.NUMBER_DECIMAL_POINT:C===o.period?(u.numberNode+=".",u.state=t.NUMBER_DIGIT):m(u,"Leading zero not followed by .");continue;case t.NUMBER_DIGIT:o._0<=C&&C<=o._9?u.numberNode+=String.fromCharCode(C):C===o.period?(u.numberNode.indexOf(".")!==-1&&m(u,"Invalid number has two dots"),u.numberNode+="."):C===o.e||C===o.E?((u.numberNode.indexOf("e")!==-1||u.numberNode.indexOf("E")!==-1)&&m(u,"Invalid number has two exponential"),u.numberNode+="e"):C===o.plus||C===o.minus?(_===o.e||_===o.E||m(u,"Invalid symbol in number"),u.numberNode+=String.fromCharCode(C)):(y(u),O--,D=!0,u.state=u.stack.pop()||t.VALUE);continue;default:m(u,"Unknown state: "+u.state)}return u.position>=u.bufferCheckPosition&&p(u),u}})(typeof nt>"u"?clarinet={}:nt)});var xr=se(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.stringify=Ne.parse=void 0;var cn=(mr(),an(gr)),un=cn.__importDefault(yr());function dn(i){let e=lt(),r,n;function t(a){try{let o=e.next(a);o.done&&(r=o.value)}catch(o){n=o}}let l=un.default.parser();if(l.onopenobject=a=>t({type:"openobject",key:a}),l.onopenarray=()=>t({type:"openarray"}),l.onkey=a=>t({type:"key",key:a}),l.onvalue=a=>t({type:"value",value:a}),l.oncloseobject=()=>t({type:"closeobject"}),l.onclosearray=()=>t({type:"closearray"}),l.onerror=a=>t({type:"error",err:a}),e.next(),l.write(i).close(),n)throw n;return r}Ne.parse=dn;function it(i){return Array.isArray(i)?`[${i.map(it).join(",")}]`:i instanceof Map?`{${[...i].map(([e,r])=>JSON.stringify(e)+":"+it(r)).join(",")}}`:JSON.stringify(i)}Ne.stringify=it;var Er=Symbol();function*lt(){let i=yield;switch(i.type){case"value":return i.value;case"openobject":let e=new Map,r=i.key;for(r===void 0&&(yield);r!==void 0;)e.set(r,yield*lt()),r=(yield).key;return e;case"openarray":let n=[],t;for(;;){if(t=yield*lt(),t===Er)return n;n.push(t)}case"closearray":return Er;case"error":throw i.err;default:throw Error(`Unexpected ParseEvent ${i.type}`)}}});var br=se((zn,Ar)=>{var Nr=xr().parse;Ar.exports=class{constructor(e=!1){let r=this;if(this.indentation=4,[!0,!1,void 0].indexOf(e)==-1)throw new Error("@param {Boolean} pedantic");this.pedantic=e}template(e){let r=this;var n=e.raw[0];for(let l=1;l<e.raw.length;l++)typeof arguments[l]=="string"?n+='"'+arguments[l]+'"':n+=arguments[l],n+=e.raw[l];return r._treeToMap(r._damonToTree(n))}damonToMap(e,r=0,n=!1){let t=this,l=t._damonToTree(e,r);return l===!0||l===!1||l===null||typeof l=="string"||typeof l=="number"?l:t._treeToMap(t._damonToTree(e,r),r,n)}damonToJSON(e){let r=this;return r.mapToJSON(r.damonToMap(e))}jsonToDamon(e){let r=this;return r.mapToDamon(r.jsonToMap(e),!1)}jsonToMap(e){var n=this._getLines(e,"JSON");if(n=n.filter(t=>!/^ *\/\//.test(t)),n=n.filter(t=>t!=""),n=n.filter(t=>!/^[ \t]+$/.test(t)),n.length==1){if(["true","false","null"].indexOf(n[0].trim())>-1)return JSON.parse(n[0]);if(/^".*"$/.test(n[0].trim()))try{return JSON.parse(n[0].trim())}catch(t){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),t.line=1,t.language="JSON",t.type="string",t}else if(isFinite(n[0])&&!isNaN(parseFloat(n[0]))&&Number.isFinite(n[0]*1)&&!Number.isNaN(n[0]*1)){if(n[0].indexOf(0)==0&&n[0].length>1&&n[0].indexOf(".")!==1){let t=new Error("Error line number 1: leading 0");throw t.line=1,t.language="DAMON",t}if(n[0].indexOf("_")>-1){let t=new Error("Error line number 1: numeric separator");throw t.line=1,t.language="DAMON",t}try{return JSON.parse(n[0]*1)}catch(t){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),t.line=1,t.language="JSON",t.type="number",t}}else if(n[0]*1===1/0)try{JSON.parse(n[0]*1)}catch(t){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),t.line=1,t.language="JSON",t.type="infinity",t}else return Nr(e)}else return Nr(e)}_getLines(e,r="DAMON",n=0){if(["DAMON","JSON"].indexOf(r)==-1)throw new Error("Bad language argument, expected 'DAMON' or 'JSON'");if(e===""){let a=new Error("Error line "+(n+1)+": empty string");throw a.line=n+1,a.language=r,a}if(/[\s]/.test(e)&&e.match(new RegExp(/[\s]/))[0].length==e.length){let a=new Error("Error line "+(n+1)+": string only contains whitespace");throw a.line=n+1,a.language=r,a}var t=/\r\n/.test(e)?`\r
`:`
`,l=e.split(t);if(t==`
`&&/\\*\n/.test(e)){if(/[^\\]\\(\\\\)*\n/.test(e)){let p=e.split(/[^\\]\\(\\\\)*\n/)[0].split(`
`).length,s=new Error("Error line "+(n+p)+": oddly escaped newline");throw s.line=n+p,s.language=r,s}l=e.split("").reverse().join("").split(/\n/).map(p=>p.split("").reverse().join("")).reverse()}return l}_damonToTree(e,r){let n=this,t=n._getLines(e,"DAMON",r),l=t.slice(0);if(t=t.filter(A=>!/^ *\/\//.test(A)),t=t.filter(A=>A!=""),t=t.filter(A=>!/^[ \t]+$/.test(A)),t.length==1){if(["true","false","null"].indexOf(t[0].trim())>-1)return JSON.parse(t[0]);if(/^".*"$/.test(t[0].trim()))try{return JSON.parse(t[0].trim())}catch(A){throw console.error("Error line number "+(r+1)+": not JSON-compliant, detailed error follows"),A.line=r+1,A.language="JSON",A.type="string",A}else if(isFinite(t[0])&&!isNaN(parseFloat(t[0]))&&Number.isFinite(t[0]*1)&&!Number.isNaN(t[0]*1)){if(t[0].indexOf(0)==0&&t[0].length>1&&t[0].indexOf(".")!==1){let A=new Error("Error line number "+(r+1)+": leading 0");throw A.line=r+1,A.language="DAMON",A}if(t[0].indexOf("_")>-1){let A=new Error("Error line number "+(r+1)+": numeric separator");throw A.line=r+1,A.language="DAMON",A}try{return JSON.parse(t[0]*1)}catch(A){throw console.error("Error line number "+(r+1)+": not JSON-compliant, detailed error follows"),A.line=r+1,A.language="JSON",A.type="number",A}}else if(t[0]*1===1/0)try{JSON.parse(t[0]*1)}catch(A){throw console.error("Error line number "+(r+1)+": not JSON-compliant, detailed error follows"),A.line=r+1,A.language="JSON",A.type="infinity",A}}let a=0,o=[];for(let A=0,y=l.length;A<y;A++)t.slice(a).indexOf(l[A])>-1?o[A]=t.slice(a).indexOf(l[A]):o[A]=null;let p=new RegExp("^(\\t)+");for(let A=0,y=t.length;A<y;A++){if(p.test(t[A])){let h=t[A].match(p)[0].length;for(let m=0,w=h;m<w;m++)t[A]=t[A].replace("	"," ".repeat(n.indentation))}if(!/^ *- $/.test(t[A])&&/[ \t]+$/.test(t[A])){let h=new Error("Error line "+(r+o.indexOf(A)+1)+": trailing whitespace");throw h.line=r+o.indexOf(A)+1,h.language="DAMON",h}}let s=new RegExp("^("+" ".repeat(n.indentation)+")+");if(s.test(t[0])){let A=t[0].match(s)[0].length,y=!0;for(let h=0,m=t.length;h<m;h++)s.test(t[h])&&t[h].match(s)[0].length>=A?t[h]=t[h].slice(A):y=!1;if(!y){let h=new Error("Error line "+(r+1)+": bad formatting");throw h.line=r+1,h.language="DAMON",h}}else if(s.test(t[1])&&t[1].match(s)[0].length>n.indentation){let A=t[1].match(s)[0].length-n.indentation,y=!0;for(let h=1,m=t.length;h<m;h++)s.test(t[h])&&t[h].match(s)[0].length>=A?t[h]=t[h].slice(A):y=!1;if(!y){let h=new Error("Error line "+(r+2)+": bad formatting");throw h.line=r+2,h.language="DAMON",h}}let d=!1;if(t.length>1)for(let A=0,y=t.length;A<y;A++)A!==0&&/^- /.test(t[A])&&(d=!0);if(!/^- \{\}$/.test(t[0])&&!/^- \[\]$/.test(t[0])&&(d=!0),d){for(let A=0,y=t.length;A<y;A++)t[A]=" ".repeat(n.indentation)+t[A];t.unshift("- {}")}var f={content:t[0],level:0,id:0,children:[],headless:d,damonOriginalLinesMapping:o},g=f;if(!/^- /.test(t[0].trimStart())||/^ +/.test(t[0])&&(t[0].match(/^ +/)[0].length%n.indentation!=0||t[0].match(/^ +/)[0].length!=n.indentation)){let A=new Error("Error line "+(r+(d*1+1))+": bad formatting");throw A.line=r+d*1+1,A.language="DAMON",A}t.shift();for(let A=0,y=t.length;A<y;A++){if(!/^- /.test(t[A].trimStart())||/^ +/.test(t[A])&&(t[A].match(/^ +/)[0].length%n.indentation!=0||A==0&&t[A].match(/^ +/)[0].length!=n.indentation||A!=0&&/^- /.test(t[A-1])&&t[A].match(/^ +/)[0].length!=n.indentation||A!=0&&!/^- /.test(t[A-1])&&t[A].match(/^ +/)[0].length>t[A-1].match(/^ +/)[0].length+n.indentation)){let m=new Error("Error line "+(r+o.indexOf(A)+1)+": bad formatting");throw m.line=r+o.indexOf(A)+1,m.language="DAMON",m}let h={content:t[A].trimStart().slice(2),level:1+t[A].match(/^ +/)[0].length/n.indentation,id:"",children:[]};if(g===f)h.id=f.children.length+1,f.children.push(h);else if(g.level===h.level){var c=n._findListItemCommonDirectParent(g,f);c.level==0?h.id=c.children.length+1:h.id=c.id+"-"+(c.children.length+1),c.children.push(h)}else if(g.level>h.level){var N=n._findListItemCommonAncestor(g,f,h.level);N.level==0?h.id=N.children.length+1:h.id=N.id+"-"+(N.children.length+1),N.children.push(h)}else if(g.level<h.level){var E=n._findListItemCommonDirectParent(g,f);let m=E.children.indexOf(g),w=E.children[m].id,T=E.children[m].children.length+1;h.id=w+"-"+T,E.children[m].children.push(h)}g=h}return f}_findListItemCommonDirectParent(e,r){let n=this;if(r.children.indexOf(e)>-1)return r;var t;for(let l=r.children.length-1,a=0;l>=a;l--)if(t=n._findListItemCommonDirectParent(e,r.children[l]),t)return t}_findListItemCommonAncestor(e,r,n){let t=this;var l=t._findListItemCommonDirectParent(e,r);return l.level<n?l:t._findListItemCommonAncestor(l,r,n)}_treeToMap(e,r,n=!1){let t=this;var l=0;if(e.content=="- {}"){let s=new Map;return s.damonOriginalLinesMapping=e.damonOriginalLinesMapping,e.headless&&(s.headless=!0),a(e,s)}else if(e.content=="- []"){let s=[];return s.damonOriginalLinesMapping=e.damonOriginalLinesMapping,a(e,s)}function a(s,d){if(typeof s!="object"||s==null||Array.isArray(s)){let f=e.headless*-1+e.damonOriginalLinesMapping.indexOf(l-1)+2,g=new Error("Error line number "+(r+f)+": @param { {} } tree");throw g.line=r+f,g.language="DAMON",g}if(typeof d=="object"&&d!==null&&!Array.isArray(d)&&d instanceof Map&&d.constructor===Map)o(s,d);else if(Array.isArray(d))p(s,d);else{let f=e.headless*-1+e.damonOriginalLinesMapping.indexOf(l-1)+2,g=new Error("Error line number "+(r+f)+": @param { {} | [] } jsonMap");throw g.line=r+f,g.language="DAMON",g}return d}function o(s,d){for(let f=0,g=s.children.length;f<g;f++)if(l++,s.children[f].content.length==0){let c="";s.children[f].children.length>0?(c="implicit map key",n?d.set(l+"-",new Map):d.set("",new Map),d.implicitMaps===void 0&&(d.implicitMaps=[]),d.implicitMaps.push(""),a(s.children[f],d.get(""))):(c="implicit null key",n?d.set(n+"-",null):d.set("",null),d.implicitNulls===void 0&&(d.implicitNulls=[]),d.implicitNulls.push(""))}else{let c=s.children[f].content,N="key";try{if(/^.*: +\[/.test(c)&&c[c.length-1]=="]")if(/: +\[ *\]$/.test(c)){let E=JSON.parse(`["${c.slice(0,-1*c.match(/: +\[ *\]$/)[0].length)}"]`)[0];n?d.set(l+"-"+E,[]):d.set(E,[]),s.children[f].children.length>0&&(n?a(s.children[f],d.get(l+"-"+E)):a(s.children[f],d.get(E)))}else{let E=new RegExp(/: +\[/g),A=c.slice(0,-1).split(E),y=c.match(E).concat([""]),h=A.map((S,x)=>S+y[x]),m="",w=[];for(let S=0,x=A.length;S<x;S++)try{let u;if(S==0?u=A[0]:u=h.slice(0,S).join("")+A[S],m=JSON.parse(`["${u}"]`)[0],N="list",w=JSON.parse(`[${h.slice(S+1).join("")}]`),Array.isArray(w))break}catch{if(S==x-2){let O=e.headless*-1+e.damonOriginalLinesMapping.indexOf(l-1)+2,C=new Error("Error line number "+(r+O)+": invalid inline list");throw C.line=r+O,C.language="DAMON",C}}if(w.every(function(S){return S===!0||S===!1||S===null||typeof S=="string"?!0:!!(isFinite(S)&&!isNaN(parseFloat(S))&&Number.isFinite(S*1)&&!Number.isNaN(S*1))}))n?d.set(l+"-"+m,w):d.set(m,w),d.damonInlineArrays===void 0&&(d.damonInlineArrays=[]),n?d.damonInlineArrays.push(l+"-"+m):d.damonInlineArrays.push(m);else{let S=+(e.headless*-1)+e.damonOriginalLinesMapping.indexOf(l-1)+2,x=new Error("Error line number "+(r+S)+": no nesting in inline lists");throw x.line=r+S,x.language="DAMON",x}if(s.children[f].children.length>0){let S=e.headless*-1+e.damonOriginalLinesMapping.indexOf(l-1)+3,x=new Error("Error line number "+(r+S)+": inline lists can't have children");throw x.line=r+S,x.language="DAMON",x}}else if(/: +\{ *\}$/.test(c)){let E=JSON.parse(`["${c.slice(0,-1*c.match(/: +\{ *\}$/)[0].length)}"]`)[0];n?(d.set(l+"-"+E,new Map),a(s.children[f],d.get(l+"-"+E))):(d.set(E,new Map),a(s.children[f],d.get(E)))}else{let E=!1;if(/^.*: /.test(c)&&c.split(new RegExp(/: +/))[c.split(new RegExp(/: +/)).length-1]==="true"){let A=c.match(new RegExp(/: +/g))[c.match(new RegExp(/: +/g)).length-1],y=JSON.parse(`["${c.slice(0,-1*A.length-4)}"]`)[0];n?d.set(l+"-"+y,!0):d.set(y,!0)}else if(/^.*: /.test(c)&&c.split(new RegExp(/: +/))[c.split(new RegExp(/: +/)).length-1]==="false"){let A=c.match(new RegExp(/: +/g))[c.match(new RegExp(/: +/g)).length-1],y=JSON.parse(`["${c.slice(0,-1*A.length-5)}"]`)[0];n?d.set(l+"-"+y,!1):d.set(y,!1)}else if(/^.*: /.test(c)&&c.split(new RegExp(/: +/))[c.split(new RegExp(/: +/)).length-1]==="null"){let A=c.match(new RegExp(/: +/g))[c.match(new RegExp(/: +/g)).length-1],y=JSON.parse(`["${c.slice(0,-1*A.length-4)}"]`)[0];n?d.set(l+"-"+y,null):d.set(y,null)}else if(/^.*: +"/.test(c)&&c[c.length-1]=='"'){let A=c.match(new RegExp(/: +"/g));if(A.length==1){let y=JSON.parse(`["${c.split(A[0])[0]}"]`)[0];N="string";let h=JSON.parse(`["${c.split(A[0]).slice(1).join("").slice(0,-1)}"]`)[0];n?d.set(l+"-"+y,h):d.set(y,h)}else if(A.length==2&&/: +"$/.test(c)){let y=JSON.parse(`["${c.split(A[0])[0]}"]`)[0];N="string";let h=JSON.parse(`["${c.split(A[0]).slice(1).join("")+": "}"]`)[0];n?d.set(l+"-"+y,h):d.set(y,h)}else{let y=+(e.headless*-1)+e.damonOriginalLinesMapping.indexOf(l-1)+2,h=new Error("Error line number "+(r+y)+": unescaped double quote");throw h.line=r+y,h.language="DAMON",h}}else if(/^.*: /.test(c)&&isFinite(c.split(": ")[c.split(": ").length-1])&&!isNaN(parseFloat(c.split(": ")[c.split(": ").length-1]))&&Number.isFinite(c.split(": ")[c.split(": ").length-1]*1)&&!Number.isNaN(c.split(": ")[c.split(": ").length-1]*1)){let A=JSON.parse(`["${c.split(": ").slice(0,-1).join(": ")}"]`)[0];N="number";let y=c.match(new RegExp(/: +/g)),h=y[y.length-1],m=c.split(h)[c.split(h).length-1];if(m.indexOf(0)==0&&m.length>1&&m.indexOf(".")!==1){let T=e.headless*-1+e.damonOriginalLinesMapping.indexOf(l-1)+2,S=new Error("Error line number "+(r+T)+": leading 0");throw S.line=r+T,S.language="DAMON",S}if(m.indexOf("_")>-1){let T=e.headless*-1+e.damonOriginalLinesMapping.indexOf(l-1)+2,S=new Error("Error line number "+(r+T)+": Numeric separator");throw S.line=r+T,S.language="DAMON",S}let w=JSON.parse(`[${c.split(": ")[c.split(": ").length-1]*1}]`)[0];n?d.set(l+"-"+A,w):d.set(A,w)}else if(/^.*: /.test(c)&&c.split(new RegExp(/: +/))[c.split(new RegExp(/: +/)).length-1]*1===1/0){let A=JSON.parse(`["${c.split(": ").slice(0,-1).join(": ")}"]`)[0];N="infinity";let y=JSON.parse(`[${c.split(": ")[c.split(": ").length-1]*1}]`)}else{let A=!1,y=0;if(/\[ *\]$/.test(c)&&(A=!0,y=c.match(new RegExp(/\[ *\]$/g))[0].length),/\{ *\}$/.test(c)&&(A=!0,y=c.match(new RegExp(/\{ *\}$/g))[0].length),/true$/.test(c)&&(A=!0,y=4),/false$/.test(c)&&(A=!0,y=5),/null$/.test(c)&&(A=!0,y=4),/".*"$/.test(c)&&(A=!0,y=c.match(new RegExp(/".*"$/g))[0].length),!A){let h="";for(let m=c.length-1;m>-1&&(h=c[m].concat(h),isFinite(h)&&!isNaN(parseFloat(h))&&Number.isFinite(h*1)&&!Number.isNaN(h*1));m--){if(!/[ \t]/.test(c[m]))break;(h.indexOf(0)==0&&h.length>1&&h.indexOf(".")!==1||h.indexOf("_")>-1)&&(A=!0,y=h.length)}}if(A)if(JSON.parse(`["${c.slice(0,-1*y)}"]`)[0],t.pedantic){let h=e.headless*-1+e.damonOriginalLinesMapping.indexOf(l),m=new Error("Error line number "+(r+h)+": missing separator");throw m.line=r+h,m.language="DAMON",m.errorType="pedantic",m}else if(E=!0,s.children[f].children.length>0){N="implicit map key";let h=JSON.parse(`["${c}"]`)[0];n?d.set(l+"-"+h,new Map):d.set(h,new Map),d.implicitMaps===void 0&&(d.implicitMaps=[]),n?(d.implicitMaps.push(l+"-"+h),a(s.children[f],d.get(l+"-"+h))):(d.implicitMaps.push(h),a(s.children[f],d.get(h)))}else{N="implicit null key";let h=JSON.parse(`["${c}"]`)[0];n?d.set(l+"-"+h,null):d.set(h,null),d.implicitNulls===void 0&&(d.implicitNulls=[]),n?d.implicitNulls.push(l+"-"+h):d.implicitNulls.push(h)}else{let h=JSON.parse(`["${c.slice(0,-1*y)}"]`)[0];if(t.pedantic)if(/: +$/.test(h)){let m=e.headless*-1+e.damonOriginalLinesMapping.indexOf(l),w=new Error("Error line number "+(r+m)+": bad value");throw w.line=r+m,w.language="DAMON",w.errorType="pedantic",w}else{let m=e.headless*-1+e.damonOriginalLinesMapping.indexOf(l),w=new Error("Error line number "+(r+m)+": missing separator");throw w.line=r+m,w.language="DAMON",w.errorType="pedantic",w}else if(E=!0,s.children[f].children.length>0){N="implicit map key";let m=JSON.parse(`["${c}"]`)[0];n?d.set(l+"-"+m,new Map):d.set(m,new Map),d.implicitMaps===void 0&&(d.implicitMaps=[]),n?(d.implicitMaps.push(l+"-"+m),a(s.children[f],d.get(l+"-"+m))):(d.implicitMaps.push(m),a(s.children[f],d.get(m)))}else{N="implicit null key";let m=JSON.parse(`["${c}"]`)[0];n?d.set(l+"-"+m,null):d.set(m,null),d.implicitNulls===void 0&&(d.implicitNulls=[]),n?d.implicitNulls.push(l+"-"+m):d.implicitNulls.push(m)}}}if(!E&&s.children[f].children.length>0){let A=e.headless*-1+e.damonOriginalLinesMapping.indexOf(l-1)+3,y=new Error("Error line number "+(r+A)+": missing container or excess indentation");throw y.line=r+A,y.language="DAMON",y}}}catch(E){if(E.language===void 0){let A=e.headless*-1+e.damonOriginalLinesMapping.indexOf(l-1)+2;console.error("Error line number "+(r+A)+": not JSON-compliant, detailed error follows"),E.line=r+A,E.language="JSON",E.type=N}throw E}}}function p(s,d){for(let f=0,g=s.children.length;f<g;f++)if(l++,s.children[f].content.length){let c=s.children[f].content;if(/^[ \t]*\[/.test(c)&&c[c.length-1]=="]")if(/^[ \t]*\[ *\]$/.test(c))d.push([]),a(s.children[f],d[d.length-1]);else{let N;try{N=JSON.parse(c)}catch{let y=e.headless*-1+e.damonOriginalLinesMapping.indexOf(l-1)+2,h=new Error("Error line number "+(r+y)+": invalid inline lists");throw h.line=r+y,h.language="JSON",h.type="list",h}if(N.every(function(A){return A===!0||A===!1||A===null||typeof A=="string"?!0:!!(isFinite(A)&&!isNaN(parseFloat(A))&&Number.isFinite(A*1)&&!Number.isNaN(A*1))}))d.push(N),d.damonInlineArrays===void 0&&(d.damonInlineArrays=[]),d.damonInlineArrays.push(f);else{let A=e.headless*-1+e.damonOriginalLinesMapping.indexOf(l-1)+2,y=new Error("Error line number "+(r+A)+": no nesting in inline lists");throw y.line=r+A,y.language="DAMON",y}if(s.children[f].children.length>0){let A=e.headless*-1+e.damonOriginalLinesMapping.indexOf(l-1)+3,y=new Error("Error line number "+(r+A)+": inline lists can't have children");throw y.line=r+A,y.language="DAMON",y}}else if(/^[ \t]*\{\}$/.test(c))d.push(new Map),a(s.children[f],d[d.length-1]);else if(/^[ \t]*true$/.test(c))d.push(!0);else if(/^[ \t]*false$/.test(c))d.push(!1);else if(/^[ \t]*null$/.test(c))d.push(null);else if(/^[ \t]*".*"$/.test(c))try{d.push(JSON.parse(`[${c.trimStart()}]`)[0])}catch(N){let E=e.headless*-1+e.damonOriginalLinesMapping.indexOf(l-1)+2;throw console.error("Error line number "+(r+E)+": not JSON-compliant, detailed error follows"),N.line=r+E,N.language="JSON",N.type="string",N}else if(isFinite(c)&&!isNaN(parseFloat(c))&&Number.isFinite(c*1)&&!Number.isNaN(c*1)){if(c.indexOf(0)==0&&c.length>1&&c.indexOf(".")!==1){let N=e.headless*-1+e.damonOriginalLinesMapping.indexOf(l-1)+2,E=new Error("Error line number "+(r+N)+": leading 0");throw E.line=r+N,E.language="DAMON",E}if(c.indexOf("_")>-1){let N=e.headless*-1+e.damonOriginalLinesMapping.indexOf(l-1)+2,E=new Error("Error line number "+(r+N)+": leading 0");throw E.line=r+N,E.language="DAMON",E}try{d.push(JSON.parse(`[${c*1}]`)[0])}catch(N){let E=e.headless*-1+e.damonOriginalLinesMapping.indexOf(l-1)+2;throw console.error("Error line number "+(r+E)+": not JSON-compliant, detailed error follows"),N.line=r+E,N.language="JSON",N.type="number",N}}else if(c*1===1/0)try{JSON.parse(c*1)}catch(N){let E=e.headless*-1+e.damonOriginalLinesMapping.indexOf(l-1)+2;throw console.error("Error line number "+(r+E)+": not JSON-compliant, detailed error follows"),N.line=r+E,N.language="JSON",N.type="infinity",N}else{let N=e.headless*-1+e.damonOriginalLinesMapping.indexOf(l-1)+2,E=new Error("Error line number "+(r+N)+": list items can't have a key");throw E.line=r+N,E.language="DAMON",E}}else{let c=e.headless*-1+e.damonOriginalLinesMapping.indexOf(l-1)+2,N=new Error("Error line number "+(r+c)+": empty list node");throw N.line=r+c,N.language="DAMON",N}}}mapToDamon(e,r,n){let t=this;var l="";if(Array.isArray(e))l+=`- []
`;else if(typeof e=="object"&&e!==null&&e instanceof Map&&e.constructor===Map)l+=`- {}
`;else return typeof e=="string"&&(e='"'+e+'"'),JSON.parse(e),e;if(a(e),t.damonToMap(l.slice(0,-1)),e.headless){let o=t._getLines(l);o=o.slice(1);for(let p=0,s=o.length;p<s;p++)o[p]=o[p].slice(4);return o.join(`
`).slice(0,-1)}return l.slice(0,-1);function a(o,p=1){if(typeof o=="object"&&o!==null&&!Array.isArray(o)&&o instanceof Map&&o.constructor===Map){let f=Array.from(o.keys()),g=!1;o.implicitNulls!==void 0&&o.implicitNulls.length===f.length&&(g=!0);for(let[c,N]of o){let E=c;if(n&&(E=E.split("-").slice(1).join("-")),typeof N=="object"&&N!==null)if(Array.isArray(N)){let A=0,y=N.filter(function(h){return h===!0||h===!1?!0:h===null?(A++,!0):typeof h=="string"?!0:!!(isFinite(h)&&!isNaN(parseFloat(h))&&Number.isFinite(h*1)&&!Number.isNaN(h*1))});if(N.length==y.length&&p*4+2+N.join(", ").length+A*4<=80||r&&o.damonInlineArrays!==void 0&&o.damonInlineArrays.indexOf(E)>-1){let h="["+N.map(function(m){return typeof m=="string"&&(m=JSON.stringify(m)),m}).join(", ")+"]";l+="    ".repeat(p)+"- "+JSON.stringify(E).slice(1,-1)+": "+h+`
`}else l+="    ".repeat(p)+"- "+JSON.stringify(E).slice(1,-1)+`: []
`,a(N,p+1)}else l+="    ".repeat(p)+"- "+JSON.stringify(E).slice(1,-1)+`: {}
`,a(N,p+1);else g?l+="    ".repeat(p)+"- "+JSON.stringify(E).slice(1,-1)+`
`:(l+="    ".repeat(p)+"- "+JSON.stringify(E).slice(1,-1)+": ",N===!0?l+=`true
`:N===!1?l+=`false
`:N===null?l+=`null
`:Number.isFinite(N)&&!Number.isNaN(N)?l+=N+`
`:l+=JSON.stringify(N)+`
`)}}else if(Array.isArray(o))for(var s=0,d=o.length;s<d;s++)if(typeof o[s]=="object"&&o[s]!==null)if(Array.isArray(o[s])){let f=0,g=o[s].filter(function(c){return c===!0||c===!1?!0:c===null?(f++,!0):typeof c=="string"?!0:!!(isFinite(c)&&!isNaN(parseFloat(c))&&Number.isFinite(c*1)&&!Number.isNaN(c*1))});if(o[s].length==g.length&&p*4+2+o[s].join(", ").length+f*4<=80||r&&o.damonInlineArrays!==void 0&&o.damonInlineArrays.indexOf(s)>-1){let c="["+o[s].map(function(N){return typeof N=="string"&&(N=JSON.stringify(N)),N}).join(", ")+"]";l+="    ".repeat(p)+"- "+c+`
`}else l+="    ".repeat(p)+`- []
`,a(o[s],p+1)}else l+="    ".repeat(p)+`- {}
`,a(o[s],p+1);else o[s]===!0?l+="    ".repeat(p)+`- true
`:o[s]===!1?l+="    ".repeat(p)+`- false
`:o[s]===null?l+="    ".repeat(p)+`- null
`:Number.isFinite(o[s])&&!Number.isNaN(o[s])?l+="    ".repeat(p)+"- "+o[s]+`
`:l+="    ".repeat(p)+"- "+JSON.stringify(o[s])+`
`}}mapToJSON(e){let r=this;var n="";if(Array.isArray(e))return n+=`[\r
`,t(e),n+="]",JSON.parse(n),n;return typeof e=="object"&&e!==null&&e instanceof Map&&e.constructor===Map?(n+=`{\r
`,t(e),n+="}",JSON.parse(n),n):(typeof e=="string"&&(e=JSON.stringify(e)),JSON.parse(e),e);function t(l,a=1){if(typeof l=="object"&&l!==null&&!Array.isArray(l)&&l instanceof Map&&l.constructor===Map)for(let[s,d]of l)typeof d=="object"&&d!==null?Array.isArray(d)?d.length>0?(n+="    ".repeat(a)+`${JSON.stringify(s)}: [\r
`,t(d,a+1),n+="    ".repeat(a)+"]"):n+="    ".repeat(a)+`${JSON.stringify(s)}: []`:Array.from(d.keys()).length>0?(n+="    ".repeat(a)+`${JSON.stringify(s)}: {\r
`,t(d,a+1),n+="    ".repeat(a)+"}"):n+="    ".repeat(a)+`${JSON.stringify(s)}: {}`:d===!0?n+="    ".repeat(a)+`${JSON.stringify(s)}: true`:d===!1?n+="    ".repeat(a)+`${JSON.stringify(s)}: false`:d===null?n+="    ".repeat(a)+`${JSON.stringify(s)}: null`:Number.isFinite(d)&&!Number.isNaN(d)?n+="    ".repeat(a)+`${JSON.stringify(s)}: `+d:n+="    ".repeat(a)+`${JSON.stringify(s)}: `+JSON.stringify(d),s!=Array.from(l.keys())[Array.from(l.keys()).length-1]?n+=`,\r
`:n+=`\r
`;else if(Array.isArray(l))for(var o=0,p=l.length;o<p;o++)typeof l[o]=="object"&&l[o]!==null?Array.isArray(l[o])?l[o].length>0?(n+="    ".repeat(a)+`[\r
`,t(l[o],a+1),n+="    ".repeat(a)+"]"):n+="    ".repeat(a)+"[]":Array.from(l[o].keys()).length>0?(n+="    ".repeat(a)+`{\r
`,t(l[o],a+1),n+="    ".repeat(a)+"}"):n+="    ".repeat(a)+"{}":l[o]===!0?n+="    ".repeat(a)+"true":l[o]===!1?n+="    ".repeat(a)+"false":l[o]===null?n+="    ".repeat(a)+"null":Number.isFinite(l[o])&&!Number.isNaN(l[o])?n+="    ".repeat(a)+l[o]:n+="    ".repeat(a)+JSON.stringify(l[o]),o!=p-1?n+=`,\r
`:n+=`\r
`}}getPathsList(e){let n=this.damonToMap(e),t=[];return l(n),t;function l(a,o=[]){if(typeof a=="object"&&a!==null&&!Array.isArray(a)&&a instanceof Map&&a.constructor===Map)for(let[p,s]of a)typeof s=="object"&&s!==null&&!Array.isArray(s)&&s instanceof Map&&s.constructor===Map&&Array.from(s.keys()).length?(t.push(o.concat(p)),l(s,o.concat([p]))):Array.isArray(s)&&(a.damonInlineArrays==null||a.damonInlineArrays.indexOf(p)===-1)&&s.length?(t.push(o.concat(p)),l(s,o.concat([p]))):t.push(o.concat(p).concat(s));else for(let p=0,s=a.length;p<s;p++)typeof a[p]=="object"&&a[p]!==null&&!Array.isArray(a[p])&&a[p]instanceof Map&&a[p].constructor===Map&&Array.from(a[p].keys()).length?(t.push(o.concat(p)),l(a[p],o.concat([p]))):Array.isArray(a[p])&&(a.damonInlineArrays==null||a.damonInlineArrays.indexOf(p)===-1)&&a[p].length?(t.push(o.concat(p)),l(a[p],o.concat([p]))):t.push(o.concat(a[p]))}}getRangeFromPath(e,r,n=0,t=!1,l=!1){let a=this,o=a.damonToMap(e,0,l),p=-1,s=!1;N(o,r);let d=a.mapIndexToLine(o,p),f=a._getLines(e)[d],g=0,c=f.length;if(l)for(let E=0,A=r.length;E<A;E++)typeof r[E]=="string"&&(r[E]=r[E].split("-").slice(1).join("-"));if(r.length===1)typeof r[r.length-1]=="string"?g=f.length-f.trimStart().slice(2+r[r.length-1].length+2).trimStart().length:g=f.length-f.trimStart().slice(2).length;else if(typeof r[r.length-2]=="string")if(typeof r[r.length-1]=="string")g=f.length-f.trimStart().slice(2+r[r.length-1].length+2).trimStart().length;else if(t){let E=f.trimStart().slice(2+r[r.length-2].length+2),A=JSON.parse(E),y="^( *\\[ *";for(let T=0,S=r[r.length-1]+1;T<S;T++){let x=""+A[T];typeof A[T]=="string"&&(x='"'+x+'"'),y+=x,T<S-1&&(y+=", *")}y+=")";let h=E.match(new RegExp(y))[1],m=A[r[r.length-1]],w=(""+m).length;typeof m=="string"&&(w+=2),g=f.length-E.length+h.length-w,c=g+w}else g=f.length-f.trimStart().slice(2).length;else if(typeof r[r.length-1]=="string")g=f.length-f.trimStart().slice(2+r[r.length-1].length+2).trimStart().length;else if(t){let E=f.trimStart().slice(2),A=JSON.parse(E),y="^( *\\[ *";for(let T=0,S=r[r.length-1]+1;T<S;T++){let x=""+A[T];typeof A[T]=="string"&&(x='"'+x+'"'),y+=x,T<S-1&&(y+=", *")}y+=")";let h=E.match(new RegExp(y))[1],m=A[r[r.length-1]],w=(""+m).length;typeof m=="string"&&(w+=2),g=f.length-E.length+h.length-w,c=g+w}else g=f.length-f.trimStart().slice(2).length;return[[d+n,g],[d+n,c]];function N(E,A,y=[]){if(p+=1,typeof E=="object"&&E!==null&&!Array.isArray(E)&&E instanceof Map&&E.constructor===Map)for(let[h,m]of E){if(s===!0)return;if(p+=1,JSON.stringify(A)===JSON.stringify(y.concat([h]))){s=!0;return}if(typeof m=="object"&&m!==null&&!Array.isArray(m)&&m instanceof Map&&m.constructor===Map&&Array.from(m.keys()).length)p-=1,N(m,A,y.concat([h]));else if(Array.isArray(m)&&m.length){if(E.damonInlineArrays==null||E.damonInlineArrays.indexOf(h)===-1)p-=1,N(m,A,y.concat([h]));else if(JSON.stringify(A.slice(0,-1))===JSON.stringify(y.concat([h]))){s=!0;return}}}else for(let h=0,m=E.length;h<m;h++){if(s==!0)return;if(p+=1,JSON.stringify(A)===JSON.stringify(y.concat([h]))){s=!0;return}if(typeof E[h]=="object"&&E[h]!==null&&!Array.isArray(E[h])&&E[h]instanceof Map&&E[h].constructor===Map&&Array.from(E[h].keys()).length)p-=1,N(E[h],A,y.concat([h]));else if(Array.isArray(E[h])&&E[h].length){if(E.damonInlineArrays==null||E.damonInlineArrays.indexOf(h)===-1)p-=1,N(E[h],A,y.concat([h]));else if(JSON.stringify(A.slice(0,-1))===JSON.stringify(y.concat([h]))){s=!0;return}}}}}getTokenFromCoordinates(e,r){let n=this,t={},l=n._getLines(e).slice(0,r[0]);if(l[r[0]-1]=="")return t.type="newline",t.path=null,t.range=[r,r],t;if(/^[ \t]+$/.test(l[r[0]-1]))return t.type="indentation",t.path=null,t.range=[[r[0],1],[r[0],l[l.length-1].length]],t;if(/^[ \t]+/.test(l[r[0]-1].slice(0,r[1]-1))&&(t.type="indentation",t.range=[[r[0],1],[r[0],l[r[0]-1].match(/^[ \t]+/)[0].length]]),/^ *\/\//.test(l[r[0]-1]))return t.type=="indentation"?(t.path=null,t):(t.type="comment",t.path=null,t.range=[[[r[0],l[r[0]-1].split("//")[0].length]],[[r[0],l[r[0]-1].length]]],t);if(l.length==1)try{let g=JSON.parse(e);if(g===!0||g===!1||g===null||typeof g=="string"||typeof g=="number"){let c=e.match(/^ */)[0].length,N=e.match(/ *$/)[0].length;return t.type="null",typeof g!="object"&&(t.type=typeof g),t.path=null,t.range=[[0,c],[0,e.length-N]],t}}catch{}let a=n.damonToMap(l.join(`
`)),o=Array.from(a.keys()),p=[],s=[];for(;o.length;){let g=o[o.length-1];if(p.push(g),typeof a=="object"&&a!==null&&!Array.isArray(a)&&a instanceof Map&&a.constructor===Map?(s.push(a),a=a.get(g)):Array.isArray(a)&&(s.push(a),a=a[g]),a===!0||a===!1||a===null||typeof a=="string"||typeof a=="number")break;o=Array.from(a.keys())}t.path=p;let d=[],f=s[s.length-2];if(f&&f.damonInlineArrays.length&&f.damonInlineArrays.indexOf(p[p.length-2])!==-1?d=n.getRangeFromPath(e,p,0,!0):d=n.getRangeFromPath(e,p),typeof p[p.length-1]=="string")if(r[1]<d[0][1]){let g=l[r[0]-1].slice(0,-1*(d[1][1]-d[0][1])-1).length;if(r[1]<g){let c=l[r[0]-1].match(/^[ \t]+/)[0].length+3;r[1]>=c?(t.type="property",t.range=[[r[0],c],[r[0],g]]):(t.type="hyphen",t.range=[[r[0],c-2],[r[0],c-1]])}else t.type="separator",t.range=[[r[0],g+1],[r[0],d[0][1]-1]]}else t.type="?",t.range=d;else if(r[1]<d[0][1]){t.type="hyphen";let g=l[r[0]-1].match(/^[ \t]+/)[0].length+1;t.range=[[r[0],g],[r[0],g+1]]}else t.type="?",t.range=d;return t}mapIndexToLine(e,r){let n=0,t=0;e.headless&&(r-=1);for(let l=0,a=e.damonOriginalLinesMapping.length;l<a;l++)if(e.damonOriginalLinesMapping[l]!==null&&t++,t==r){n=l+1;break}return n}getRangesMap(e,r,n=0,t=!1){let l=this,a=l._getLines(e),o=new Map;return p(r,[],o),o;function p(s,d=[],f,g=!1){if(typeof s=="object"&&s!==null&&!Array.isArray(s)&&s instanceof Map&&s.constructor===Map)for(let[c,N]of s)if(typeof N=="object"&&N!==null&&!Array.isArray(N)&&N instanceof Map&&N.constructor===Map&&Array.from(N.keys()).length){let E=l.getRangeFromPath(e,d.concat(c),n,!1,t),A=a[E[0][0]-n].match("^([ 	]*)")[1].length+2,y=t?c.length-(c.split("-")[0].length+1):c.length,h=[[E[0][0],A],[E[0][0],A+y]],m=JSON.stringify(h);f.set(m,new Map),p(N,d.concat([c]),f.get(m))}else if(Array.isArray(N)&&N.length){let E=[];E=l.getRangeFromPath(e,d.concat(c),n,!1,t);let A=a[E[0][0]-n].match("^([ 	]*)")[1].length+2,y=t?c.length-(c.split("-")[0].length+1):c.length,h=[[E[0][0],A],[E[0][0],A+y]],m=JSON.stringify(h);f.set(m,new Map),s.damonInlineArrays!==void 0&&s.damonInlineArrays.indexOf(c)>-1?p(N,d.concat([c]),f.get(m),!0):p(N,d.concat([c]),f.get(m))}else if(g){let E=l.getRangeFromPath(e,d.concat(c),n,!1),A=a[E[0][0]-n].match("^([ 	]*)")[1].length+2,y=t?c.length-(c.split("-")[0].length+1):c.length,h=[[E[0][0],A],[E[0][0],A+y]],m=JSON.stringify(h);f.set(m,JSON.stringify(l.getRangeFromPath(e,d.concat(c),n,!1,t)))}else{let E=l.getRangeFromPath(e,d.concat(c),n,!1,t),A=a[E[0][0]-n].match("^([ 	]*)")[1].length+2,y=t?c.length-(c.split("-")[0].length+1):c.length,h=[[E[0][0],A],[E[0][0],A+y]],m=JSON.stringify(h);f.set(m,JSON.stringify(l.getRangeFromPath(e,d.concat(c),n,!1,t)))}else for(let c=0,N=s.length;c<N;c++)if(typeof s[c]=="object"&&s[c]!==null&&!Array.isArray(s[c])&&s[c]instanceof Map&&s[c].constructor===Map&&Array.from(s[c].keys()).length){let E=JSON.stringify(l.getRangeFromPath(e,d.concat(c),n,!1,t));f.set(E,new Map),p(s[c],d.concat([c]),f.get(E))}else if(Array.isArray(s[c])&&s[c].length){let E="";E=JSON.stringify(l.getRangeFromPath(e,d.concat(c),n,!1,t)),f.set(E,new Map),s.damonInlineArrays!==void 0&&s.damonInlineArrays.indexOf(c)>-1?p(s[c],d.concat([c]),f.get(E),!0):p(s[c],d.concat([c]),f.get(E))}else if(g){let E=JSON.stringify(l.getRangeFromPath(e,d.concat(c),n,!0,t));f.set(E,JSON.stringify(l.getRangeFromPath(e,d.concat(c),n,!0,t)))}else{let E=JSON.stringify(l.getRangeFromPath(e,d.concat(c),n,!1,t));f.set(E,JSON.stringify(l.getRangeFromPath(e,d.concat(c),n,!1,t)))}}}}});var at=se((Vn,wr)=>{wr.exports=class{constructor(e){let r=this;this.parent=e,this.itemHeight=parseFloat(getComputedStyle(this.parent.editor).getPropertyValue("--fontSize"))*parseFloat(getComputedStyle(this.parent.editor).getPropertyValue("--lineHeight")),this.viewportHeight=this.parent.editor.getBoundingClientRect().height,this.viewable=Math.ceil(r.viewportHeight/r.itemHeight),this.maxCounter=this.parent.textarea.value.split(`
`).length,this.buffer=r.viewable*2,this.visibleNodesCount=r.viewable+r.buffer,this.lastScrollTop=void 0,this.lastStart=void 0,this.active=!1}inputHandler(e){let r=this;r.parent.textarea.value.split(`
`).length<=r.visibleNodesCount?(r.parent.gutter.innerHTML="",r.init(0)):(r.parent.gutter.innerHTML="",r.init(r.getStartNode(r.parent.textarea.value.split(`
`).length)))}scrollHandler(){let e=this;e.maxCounter<e.visibleNodesCount?e.lastScrollTop!==e.parent.editor.scrollTop?(e.parent.editor.style.setProperty("--scrollbarPadding","0px"),e.init(0)):(e.parent.editor.style.setProperty("--scrollbarPadding","0px"),e.parent.gutter.style.transform="translate("+e.parent.editor.scrollLeft+"px, "+0*e.itemHeight+"px)",e.parent.overlay.firstElementChild.style.transform="translate(0px, "+0*e.itemHeight+"px)"):e.lastScrollTop!==e.parent.editor.scrollTop?(e.active=!0,e.parent.editor.style.setProperty("--scrollbarPadding","var(--textareaPadding) * 4"),e.update(e.getStartNode(e.maxCounter))):(e.parent.gutter.style.transform="translate("+e.parent.editor.scrollLeft+"px, "+e.getStartNode(e.maxCounter)*e.itemHeight+"px)",e.parent.overlay.firstElementChild.style.transform="translate(0px, "+e.getStartNode(e.maxCounter)*e.itemHeight+"px)")}init(e){let r=this;r.parent.textarea.style.height=(r.parent.textarea.value.split(`
`).length+1)*r.itemHeight+"px",r.resetProperties(),e>r.maxCounter-r.visibleNodesCount&&(r.maxCounter-r.visibleNodesCount>0?e=r.maxCounter-r.visibleNodesCount:e=0);let n=Math.max(1,Math.min(r.maxCounter-e,r.visibleNodesCount));if(r.parent.gutter.innerHTML==="")for(let p=e;p<e+n;p++){let s=document.createElement("div"),d=document.createElement("span"),f=(r.maxCounter+"").length,g=(p+1+"").length,c=f-g;d.textContent=" ".repeat(c)+(p+1),s.appendChild(d),r.parent.gutter.appendChild(s)}else{let p=0;for(let s=e;s<e+n;s++){let d=document.createElement("div"),f=document.createElement("span"),g=(r.maxCounter+"").length,c=(s+1+"").length,N=g-c;f.textContent=" ".repeat(N)+(s+1),d.appendChild(f),d.outerHTML!==r.parent.gutter.children[p].outerHTML&&r.parent.gutter.children[p].replaceWith(d),p++}}r.parent.gutter.style.transform="translate("+r.parent.editor.scrollLeft+"px, "+e*r.itemHeight+"px)",r.parent.overlay.firstElementChild.style.transform="translate(0px, "+e*r.itemHeight+"px)",r.lastStart=e,r.lastScrollTop=r.parent.editor.scrollTop,r.maxCounter>=r.visibleNodesCount&&(r.active=!0),r.setGutterWidth(),r.parent.updateCurrentLine(!0);let t=r.parent.textarea.value.split(`
`);r.parent.textarea.rows=t.length+1,r.parent.textarea.cols=t.map(p=>p.length).reduce(function(p,s){return Math.max(p,s)});let l=r.parent.textarea.value.replaceAll(/&amp;/g,"&").replaceAll(/&lt;/g,"<").replaceAll(/&gt;/g,">"),a=[`<span class="token lf">
</span>`],o=r.parent.lastTextareaValue.split(`
`);l!=""&&(a=r.parent.prism.highlight(l+`
`,r.parent.prism.languages.damon,"damon").replace(/<span>\n<\/span>$/,"").split(`
`).map(p=>p.replace(/^<\/span>/,"")+`
</span>`));for(let p=e,s=e+n;p<s;p++){let d=document.createElement("span"),f=0;d.classList.add("space-line"),d.innerHTML=a[p];for(let g=0,c=d.childNodes.length;g<c;g++)if(d.childNodes[g].tagName&&d.childNodes[g].textContent==" ")f++,f==4&&(f=0,d.children[g-3].classList.add("indent-guide"));else{f=0;break}(!r.parent.initialized||o[p]==null||o[p]!=t[p]||r.parent.overlay.firstElementChild.children[p-e]!=null&&d.innerHTML!=r.parent.overlay.firstElementChild.children[p-e].innerHTML)&&(o[p]==null||!r.parent.initialized?(r.parent.overlay.firstElementChild.appendChild(d),r.parent.overlay.firstElementChild.children.length>n+1&&r.parent.overlay.firstElementChild.firstElementChild.remove()):r.parent.overlay.firstElementChild.replaceChild(d,r.parent.overlay.firstElementChild.children[p-e]))}if(r.parent.overlay.firstElementChild.children.length>n)for(let p=n,s=r.parent.overlay.firstElementChild.children.length;p<s;p++)r.parent.overlay.firstElementChild.lastElementChild.remove()}getStartNode(e){let r=this,n=Math.floor(r.parent.editor.scrollTop/r.itemHeight)-r.viewable;return n=Math.min(Math.max(0,n),Math.max(0,e-r.buffer)),n}resetProperties(){let e=this;e.viewportHeight=e.parent.editor.getBoundingClientRect().height,e.viewable=Math.ceil(e.viewportHeight/e.itemHeight),e.maxCounter=e.parent.textarea.value.split(`
`).length,e.buffer=e.viewable*2,e.visibleNodesCount=e.viewable+e.buffer,e.active=!1}update(e){let r=this;requestAnimationFrame((function(){if(r.resetProperties(),r.parent.gutter.firstElementChild)if(r.lastScrollTop!=r.parent.editor.scrollTop)e>r.maxCounter-r.visibleNodesCount&&(r.maxCounter-r.visibleNodesCount>0?e=r.maxCounter-r.visibleNodesCount:e=0),r.diffItems(e,r.visibleNodesCount),r.parent.gutter.style.transform="translate("+r.parent.editor.scrollLeft+"px, "+e*r.itemHeight+"px)",r.parent.overlay.firstElementChild.style.transform="translate(0px, "+e*r.itemHeight+"px)",r.lastScrollTop=r.parent.editor.scrollTop;else if(/^translate\(.+px, .+px\)$/.test(r.parent.gutter.style.transform))r.parent.gutter.style.transform="translate("+r.parent.editor.scrollLeft+"px, "+r.parent.gutter.style.transform.split(", ")[1];else throw new Error("You need to update this regex.");r.setGutterWidth(),r.parent.updateCurrentLine(!0)}))}diffItems(e,r){let n=this;if(n.lastStart!=e){if(n.lastStart<e){let t=Math.min(r,Math.abs(e-n.lastStart));for(let s=0,d=t;s<d;s++)n.parent.gutter.firstElementChild.remove();for(let s=e+r-t;s<e+r;s++){let d=document.createElement("div"),f=document.createElement("span"),g=(n.maxCounter+"").length,c=(s+1+"").length,N=g-c;f.textContent=" ".repeat(N)+(s+1),d.appendChild(f),n.parent.gutter.appendChild(d)}let l=n.parent.textarea.value.split(`
`);n.parent.textarea.rows=l.length+1,n.parent.textarea.cols=l.map(s=>s.length).reduce(function(s,d){return Math.max(s,d)});let a=n.parent.textarea.value.replaceAll(/&amp;/g,"&").replaceAll(/&lt;/g,"<").replaceAll(/&gt;/g,">"),o=n.parent.prism.highlight(a+`
`,n.parent.prism.languages.damon,"damon").replace(/<span>\n<\/span>$/,"").split(`
`).map(s=>s.replace(/^<\/span>/,"")+`
</span>`),p=n.parent.lastTextareaValue.split(`
`);for(let s=0,d=t;s<d;s++)n.parent.overlay.firstElementChild.firstElementChild.remove();for(let s=e+r-t;s<e+r;s++){let d=document.createElement("span"),f=0;d.classList.add("space-line"),d.innerHTML=o[s];for(let g=0,c=d.childNodes.length;g<c;g++)if(d.childNodes[g].tagName&&d.childNodes[g].textContent==" ")f++,f==4&&(f=0,d.children[g-3].classList.add("indent-guide"));else{f=0;break}n.parent.overlay.firstElementChild.appendChild(d)}}else{let t=Math.min(r,Math.abs(n.lastStart-e));for(let f=0,g=t;f<g;f++)n.parent.gutter.lastElementChild.remove();let l=document.createDocumentFragment();for(let f=e;f<e+t;f++){let g=document.createElement("div"),c=document.createElement("span"),N=(n.maxCounter+"").length,E=(f+1+"").length,A=N-E;c.textContent=" ".repeat(A)+(f+1),g.appendChild(c),l.appendChild(g)}n.parent.gutter.insertBefore(l,n.parent.gutter.firstElementChild);let a=n.parent.textarea.value.split(`
`);n.parent.textarea.rows=a.length+1,n.parent.textarea.cols=a.map(f=>f.length).reduce(function(f,g){return Math.max(f,g)});let o=n.parent.textarea.value.replaceAll(/&amp;/g,"&").replaceAll(/&lt;/g,"<").replaceAll(/&gt;/g,">"),p=n.parent.prism.highlight(o+`
`,n.parent.prism.languages.damon,"damon").replace(/<span>\n<\/span>$/,"").split(`
`).map(f=>f.replace(/^<\/span>/,"")+`
</span>`),s=n.parent.lastTextareaValue.split(`
`);for(let f=0,g=t;f<g;f++)n.parent.overlay.firstElementChild.lastElementChild.remove();let d=document.createDocumentFragment();for(let f=e;f<e+t;f++){let g=document.createElement("span"),c=0;g.classList.add("space-line"),g.innerHTML=p[f];for(let N=0,E=g.childNodes.length;N<E;N++)if(g.childNodes[N].tagName&&g.childNodes[N].textContent==" ")c++,c==4&&(c=0,g.children[N-3].classList.add("indent-guide"));else{c=0;break}d.appendChild(g)}n.parent.overlay.firstElementChild.insertBefore(d,n.parent.overlay.firstElementChild.firstElementChild)}n.lastStart=e}}setGutterWidth(){let e=this,r=e.parent.gutter.children[0].children[0].getBoundingClientRect().width,n=parseFloat(getComputedStyle(e.parent.editor).getPropertyValue("--gutterWidth"));r>n?(e.parent.gutter.style.width=r+"px",e.parent.container.style.left=r+"px"):(e.parent.gutter.style.width="",e.parent.container.style.left="")}}});var Mr=se((Wn,Hr)=>{"use strict";var{entries:Dr,setPrototypeOf:Sr,isFrozen:hn,getPrototypeOf:pn,getOwnPropertyDescriptor:gn}=Object,{freeze:Z,seal:te,create:ht}=Object,{apply:pt,construct:gt}=typeof Reflect<"u"&&Reflect;Z||(Z=function(e){return e});te||(te=function(e){return e});pt||(pt=function(e,r){for(var n=arguments.length,t=new Array(n>2?n-2:0),l=2;l<n;l++)t[l-2]=arguments[l];return e.apply(r,t)});gt||(gt=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),t=1;t<r;t++)n[t-1]=arguments[t];return new e(...n)});var Ue=Q(Array.prototype.forEach),mn=Q(Array.prototype.lastIndexOf),Tr=Q(Array.prototype.pop),Se=Q(Array.prototype.push),yn=Q(Array.prototype.splice),Be=Q(String.prototype.toLowerCase),st=Q(String.prototype.toString),ot=Q(String.prototype.match),Te=Q(String.prototype.replace),En=Q(String.prototype.indexOf),xn=Q(String.prototype.trim),re=Q(Object.prototype.hasOwnProperty),X=Q(RegExp.prototype.test),Ce=Nn(TypeError);function Q(i){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),t=1;t<r;t++)n[t-1]=arguments[t];return pt(i,e,n)}}function Nn(i){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return gt(i,r)}}function I(i,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Be;Sr&&Sr(i,null);let n=e.length;for(;n--;){let t=e[n];if(typeof t=="string"){let l=r(t);l!==t&&(hn(e)||(e[n]=l),t=l)}i[t]=!0}return i}function An(i){for(let e=0;e<i.length;e++)re(i,e)||(i[e]=null);return i}function oe(i){let e=ht(null);for(let[r,n]of Dr(i))re(i,r)&&(Array.isArray(n)?e[r]=An(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=oe(n):e[r]=n);return e}function Oe(i,e){for(;i!==null;){let n=gn(i,e);if(n){if(n.get)return Q(n.get);if(typeof n.value=="function")return Q(n.value)}i=pn(i)}function r(){return null}return r}var Cr=Z(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ft=Z(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ct=Z(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),bn=Z(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ut=Z(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),wn=Z(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Or=Z(["#text"]),Lr=Z(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),dt=Z(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),_r=Z(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Je=Z(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Sn=te(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Tn=te(/<%[\w\W]*|[\w\W]*%>/gm),Cn=te(/\$\{[\w\W]*/gm),On=te(/^data-[\-\w.\u00B7-\uFFFF]+$/),Ln=te(/^aria-[\-\w]+$/),kr=te(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),_n=te(/^(?:\w+script|data):/i),vn=te(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ir=te(/^html$/i),Rn=te(/^[a-z][.\w]*(-[.\w]+)+$/i),vr=Object.freeze({__proto__:null,ARIA_ATTR:Ln,ATTR_WHITESPACE:vn,CUSTOM_ELEMENT:Rn,DATA_ATTR:On,DOCTYPE_NAME:Ir,ERB_EXPR:Tn,IS_ALLOWED_URI:kr,IS_SCRIPT_OR_DATA:_n,MUSTACHE_EXPR:Sn,TMPLIT_EXPR:Cn}),Le={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Dn=function(){return typeof window>"u"?null:window},kn=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null,t="data-tt-policy-suffix";r&&r.hasAttribute(t)&&(n=r.getAttribute(t));let l="dompurify"+(n?"#"+n:"");try{return e.createPolicy(l,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}},Rr=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function $r(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Dn(),e=R=>$r(R);if(e.version="3.3.0",e.removed=[],!i||!i.document||i.document.nodeType!==Le.document||!i.Element)return e.isSupported=!1,e;let{document:r}=i,n=r,t=n.currentScript,{DocumentFragment:l,HTMLTemplateElement:a,Node:o,Element:p,NodeFilter:s,NamedNodeMap:d=i.NamedNodeMap||i.MozNamedAttrMap,HTMLFormElement:f,DOMParser:g,trustedTypes:c}=i,N=p.prototype,E=Oe(N,"cloneNode"),A=Oe(N,"remove"),y=Oe(N,"nextSibling"),h=Oe(N,"childNodes"),m=Oe(N,"parentNode");if(typeof a=="function"){let R=r.createElement("template");R.content&&R.content.ownerDocument&&(r=R.content.ownerDocument)}let w,T="",{implementation:S,createNodeIterator:x,createDocumentFragment:u,getElementsByTagName:O}=r,{importNode:C}=n,_=Rr();e.isSupported=typeof Dr=="function"&&typeof m=="function"&&S&&S.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:D,ERB_EXPR:$,TMPLIT_EXPR:F,DATA_ATTR:k,ARIA_ATTR:H,IS_SCRIPT_OR_DATA:U,ATTR_WHITESPACE:J,CUSTOM_ELEMENT:V}=vr,{IS_ALLOWED_URI:j}=vr,z=null,yt=I({},[...Cr,...ft,...ct,...ut,...Or]),q=null,Et=I({},[...Lr,...dt,..._r,...Je]),P=Object.seal(ht(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ae=null,Pe=null,ue=Object.seal(ht(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}})),xt=!0,ze=!0,Nt=!1,At=!0,de=!1,_e=!0,fe=!1,Ge=!1,Ve=!1,he=!1,ve=!1,Re=!1,bt=!0,wt=!1,Gr="user-content-",We=!0,be=!1,pe={},ge=null,St=I({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Tt=null,Ct=I({},["audio","video","img","source","image","track"]),qe=null,Ot=I({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),De="http://www.w3.org/1998/Math/MathML",ke="http://www.w3.org/2000/svg",ie="http://www.w3.org/1999/xhtml",me=ie,Ye=!1,Ke=null,Vr=I({},[De,ke,ie],st),Ie=I({},["mi","mo","mn","ms","mtext"]),$e=I({},["annotation-xml"]),Wr=I({},["title","style","font","a","script"]),we=null,qr=["application/xhtml+xml","text/html"],Yr="text/html",W=null,ye=null,Kr=r.createElement("form"),Lt=function(b){return b instanceof RegExp||b instanceof Function},Xe=function(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ye&&ye===b)){if((!b||typeof b!="object")&&(b={}),b=oe(b),we=qr.indexOf(b.PARSER_MEDIA_TYPE)===-1?Yr:b.PARSER_MEDIA_TYPE,W=we==="application/xhtml+xml"?st:Be,z=re(b,"ALLOWED_TAGS")?I({},b.ALLOWED_TAGS,W):yt,q=re(b,"ALLOWED_ATTR")?I({},b.ALLOWED_ATTR,W):Et,Ke=re(b,"ALLOWED_NAMESPACES")?I({},b.ALLOWED_NAMESPACES,st):Vr,qe=re(b,"ADD_URI_SAFE_ATTR")?I(oe(Ot),b.ADD_URI_SAFE_ATTR,W):Ot,Tt=re(b,"ADD_DATA_URI_TAGS")?I(oe(Ct),b.ADD_DATA_URI_TAGS,W):Ct,ge=re(b,"FORBID_CONTENTS")?I({},b.FORBID_CONTENTS,W):St,Ae=re(b,"FORBID_TAGS")?I({},b.FORBID_TAGS,W):oe({}),Pe=re(b,"FORBID_ATTR")?I({},b.FORBID_ATTR,W):oe({}),pe=re(b,"USE_PROFILES")?b.USE_PROFILES:!1,xt=b.ALLOW_ARIA_ATTR!==!1,ze=b.ALLOW_DATA_ATTR!==!1,Nt=b.ALLOW_UNKNOWN_PROTOCOLS||!1,At=b.ALLOW_SELF_CLOSE_IN_ATTR!==!1,de=b.SAFE_FOR_TEMPLATES||!1,_e=b.SAFE_FOR_XML!==!1,fe=b.WHOLE_DOCUMENT||!1,he=b.RETURN_DOM||!1,ve=b.RETURN_DOM_FRAGMENT||!1,Re=b.RETURN_TRUSTED_TYPE||!1,Ve=b.FORCE_BODY||!1,bt=b.SANITIZE_DOM!==!1,wt=b.SANITIZE_NAMED_PROPS||!1,We=b.KEEP_CONTENT!==!1,be=b.IN_PLACE||!1,j=b.ALLOWED_URI_REGEXP||kr,me=b.NAMESPACE||ie,Ie=b.MATHML_TEXT_INTEGRATION_POINTS||Ie,$e=b.HTML_INTEGRATION_POINTS||$e,P=b.CUSTOM_ELEMENT_HANDLING||{},b.CUSTOM_ELEMENT_HANDLING&&Lt(b.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(P.tagNameCheck=b.CUSTOM_ELEMENT_HANDLING.tagNameCheck),b.CUSTOM_ELEMENT_HANDLING&&Lt(b.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(P.attributeNameCheck=b.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),b.CUSTOM_ELEMENT_HANDLING&&typeof b.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(P.allowCustomizedBuiltInElements=b.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),de&&(ze=!1),ve&&(he=!0),pe&&(z=I({},Or),q=[],pe.html===!0&&(I(z,Cr),I(q,Lr)),pe.svg===!0&&(I(z,ft),I(q,dt),I(q,Je)),pe.svgFilters===!0&&(I(z,ct),I(q,dt),I(q,Je)),pe.mathMl===!0&&(I(z,ut),I(q,_r),I(q,Je))),b.ADD_TAGS&&(typeof b.ADD_TAGS=="function"?ue.tagCheck=b.ADD_TAGS:(z===yt&&(z=oe(z)),I(z,b.ADD_TAGS,W))),b.ADD_ATTR&&(typeof b.ADD_ATTR=="function"?ue.attributeCheck=b.ADD_ATTR:(q===Et&&(q=oe(q)),I(q,b.ADD_ATTR,W))),b.ADD_URI_SAFE_ATTR&&I(qe,b.ADD_URI_SAFE_ATTR,W),b.FORBID_CONTENTS&&(ge===St&&(ge=oe(ge)),I(ge,b.FORBID_CONTENTS,W)),We&&(z["#text"]=!0),fe&&I(z,["html","head","body"]),z.table&&(I(z,["tbody"]),delete Ae.tbody),b.TRUSTED_TYPES_POLICY){if(typeof b.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ce('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof b.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ce('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=b.TRUSTED_TYPES_POLICY,T=w.createHTML("")}else w===void 0&&(w=kn(c,t)),w!==null&&typeof T=="string"&&(T=w.createHTML(""));Z&&Z(b),ye=b}},_t=I({},[...ft,...ct,...bn]),vt=I({},[...ut,...wn]),Xr=function(b){let L=m(b);(!L||!L.tagName)&&(L={namespaceURI:me,tagName:"template"});let v=Be(b.tagName),B=Be(L.tagName);return Ke[b.namespaceURI]?b.namespaceURI===ke?L.namespaceURI===ie?v==="svg":L.namespaceURI===De?v==="svg"&&(B==="annotation-xml"||Ie[B]):!!_t[v]:b.namespaceURI===De?L.namespaceURI===ie?v==="math":L.namespaceURI===ke?v==="math"&&$e[B]:!!vt[v]:b.namespaceURI===ie?L.namespaceURI===ke&&!$e[B]||L.namespaceURI===De&&!Ie[B]?!1:!vt[v]&&(Wr[v]||!_t[v]):!!(we==="application/xhtml+xml"&&Ke[b.namespaceURI]):!1},ne=function(b){Se(e.removed,{element:b});try{m(b).removeChild(b)}catch{A(b)}},ce=function(b,L){try{Se(e.removed,{attribute:L.getAttributeNode(b),from:L})}catch{Se(e.removed,{attribute:null,from:L})}if(L.removeAttribute(b),b==="is")if(he||ve)try{ne(L)}catch{}else try{L.setAttribute(b,"")}catch{}},Rt=function(b){let L=null,v=null;if(Ve)b="<remove></remove>"+b;else{let G=ot(b,/^[\r\n\t ]+/);v=G&&G[0]}we==="application/xhtml+xml"&&me===ie&&(b='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+b+"</body></html>");let B=w?w.createHTML(b):b;if(me===ie)try{L=new g().parseFromString(B,we)}catch{}if(!L||!L.documentElement){L=S.createDocument(me,"template",null);try{L.documentElement.innerHTML=Ye?T:B}catch{}}let K=L.body||L.documentElement;return b&&v&&K.insertBefore(r.createTextNode(v),K.childNodes[0]||null),me===ie?O.call(L,fe?"html":"body")[0]:fe?L.documentElement:K},Dt=function(b){return x.call(b.ownerDocument||b,b,s.SHOW_ELEMENT|s.SHOW_COMMENT|s.SHOW_TEXT|s.SHOW_PROCESSING_INSTRUCTION|s.SHOW_CDATA_SECTION,null)},Ze=function(b){return b instanceof f&&(typeof b.nodeName!="string"||typeof b.textContent!="string"||typeof b.removeChild!="function"||!(b.attributes instanceof d)||typeof b.removeAttribute!="function"||typeof b.setAttribute!="function"||typeof b.namespaceURI!="string"||typeof b.insertBefore!="function"||typeof b.hasChildNodes!="function")},kt=function(b){return typeof o=="function"&&b instanceof o};function le(R,b,L){Ue(R,v=>{v.call(e,b,L,ye)})}let It=function(b){let L=null;if(le(_.beforeSanitizeElements,b,null),Ze(b))return ne(b),!0;let v=W(b.nodeName);if(le(_.uponSanitizeElement,b,{tagName:v,allowedTags:z}),_e&&b.hasChildNodes()&&!kt(b.firstElementChild)&&X(/<[/\w!]/g,b.innerHTML)&&X(/<[/\w!]/g,b.textContent)||b.nodeType===Le.progressingInstruction||_e&&b.nodeType===Le.comment&&X(/<[/\w]/g,b.data))return ne(b),!0;if(!(ue.tagCheck instanceof Function&&ue.tagCheck(v))&&(!z[v]||Ae[v])){if(!Ae[v]&&Ht(v)&&(P.tagNameCheck instanceof RegExp&&X(P.tagNameCheck,v)||P.tagNameCheck instanceof Function&&P.tagNameCheck(v)))return!1;if(We&&!ge[v]){let B=m(b)||b.parentNode,K=h(b)||b.childNodes;if(K&&B){let G=K.length;for(let ee=G-1;ee>=0;--ee){let ae=E(K[ee],!0);ae.__removalCount=(b.__removalCount||0)+1,B.insertBefore(ae,y(b))}}}return ne(b),!0}return b instanceof p&&!Xr(b)||(v==="noscript"||v==="noembed"||v==="noframes")&&X(/<\/no(script|embed|frames)/i,b.innerHTML)?(ne(b),!0):(de&&b.nodeType===Le.text&&(L=b.textContent,Ue([D,$,F],B=>{L=Te(L,B," ")}),b.textContent!==L&&(Se(e.removed,{element:b.cloneNode()}),b.textContent=L)),le(_.afterSanitizeElements,b,null),!1)},$t=function(b,L,v){if(bt&&(L==="id"||L==="name")&&(v in r||v in Kr))return!1;if(!(ze&&!Pe[L]&&X(k,L))){if(!(xt&&X(H,L))){if(!(ue.attributeCheck instanceof Function&&ue.attributeCheck(L,b))){if(!q[L]||Pe[L]){if(!(Ht(b)&&(P.tagNameCheck instanceof RegExp&&X(P.tagNameCheck,b)||P.tagNameCheck instanceof Function&&P.tagNameCheck(b))&&(P.attributeNameCheck instanceof RegExp&&X(P.attributeNameCheck,L)||P.attributeNameCheck instanceof Function&&P.attributeNameCheck(L,b))||L==="is"&&P.allowCustomizedBuiltInElements&&(P.tagNameCheck instanceof RegExp&&X(P.tagNameCheck,v)||P.tagNameCheck instanceof Function&&P.tagNameCheck(v))))return!1}else if(!qe[L]){if(!X(j,Te(v,J,""))){if(!((L==="src"||L==="xlink:href"||L==="href")&&b!=="script"&&En(v,"data:")===0&&Tt[b])){if(!(Nt&&!X(U,Te(v,J,"")))){if(v)return!1}}}}}}}return!0},Ht=function(b){return b!=="annotation-xml"&&ot(b,V)},Mt=function(b){le(_.beforeSanitizeAttributes,b,null);let{attributes:L}=b;if(!L||Ze(b))return;let v={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:q,forceKeepAttr:void 0},B=L.length;for(;B--;){let K=L[B],{name:G,namespaceURI:ee,value:ae}=K,Ee=W(G),Qe=ae,Y=G==="value"?Qe:xn(Qe);if(v.attrName=Ee,v.attrValue=Y,v.keepAttr=!0,v.forceKeepAttr=void 0,le(_.uponSanitizeAttribute,b,v),Y=v.attrValue,wt&&(Ee==="id"||Ee==="name")&&(ce(G,b),Y=Gr+Y),_e&&X(/((--!?|])>)|<\/(style|title|textarea)/i,Y)){ce(G,b);continue}if(Ee==="attributename"&&ot(Y,"href")){ce(G,b);continue}if(v.forceKeepAttr)continue;if(!v.keepAttr){ce(G,b);continue}if(!At&&X(/\/>/i,Y)){ce(G,b);continue}de&&Ue([D,$,F],Ut=>{Y=Te(Y,Ut," ")});let Ft=W(b.nodeName);if(!$t(Ft,Ee,Y)){ce(G,b);continue}if(w&&typeof c=="object"&&typeof c.getAttributeType=="function"&&!ee)switch(c.getAttributeType(Ft,Ee)){case"TrustedHTML":{Y=w.createHTML(Y);break}case"TrustedScriptURL":{Y=w.createScriptURL(Y);break}}if(Y!==Qe)try{ee?b.setAttributeNS(ee,G,Y):b.setAttribute(G,Y),Ze(b)?ne(b):Tr(e.removed)}catch{ce(G,b)}}le(_.afterSanitizeAttributes,b,null)},Zr=function R(b){let L=null,v=Dt(b);for(le(_.beforeSanitizeShadowDOM,b,null);L=v.nextNode();)le(_.uponSanitizeShadowNode,L,null),It(L),Mt(L),L.content instanceof l&&R(L.content);le(_.afterSanitizeShadowDOM,b,null)};return e.sanitize=function(R){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=null,v=null,B=null,K=null;if(Ye=!R,Ye&&(R="<!-->"),typeof R!="string"&&!kt(R))if(typeof R.toString=="function"){if(R=R.toString(),typeof R!="string")throw Ce("dirty is not a string, aborting")}else throw Ce("toString is not a function");if(!e.isSupported)return R;if(Ge||Xe(b),e.removed=[],typeof R=="string"&&(be=!1),be){if(R.nodeName){let ae=W(R.nodeName);if(!z[ae]||Ae[ae])throw Ce("root node is forbidden and cannot be sanitized in-place")}}else if(R instanceof o)L=Rt("<!---->"),v=L.ownerDocument.importNode(R,!0),v.nodeType===Le.element&&v.nodeName==="BODY"||v.nodeName==="HTML"?L=v:L.appendChild(v);else{if(!he&&!de&&!fe&&R.indexOf("<")===-1)return w&&Re?w.createHTML(R):R;if(L=Rt(R),!L)return he?null:Re?T:""}L&&Ve&&ne(L.firstChild);let G=Dt(be?R:L);for(;B=G.nextNode();)It(B),Mt(B),B.content instanceof l&&Zr(B.content);if(be)return R;if(he){if(ve)for(K=u.call(L.ownerDocument);L.firstChild;)K.appendChild(L.firstChild);else K=L;return(q.shadowroot||q.shadowrootmode)&&(K=C.call(n,K,!0)),K}let ee=fe?L.outerHTML:L.innerHTML;return fe&&z["!doctype"]&&L.ownerDocument&&L.ownerDocument.doctype&&L.ownerDocument.doctype.name&&X(Ir,L.ownerDocument.doctype.name)&&(ee="<!DOCTYPE "+L.ownerDocument.doctype.name+`>
`+ee),de&&Ue([D,$,F],ae=>{ee=Te(ee,ae," ")}),w&&Re?w.createHTML(ee):ee},e.setConfig=function(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Xe(R),Ge=!0},e.clearConfig=function(){ye=null,Ge=!1},e.isValidAttribute=function(R,b,L){ye||Xe({});let v=W(R),B=W(b);return $t(v,B,L)},e.addHook=function(R,b){typeof b=="function"&&Se(_[R],b)},e.removeHook=function(R,b){if(b!==void 0){let L=mn(_[R],b);return L===-1?void 0:yn(_[R],L,1)[0]}return Tr(_[R])},e.removeHooks=function(R){_[R]=[]},e.removeAllHooks=function(){_=Rr()},e}var In=$r();Hr.exports=In});var Ur=se((Yn,Fr)=>{var M=Mr();Fr.exports=class{constructor(e){let r=this;r.damon=e,r.domPurify=M,r.websiteRegex=/^(https?:\/\/)?[-a-zA-Z0-9]*[a-zA-Z0-9]+(\.[-a-zA-Z0-9]*[a-zA-Z0-9]+)+/,r.httpRegex=/^https?:\/\//}damonToSExpression(e){let r=this;return r.prefixedKeysMapToSExpression(r.damon.damonToMap(e))}sExpressionToDamon(e){let r=this;return r.damon.mapToDamon(r.sExpressionToPrefixedKeysMap(e),!1,!0)}escape(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}mapToHtmlList(e,r=!1,n=void 0){let t=this;try{t.damon.mapToJSON(e)}catch(s){throw console.log(s),new Error("Provided map value doesn't passes JSON.parse()")}var l=0,a=document.createElement("ul"),o;return n!==void 0&&(o=JSON.parse(n)),a.className="DAMON-List",p(e,a),a;function p(s,d,f=[]){if(typeof d!="object"||d==null||Array.isArray(d))throw new Error("Error List Item number "+l+": @param { {} } list");if(typeof s=="object"&&s!==null&&!Array.isArray(s)&&s instanceof Map&&s.constructor===Map){if(d.tagName=="UL")for(let[N,E]of s){let A=document.createElement("ul"),y=document.createElement("code"),h=document.createElement("span"),m=document.createElement("li");if(m.dataset.graphArbo=Array.from(s.keys()).indexOf(N),f.length>0&&(m.dataset.graphArbo=f.join("-")+"-"+Array.from(s.keys()).indexOf(N)),h.className="type-key",t.websiteRegex.test(N)){let w=N;t.httpRegex.test(N)||(w="https://"+N);let T=M.sanitize(`<a href="${w}"><span>${w}</span></a>`);h.innerHTML=T}else n!==void 0&&N in o["@context"]?h.innerHTML=M.sanitize(`<a href="${o["@context"][N]["@id"]}"><span>${N}</span></a>`):h.textContent=N;if(typeof E=="object"&&E!==null)if(Array.isArray(E))if(s.damonInlineArrays!==void 0&&s.damonInlineArrays.indexOf(N)>-1){y.innerHTML=h.outerHTML+'<span class="operator">: </span>[';for(let w=0,T=E.length;w<T;w++){let S=document.createElement("span"),x=E[w];if(x===!0)S.textContent="true",S.className="type-boolean";else if(x===!1)S.textContent="false",S.className="type-boolean";else if(x===null)S.textContent="null",S.className="type-null";else if(Number.isFinite(x)&&!Number.isNaN(x))S.textContent=x+"",S.className="type-number";else{if(r)if(t.websiteRegex.test(x)){let u=x;t.httpRegex.test(x)||(u="https://"+x),S.innerHTML=M.sanitize(`<a href="${u}">"${u}"</a>`)}else S.innerHTML=`"${x}"`;else if(t.websiteRegex.test(x)){let u=x;t.httpRegex.test(x)||(u="https://"+x),S.innerHTML=M.sanitize(`<a href="${u}">"${u}"</a>`)}else S.textContent=`"${x}"`;S.className="type-string"}w!==0&&(y.innerHTML+=", "),y.appendChild(S)}y.innerHTML+="]",m.appendChild(y),m.appendChild(A),d.appendChild(m)}else y.innerHTML=h.outerHTML+'<span class="operator">: </span>[]',m.appendChild(y),m.appendChild(A),d.appendChild(m),p(E,A,f.concat([Array.from(s.keys()).indexOf(N)]));else s.implicitMaps!==void 0&&s.implicitMaps.indexOf(N)>-1?y.innerHTML=h.outerHTML:y.innerHTML=h.outerHTML+'<span class="operator">: </span>{}',m.appendChild(y),m.appendChild(A),d.appendChild(m),p(E,A,f.concat([Array.from(s.keys()).indexOf(N)]));else{l++,y.innerHTML=h.outerHTML+'<span class="operator">: </span>';let w=document.createElement("span"),T=E;if(T===!0)w.textContent="true",w.className="type-boolean";else if(T===!1)w.textContent="false",w.className="type-boolean";else if(T===null)w.textContent="null",w.className="type-null";else if(Number.isFinite(T)&&!Number.isNaN(T))w.textContent=T+"",w.className="type-number";else{if(r)if(t.websiteRegex.test(T)){let S=T;t.httpRegex.test(T)||(S="https://"+T),w.innerHTML=M.sanitize(`<a href="${S}">"${S}"</a>`)}else w.innerHTML=`"${T}"`;else if(t.websiteRegex.test(T)){let S=T;t.httpRegex.test(T)||(S="https://"+T),w.innerHTML=M.sanitize(`<a href="${S}">"${S}"</a>`)}else w.textContent=`"${T}"`;w.className="type-string"}s.implicitNulls===void 0||s.implicitNulls.indexOf(N)==-1?y.appendChild(w):y.innerHTML=y.innerHTML.slice(0,-2),m.appendChild(y),d.appendChild(m)}}}else if(Array.isArray(s))for(var g=0,c=s.length;g<c;g++){let N=document.createElement("ul"),E=document.createElement("code"),A=document.createElement("li");if(A.dataset.graphArbo=g,f.length>0&&(A.dataset.graphArbo=f.join("-")+"-"+g),typeof s[g]=="object"&&s[g]!==null)if(Array.isArray(s[g]))if(s.damonInlineArrays!==void 0&&s.damonInlineArrays.indexOf(g)>-1){E.innerHTML+="[";for(let y=0,h=s[g].length;y<h;y++){let m=document.createElement("span"),w=s[g][y];if(w===!0)m.textContent="true",m.className="type-boolean";else if(w===!1)m.textContent="false",m.className="type-boolean";else if(w===null)m.textContent="null",m.className="type-null";else if(Number.isFinite(w)&&!Number.isNaN(w))m.textContent=w+"",m.className="type-number";else{if(r)if(t.websiteRegex.test(w)){let T=w;t.httpRegex.test(w)||(T="https://"+w),m.innerHTML=M.sanitize(`<a href="${T}">"${T}"</a>`)}else m.innerHTML=`"${w}"`;else if(t.websiteRegex.test(w)){let T=w;t.httpRegex.test(w)||(T="https://"+w),m.innerHTML=M.sanitize(`<a href="${T}">"${T}"</a>`)}else m.textContent=`"${w}"`;m.className="type-string"}y!==0&&(E.innerHTML+=", "),E.appendChild(m)}E.innerHTML+="]",A.appendChild(E),A.appendChild(N),d.appendChild(A)}else E.textContent="[]",A.appendChild(E),A.appendChild(N),d.appendChild(A),p(s[g],N,f.concat(g));else E.textContent="{}",A.appendChild(E),A.appendChild(N),d.appendChild(A),p(s[g],N,f.concat(g));else{l++;let y=s[g];if(y===!0)E.textContent="true",E.className="type-boolean";else if(y===!1)E.textContent="false",E.className="type-boolean";else if(y===null)E.textContent="null",E.className="type-null";else if(Number.isFinite(y)&&!Number.isNaN(y))E.textContent=y+"",E.className="type-number";else{if(r)if(t.websiteRegex.test(y)){let h=y;t.httpRegex.test(y)||(h="https://"+y),E.innerHTML=M.sanitize(`<a href="${h}">"${h}"</a>`)}else E.innerHTML=`"${y}"`;else if(t.websiteRegex.test(y)){let h=y;t.httpRegex.test(y)||(h="https://"+y),E.innerHTML=M.sanitize(`<a href="${h}">"${h}"</a>`)}else E.textContent=`"${y}"`;E.className="type-string"}A.appendChild(E),A.appendChild(N),d.appendChild(A)}}}}mapToHtmlTable(e,r=!1){let n=this;try{n.damon.mapToJSON(e)}catch{throw new Error("Provided value doesn't passes JSON.parse().")}var t=0,l=document.createElement("table"),a=document.createElement("thead"),o=document.createElement("tbody"),p=!1,s=0;if(l.className="DAMON-Table",typeof e!="object"||e==null||Array.isArray(e)||!(e instanceof Map)||e.constructor!==Map)throw new Error("Error: expected an Object value, saw otherwise.");for(let[d,f]of e){if(typeof f=="object"&&f!==null&&!Array.isArray(f)&&f instanceof Map&&f.constructor===Map)if(t==0){let g=document.createElement("tr");s=f.length;for(let[c,N]of f)if(N===null){let E=document.createElement("th");E.dataset.graphArbo=t+"-"+g.children.length,r?n.websiteRegex.test(c)?E.innerHTML=M.sanitize(`<a href="${c}">${c}</a>`):E.innerHTML=`${c}`:n.websiteRegex.test(c)?E.innerHTML=M.sanitize(`<a href="${c}">${c}</a>`):E.textContent=`${c}`,g.appendChild(E)}else throw new Error("Error row "+t+": expected implicit null property, saw otherwise.");a.appendChild(g),p=!0}else{if(f.length!=s)throw new Error("Error row "+t+": cells total doesn't match the header's.");let g=document.createElement("tr");for(let[c,N]of f)if(N===null){let E=document.createElement("td");E.dataset.graphArbo=t+"-"+g.children.length,r?n.websiteRegex.test(c)?E.innerHTML=M.sanitize(`<a href="${c}">${c}</a>`):E.innerHTML=`${c}`:n.websiteRegex.test(c)?E.innerHTML=M.sanitize(`<a href="${c}">${c}</a>`):E.textContent=`${c}`,g.appendChild(E)}else throw new Error("Error row "+t+": expected implicit null property, saw otherwise.");o.appendChild(g)}else throw new Error("Error row "+t+": expected an Object value, saw otherwise.");t++}return p&&l.appendChild(a),l.appendChild(o),l}mapTreeLeavesToHtmlTable(e,r=!1){let n=this;try{n.damon.mapToJSON(e)}catch{throw new Error("Provided map value doesn't passes JSON.parse()")}var t=0,l=0,a=document.createElement("table"),o=document.createElement("thead"),p=document.createElement("tbody"),s=!1;if(a.className="DAMON-LeavesToTable",typeof e!="object"||e==null||Array.isArray(e)||!(e instanceof Map)||e.constructor!==Map)throw new Error("Error List Item number "+t+": @param { {} } list");for(let[f,g]of e){if(typeof g=="object"&&!Array.isArray(g)){if(f=="head"&&!s){try{d(g,o)}catch{return}s=!0}else if(f=="body")try{d(g,p)}catch{return}}else if(typeof g!="object"&&f=="caption"){let c=document.createElement("caption");r?c.innerHTML=g:c.textContent=g,a.appendChild(c)}else throw new Error("Error List Item number "+t+": @param { {} } list");t++}return s&&a.appendChild(o),a.appendChild(p),a;function d(f,g,c=0,N=[]){if(typeof g!="object"||g==null)throw new Error("Error List Item number "+t+": @param { {} } list");if(typeof f=="object"&&f!==null&&!Array.isArray(f)&&f instanceof Map&&f.constructor===Map){if(g.tagName=="THEAD")if(Array.from(f.keys()).length==1)if(typeof f.get(Array.from(f.keys())[0])=="object"&&f.get(Array.from(f.keys())[0])!==null)t++,d(f.get(Array.from(f.keys())[0]),g,c+1,N.concat([Array.from(f.keys())[0]]));else throw new Error("Error List Item number "+t+": @param { {} } list");else throw new Error("Error List Item number "+t+": @param { {} } list");else if(g.tagName=="TBODY"){if(Array.from(f.keys()).length==0)throw new Error("Error List Item number "+t+": @param { {} } list");for(let[E,A]of f)if(typeof A=="object"&&A!==null)t++,d(A,g,c+1,N.concat([E]));else throw new Error("Error List Item number "+t+": @param { {} } list")}}else if(Array.isArray(f)){if(g.tagName=="THEAD")if(f.length==1){t++,l=c;let E=document.createElement("tr");N.push(f[0]);for(let A=0,y=N.length;A<y;A++){let h=document.createElement("th");r?h.innerHTML=N[A]:h.textContent=N[A],E.appendChild(h)}g.appendChild(E)}else throw new Error("Error List Item number "+t+": @param { {} } list");else if(g.tagName=="TBODY")if(c==l){if(f.length==0)throw new Error("Error List Item number "+t+": @param { {} } list");for(let E=0,A=f.length;E<A;E++){t++;let y=document.createElement("tr");for(let m=0,w=N.length;m<w;m++){let T=document.createElement("td");r?T.innerHTML=N[m]:T.textContent=N[m],y.appendChild(T)}let h=document.createElement("td");r?h.innerHTML=f[E]:h.textContent=f[E],h.textContent=f[E],y.appendChild(h),g.appendChild(y)}}else throw new Error("Error List Item number "+t+": @param { {} } list")}}}htmlToJSON(e){let r=this;var n=0;if(e.firstElementChild.textContent=="{}")return r._mapToJSON(t(e,new Map));if(e.firstElementChild.textContent=="[]")return r._mapToJSON(t(e,[]));function t(l,a){if(typeof l!="object"||l==null||Array.isArray(l))throw new Error("Error List Item number "+n+": @param { {} } list");if(typeof a=="object"&&a!==null&&!Array.isArray(a)&&a instanceof Map&&a.constructor===Map){for(let o=0,p=l.children.length;o<p;o++)if(n++,l.children[o].tagName=="LI")if(l.children[o].firstElementChild.tagName=="CODE")if(l.children[o].firstElementChild.innerHTML.length){let s=l.children[o].firstElementChild.innerHTML.trim();if(s[s.length-1]==":"&&s.length>1){let d=l.children[o].children[1];if(d.tagName=="UL"&&d.firstElementChild.tagName=="LI"&&d.children.length==1&&d.firstElementChild.firstElementChild.tagName=="CODE"){n++;let f=d.firstElementChild.firstElementChild.textContent.trim();f=="true"?a.set(s.slice(0,-1),!0):f=="false"?a.set(s.slice(0,-1),!1):f=="null"?a.set(s.slice(0,-1),null):isFinite(f)&&!isNaN(parseFloat(f))?a.set(s.slice(0,-1),f*1):a.set(s.slice(0,-1),f)}else throw new Error("Error List Item number "+n+": not DAMON-compliant.")}else if(s[s.length-4]==":"&&s.length>4){if(s.slice(-3)==" []")if(a.set(s.slice(0,-4),[]),l.children[o].children[1].tagName=="UL")t(l.children[o].children[1],a.get(s.slice(0,-4)));else throw new Error("Error List Item number "+n+": not DAMON-compliant.");else if(s.slice(-3)==" {}")if(a.set(s.slice(0,-4),new Map),l.children[o].children[1].tagName=="UL")t(l.children[o].children[1],a.get(s.slice(0,-4)));else throw new Error("Error List Item number "+n+": not DAMON-compliant.")}else throw new Error("Error List Item number "+n+": map items need a key")}else throw new Error("Error List Item number "+n+": empty node.");else throw new Error("Error List Item number "+n+": not DAMON-compliant.")}else if(Array.isArray(a)){for(let o=0,p=l.children.length;o<p;o++)if(n++,l.children[o].tagName=="LI")if(l.children[o].firstElementChild.tagName=="CODE")if(l.children[o].firstElementChild.innerHTML.length){let s=l.children[o].firstElementChild.innerHTML.trim();if(s[s.length-1]==":"&&s.length>1)throw new Error("Error List Item number "+n+": lists can't have keys.");if(s[s.length-4]==":"&&s.length>4)throw new Error("Error List Item number "+n+": not DAMON-compliant.");if(s=="[]")if(a.push([]),l.children[o].children[1]&&l.children[o].children[1].tagName=="UL")t(l.children[o].children[1],a[a.length-1]);else throw new Error("Error List Item number "+n+": not DAMON-compliant.");else if(s=="{}")if(a.push({}),l.children[o].children[1]&&l.children[o].children[1].tagName=="UL")t(l.children[o].children[1],a[a.length-1]);else throw new Error("Error List Item number "+n+": not DAMON-compliant.");else s=="true"?a.push(!0):s=="false"?a.push(!1):s=="null"?a.push(null):isFinite(s)&&!isNaN(parseFloat(s))?a.push(s*1):a.push(s)}else throw new Error("Error List Item number "+n+": empty node.");else throw new Error("Error List Item number "+n+": not DAMON-compliant.")}else throw new Error("Error List Item number "+n+": @param { {} | [] } jsonMap");return a}}prefixedKeysMapToSExpression(e){let r=this;var n="";if(typeof e=="object"&&e!==null&&e instanceof Map&&e.constructor===Map)return n+=`[\r
`,t(e),n+="]",JSON.parse(n),n;return typeof e=="string"&&(e='"'+e+'"'),JSON.parse(e),e;function t(l,a=1){if(typeof l=="object"&&l!==null&&!Array.isArray(l)&&l instanceof Map&&l.constructor===Map){let s=-1;for(let[d,f]of l){s++;let g=d.slice(d.match(/^[0-9]+-/)[0].length);if(typeof f=="object"&&f!==null)if(Array.isArray(f))f.length>0?(n+="    ".repeat(a)+`${JSON.stringify(g)}, [\r
`,t(f,a+1),n+="    ".repeat(a)+"]"):n+="    ".repeat(a)+`${JSON.stringify(g)}, []`;else if(Array.from(f.keys()).length>0){if(a==1)if(s==0)n="";else throw new Error("Multiple S-Expression roots");n+="    ".repeat(a)+`[${JSON.stringify(g)}, \r
`,t(f,a+1),a!=1&&(n+="    ".repeat(a)+"]")}else n+="    ".repeat(a)+`${JSON.stringify(g)}, []`;else{if(f===!0)throw new Error("Booleans require quotes");if(f===!1)throw new Error("Booleans require quotes");f===null?n+="    ".repeat(a)+`${JSON.stringify(g)}`:Number.isFinite(f)&&!Number.isNaN(f)?n+="    ".repeat(a)+`${JSON.stringify(g)}, `+f:n+="    ".repeat(a)+`${JSON.stringify(g)}, `+JSON.stringify(f)}d!=Array.from(l.keys())[Array.from(l.keys()).length-1]?n+=`,\r
`:n+=`\r
`}}else if(Array.isArray(l))for(var o=0,p=l.length;o<p;o++){if(typeof l[o]=="object"&&l[o]!==null)Array.isArray(l[o])?l[o].length>0?(n+="    ".repeat(a)+`[\r
`,t(l[o],a+1),n+="    ".repeat(a)+"]"):n+="    ".repeat(a)+"[]":Array.from(l[o].keys()).length>0?(n+="    ".repeat(a)+`[\r
`,t(l[o],a+1),n+="    ".repeat(a)+"]"):n+="    ".repeat(a)+"[]";else{if(l[o]===!0)throw new Error("Booleans require quotes");if(l[o]===!1)throw new Error("Booleans require quotes");if(l[o]===null)throw new Error("Array-nulls require quotes");Number.isFinite(l[o])&&!Number.isNaN(l[o])?n+="    ".repeat(a)+l[o]:n+="    ".repeat(a)+JSON.stringify(l[o])}o!=p-1?n+=`,\r
`:n+=`\r
`}}}sExpressionToPrefixedKeysMap(e){let r=this,n=new Map,t=0;return n.headless=!0,l(JSON.parse(e),n),n;function l(a,o){if(Array.isArray(a)){let p=new Map;t++,o.set(t+"-"+a[0],p);for(let s=1,d=a.length;s<d;s++)l(a[s],p)}else t++,o.set(t+"-"+a[0],null)}}prefixedKeysMapToMathJs(e){let r=this,n="";if(Array.isArray(e))return l(e),n.slice(0,-1);return typeof e=="object"&&e!==null&&e instanceof Map&&e.constructor===Map?(l(e),n.slice(0,-1)):(typeof e=="string"&&(e=JSON.stringify(e)),JSON.parse(e),e);function t(a){return a[0].toLowerCase()+a.slice(1)}function l(a,o=0){if(typeof a=="object"&&a!==null&&!Array.isArray(a)&&a instanceof Map&&a.constructor===Map)for(let[d,f]of a){let g=d.slice(d.match(/^[0-9]+-/)[0].length);g=="Power"&&(g="Pow"),g=="e"&&(g="2.718281828459045"),g=="i"&&(g="sqrt(-1)"),g=="LN2"&&(g="0.6931471805599453"),g=="LN10"&&(g="2.302585092994046"),g=="LOG2E"&&(g="1.4426950408889634"),g=="LOG10E"&&(g="0.4342944819032518"),g=="phi"&&(g="1.618033988749895"),g=="pi"&&(g="3.141592653589793"),g=="SQRT1_2"&&(g="0.7071067811865476"),g=="SQRT2"&&(g="1.4142135623730951"),g=="tau"&&(g="6.283185307179586"),typeof f=="object"&&f!==null?Array.isArray(f)?f.length>0?(n+="    ".repeat(o)+`${JSON.stringify(t(g)).slice(1,-1)}(
`,l(f,o+1),n+="    ".repeat(o)+")"):n+="    ".repeat(o)+`${JSON.stringify(t(g)).slice(1,-1)}()`:Array.from(f.keys()).length>0?(n+="    ".repeat(o)+`${JSON.stringify(t(g)).slice(1,-1)}(
`,l(f,o+1),n+="    ".repeat(o)+")"):n+="    ".repeat(o)+`${JSON.stringify(t(g)).slice(1,-1)}()`:f===!0?n+="    ".repeat(o)+`${JSON.stringify(t(g)).slice(1,-1)}(true)`:f===!1?n+="    ".repeat(o)+`${JSON.stringify(t(g)).slice(1,-1)}(false)`:f===null?n+="    ".repeat(o)+`${JSON.stringify(t(g)).slice(1,-1)}`:Number.isFinite(f)&&!Number.isNaN(f)?n+="    ".repeat(o)+`${JSON.stringify(t(g)).slice(1,-1)}(`+f+")":n+="    ".repeat(o)+`${JSON.stringify(t(g)).slice(1,-1)}(`+JSON.stringify(f)+")",d!=Array.from(a.keys())[Array.from(a.keys()).length-1]?n+=`,
`:n+=`
`}else if(Array.isArray(a))for(var p=0,s=a.length;p<s;p++)typeof a[p]=="object"&&a[p]!==null?Array.isArray(a[p])?a[p].length>0?a.damonInlineArrays!==void 0&&a.damonInlineArrays.indexOf(p)>-1?a[p]===!0?n+="    ".repeat(o)+"true":a[p]===!1?n+="    ".repeat(o)+"false":a[p]===null?n+="    ".repeat(o)+"null":Number.isFinite(a[p])&&!Number.isNaN(a[p])?n+="    ".repeat(o)+a[p]:n+="    ".repeat(o)+JSON.stringify(a[p]).slice(1,-1):(n+="    ".repeat(o)+`(
`,l(a[p],o+1),n+="    ".repeat(o)+")"):n+="    ".repeat(o)+"()":Array.from(a[p].keys()).length>0?(n+="    ".repeat(o)+`(
`,l(a[p],o+1),n+="    ".repeat(o)+")"):n+="    ".repeat(o)+"()":a[p]===!0?n+="    ".repeat(o)+"true":a[p]===!1?n+="    ".repeat(o)+"false":a[p]===null?n+="    ".repeat(o)+"null":Number.isFinite(a[p])&&!Number.isNaN(a[p])?n+="    ".repeat(o)+a[p]:n+="    ".repeat(o)+JSON.stringify(a[p]).slice(1,-1),p!=s-1?n+=`,
`:n+=`
`}}_mapsDiff(e,r){let n=this;try{n.damon.mapToJSON(e),n.damon.mapToJSON(r)}catch{throw new Error("Provided map value doesn't passes JSON.parse()")}if(typeof e!=typeof r||typeof e=="object"&&e!==null&&!Array.isArray(e)&&e instanceof Map&&e.constructor===Map&&(r==null||Array.isArray(r)||!(r instanceof Map)||r.constructor!==Map))throw new Error("Different root types.");var t;if(typeof e=="object"&&e!==null&&!Array.isArray(e)&&e instanceof Map&&e.constructor===Map)return t=new Map,l(e),t;if(Array.isArray(e))return t=[],l(e),t;function l(a,o=[]){if(typeof a=="object"&&a!==null&&!Array.isArray(a)&&a instanceof Map&&a.constructor===Map){let p="",s=null,d=r;for(let c=0,N=o.length;c<N;c++)typeof d=="object"&&d!==null&&!Array.isArray(d)&&d instanceof Map&&d.constructor===Map?d=d.get(Array.from(d.keys())[o[c]]):d=d[o[c]];let f=t;for(let c=0,N=o.length;c<N;c++)typeof f=="object"&&f!==null&&!Array.isArray(f)&&f instanceof Map&&f.constructor===Map&&Array.from(f.keys()).length?f=f.get(Array.from(f.keys())[o[c]]):f=f[o[c]];let g=0;for(let[c,N]of a)g>Array.from(d.keys()).length-1?typeof N=="object"&&N!==null&&!Array.isArray(N)&&N instanceof Map&&N.constructor===Map?Array.from(d.keys()).indexOf(c)!==-1&&typeof d.get(c)=="object"&&d.get(c)!==null&&!Array.isArray(d.get(c))&&d.get(c)instanceof Map&&d.get(c).constructor===Map?f.set(g+"-yellow",null):f.set(g+"-red",null):Array.isArray(N)?Array.from(d.keys()).indexOf(c)!==-1&&Array.isArray(d.get(c))?f.set(g+"-yellow",null):f.set(g+"-red",null):Array.from(d.keys()).indexOf(c)!==-1&&N===d.get(c)?f.set(g+"-yellow",null):f.set(g+"-red",null):(p=Array.from(d.keys())[g],s=d.get(p),typeof N=="object"&&N!==null&&!Array.isArray(N)&&N instanceof Map&&N.constructor===Map?typeof s=="object"&&s!==null&&!Array.isArray(s)&&s instanceof Map&&s.constructor===Map&&c===p?(f.set(g+"-green",new Map),Array.from(N.keys()).length>0&&l(N,o.concat([g]))):f.set(g+"-red",null):Array.isArray(N)?Array.isArray(s)&&c===p?(f.set(g+"-green",[]),N.length>0&&l(N,o.concat([g]))):f.set(g+"-red",null):N===s&&c===p?f.set(g+"-green","green"):f.set(g+"-red",null)),g++;if(Array.from(a.keys()).length<Array.from(d.keys()).length){let c=0;for(let[N,E]of d){if(c<=g-1){c++;continue}typeof E=="object"&&E!==null&&!Array.isArray(E)&&E instanceof Map&&E.constructor===Map?Array.from(a.keys()).indexOf(N)!==-1&&typeof a.get(N)=="object"&&a.get(N)!==null&&!Array.isArray(a.get(N))&&a.get(N)instanceof Map&&a.get(N).constructor===Map?f.set(g+"-yellow",null):f.set(g+"-red",null):Array.isArray(E)?Array.from(a.keys()).indexOf(N)!==-1&&Array.isArray(a.get(N))?f.set(g+"-yellow",null):f.set(g+"-red",null):Array.from(a.keys()).indexOf(N)!==-1&&E===a.get(N)?f.set(g+"-yellow",null):f.set(g+"-red",null),c++}}}else{let p=null,s=r;for(let f=0,g=o.length;f<g;f++)typeof s=="object"&&s!==null&&!Array.isArray(s)&&s instanceof Map&&s.constructor===Map&&Array.from(s.keys()).length?s=s.get(Array.from(s.keys())[o[f]]):s=s[o[f]];let d=t;for(let f=0,g=o.length;f<g;f++)typeof d=="object"&&d!==null&&!Array.isArray(d)&&d instanceof Map&&d.constructor===Map&&Array.from(d.keys()).length?d=d.get(Array.from(d.keys())[o[f]]):d=d[o[f]];for(let f=0,g=a.length;f<g;f++)f>s.length-1?d[f]="red":(p=s[f],typeof a[f]=="object"&&a[f]!==null&&!Array.isArray(a[f])&&a[f]instanceof Map&&a[f].constructor===Map?typeof p=="object"&&p!==null&&!Array.isArray(p)&&p instanceof Map&&p.constructor===Map?(d[f]=new Map,Array.from(a[f].keys()).length>0&&l(a[f],o.concat([f]))):d[f]="red":Array.isArray(a[f])?Array.isArray(p)?(d[f]=[],a[f].length>0&&l(a[f],o.concat([f]))):d[f]="red":a[f]===p?d[f]="green":d[f]="red");if(a.length<s.length)for(let f=0,g=s.length;f<g;f++)f<=a.length-1||(d[f]="red")}}}sortMap(e,r){let n=this,t=Array.from(e.keys()),l=Array.from(r.keys()),a=new Map;for(let o=0,p=t.length;o<p;o++)r.get(t[o])!==void 0&&a.set(t[o],r.get(t[o]));for(let o=0,p=l.length;o<p;o++)t.indexOf(l[o])==-1&&a.set(l[o],r.get(l[o]));return a}renderDiff(e,r,n=!1){let t=this,l=document.createElement("div"),a=document.createElement("div"),o=document.createElement("ul"),p=t._mapsDiff(e,r);return l.className="DAMON-Diff",a.className="DAMON-Diff-legend",o.className="DAMON-List",a.innerHTML='<span id="damonDiffRed"><span>Red</span>: Difference</span>; <span id="damonDiffBlue"><span>Blue</span>: Addition</span>; <span id="damonDiffGreen"><span>Green</span>: Displacement</span>',s(p,o),l.appendChild(a),l.appendChild(o),l;function s(f,g,c=[],N="green"){if(N==="green"){if(typeof g!="object"||g==null||Array.isArray(g))throw new Error("Error List Item "+c.concat("-")+": @param { {} } list");if(typeof f=="object"&&f!==null&&!Array.isArray(f)&&f instanceof Map&&f.constructor===Map){if(g.tagName=="UL"){let y="",h=null,m=e;for(let u=0,O=c.length;u<O;u++)typeof m=="object"&&m!==null&&!Array.isArray(m)&&m instanceof Map&&m.constructor===Map?m=m.get(Array.from(m.keys())[c[u]]):m=m[c[u]];let w="",T=null,S=r;for(let u=0,O=c.length;u<O;u++)typeof S=="object"&&S!==null&&!Array.isArray(S)&&S instanceof Map&&S.constructor===Map?S=S.get(Array.from(S.keys())[c[u]]):S=S[c[u]];let x=0;for(let[u,O]of f){let C=Array.from(f.keys())[x].split("-")[1],_=f.get(Array.from(f.keys())[x]),D=document.createElement("ul"),$=document.createElement("code"),F=document.createElement("span"),k=document.createElement("li");if(F.className="type-key",k.className=C+"-diff",k.className==="red-diff"&&x<=Array.from(m.keys()).length-1?x>Array.from(S.keys()).length-1?(u="",O=""):(x>Array.from(m.keys()).length-1&&(k.className="blue-diff",k.setAttribute("aria-describedby","damonDiffBlue")),w=Array.from(S.keys())[x],T=S.get(w),u=w,O=T):k.className==="green-diff"?(k.dataset.graphArbo=x,c.length>0&&(k.dataset.graphArbo=c.join("-")+"-"+x),k.className="",y=Array.from(S.keys())[x],h=S.get(y),u=y,O=h):k.className==="yellow-diff"?x>Array.from(m.keys()).length-1?(k.className="green-diff",k.setAttribute("aria-describedby","damonDiffGreen"),y=Array.from(S.keys())[x],h=S.get(y),u=y,O=h):(u="",O="",k.className="red-diff",k.setAttribute("aria-describedby","damonDiffRed")):(k.className="blue-diff",k.setAttribute("aria-describedby","damonDiffBlue"),y=Array.from(S.keys())[x],h=S.get(y),u=y,O=h),k.className==="red-diff"&&k.setAttribute("aria-describedby","damonDiffRed"),t.websiteRegex.test(u)){let H=u;t.httpRegex.test(u)||(H="https://"+u);let U=M.sanitize(`<a href="${H}"><span>${H}</span></a>`);F.innerHTML=U}else F.textContent=u;if(typeof O=="object"&&O!==null)if(Array.isArray(O))if(e.damonInlineArrays!==void 0&&e.damonInlineArrays.indexOf(u)>-1){$.innerHTML=F.outerHTML+'<span class="operator">: </span>[';for(let H=0,U=O.length;H<U;H++){let J=document.createElement("span"),V=O[H];if(V===!0)J.textContent="true",J.className="type-boolean";else if(V===!1)J.textContent="false",J.className="type-boolean";else if(V===null)J.textContent="null",J.className="type-null";else if(Number.isFinite(V)&&!Number.isNaN(V))J.textContent=V+"",J.className="type-number";else{if(n)if(t.websiteRegex.test(V)){let j=V;t.httpRegex.test(V)||(j="https://"+V),J.innerHTML=M.sanitize(`<a href="${j}">"${j}"</a>`)}else J.innerHTML=`"${V}"`;else if(t.websiteRegex.test(V)){let j=V;t.httpRegex.test(V)||(j="https://"+V),J.innerHTML=M.sanitize(`<a href="${j}">"${j}"</a>`)}else J.textContent=`"${V}"`;J.className="type-string"}H!==0&&($.innerHTML+=", "),$.appendChild(J)}$.innerHTML+="]",k.appendChild($),k.appendChild(D),g.appendChild(k)}else $.innerHTML=F.outerHTML+'<span class="operator">: </span>[]',k.appendChild($),k.appendChild(D),g.appendChild(k),C=="green"?s(_,D,c.concat([x]),C):s(_,D,c.concat([x]),C);else e.implicitMaps!==void 0&&e.implicitMaps.indexOf(u)>-1?$.innerHTML=F.outerHTML:$.innerHTML=F.outerHTML+'<span class="operator">: </span>{}',k.appendChild($),k.appendChild(D),g.appendChild(k),C=="green"?s(_,D,c.concat([x]),C):s(_,D,c.concat([x]),C);else{$.innerHTML=F.outerHTML+'<span class="operator">: </span>';let H=document.createElement("span"),U=O;if(U===!0)H.textContent="true",H.className="type-boolean";else if(U===!1)H.textContent="false",H.className="type-boolean";else if(U===null)H.textContent="null",H.className="type-null";else if(Number.isFinite(U)&&!Number.isNaN(U))H.textContent=U+"",H.className="type-number";else{if(n)if(t.websiteRegex.test(U)){let J=U;t.httpRegex.test(U)||(J="https://"+U),H.innerHTML=M.sanitize(`<a href="${J}">"${J}"</a>`)}else H.innerHTML=`"${U}"`;else if(t.websiteRegex.test(U)){let J=U;t.httpRegex.test(U)||(J="https://"+U),H.innerHTML=M.sanitize(`<a href="${J}">"${J}"</a>`)}else H.textContent=`"${U}"`;H.className="type-string"}e.implicitNulls===void 0||e.implicitNulls.indexOf(u)==-1?$.appendChild(H):$.innerHTML=$.innerHTML.slice(0,-2),k.appendChild($),g.appendChild(k)}x++}}}else if(Array.isArray(f)){let y=e;for(let m=0,w=c.length;m<w;m++)typeof y=="object"&&y!==null&&!Array.isArray(y)&&y instanceof Map&&y.constructor===Map&&Array.from(y.keys()).length?y=y.get(Array.from(y.keys())[c[m]]):y=y[c[m]];let h=r;for(let m=0,w=c.length;m<w;m++)typeof h=="object"&&h!==null&&!Array.isArray(h)&&h instanceof Map&&h.constructor===Map&&Array.from(h.keys()).length?h=h.get(Array.from(h.keys())[c[m]]):h=h[c[m]];for(var E=0,A=f.length;E<A;E++){let m=f[E].split("-")[1],w=document.createElement("ul"),T=document.createElement("code"),S=document.createElement("li"),x;if(S.className=f[E].split("-")[1]+"-diff",S.className==="red-diff"&&E<=y.length-1?E>h.length-1?x="":(E>y.length-1&&(S.className=="red-diff"?(S.className="blue-diff",S.setAttribute("aria-describedby","damonDiffBlue")):(S.className="green-diff",S.setAttribute("aria-describedby","damonDiffGreen"))),x=h[E]):(S.className==="green-diff"?(S.dataset.graphArbo=E,c.length>0&&(S.dataset.graphArbo=c.join("-")+"-"+E),S.className=""):(S.className="blue-diff",S.setAttribute("aria-describedby","damonDiffBlue")),x=y[E]),S.className==="red-diff"&&S.setAttribute("aria-describedby","damonDiffRed"),typeof x=="object"&&x!==null)if(Array.isArray(x))if(e.damonInlineArrays!==void 0&&e.damonInlineArrays.indexOf(E)>-1){T.innerHTML+="[";for(let u=0,O=x.length;u<O;u++){let C=document.createElement("span"),_=x[u];if(_===!0)C.textContent="true",C.className="type-boolean";else if(_===!1)C.textContent="false",C.className="type-boolean";else if(_===null)C.textContent="null",C.className="type-null";else if(Number.isFinite(_)&&!Number.isNaN(_))C.textContent=_+"",C.className="type-number";else{if(n)if(t.websiteRegex.test(_)){let D=_;t.httpRegex.test(_)||(D="https://"+_),C.innerHTML=M.sanitize(`<a href="${D}">"${D}"</a>`)}else C.innerHTML=`"${_}"`;else if(t.websiteRegex.test(_)){let D=_;t.httpRegex.test(_)||(D="https://"+_),C.innerHTML=M.sanitize(`<a href="${D}">"${D}"</a>`)}else C.textContent=`"${_}"`;C.className="type-string"}u!==0&&(T.innerHTML+=", ")}T.innerHTML+="]",S.appendChild(T),S.appendChild(w),g.appendChild(S)}else T.textContent="[]",S.appendChild(T),S.appendChild(w),g.appendChild(S),s(x,w,c.concat([E]),m);else T.textContent="{}",S.appendChild(T),S.appendChild(w),g.appendChild(S),s(x,w,c.concat([E]),m);else{let u=x;if(u===!0)T.textContent="true",T.className="type-boolean";else if(u===!1)T.textContent="false",T.className="type-boolean";else if(u===null)T.textContent="null",T.className="type-null";else if(Number.isFinite(u)&&!Number.isNaN(u))T.textContent=u+"",T.className="type-number";else{if(n)if(t.websiteRegex.test(u)){let O=u;t.httpRegex.test(u)||(O="https://"+u),T.innerHTML=M.sanitize(`<a href="${O}">"${O}"</a>`)}else T.innerHTML=`"${u}"`;else if(t.websiteRegex.test(u)){let O=u;t.httpRegex.test(u)||(O="https://"+u),T.innerHTML=M.sanitize(`<a href="${O}">"${O}"</a>`)}else T.textContent=`"${u}"`;T.className="type-string"}S.appendChild(T),S.appendChild(w),g.appendChild(S)}}}}else if(["red","yellow"].indexOf(N)>-1){let y=r;for(let h=0,m=c.length;h<m;h++)typeof y=="object"&&y!==null&&!Array.isArray(y)&&y instanceof Map&&y.constructor===Map?y=y.get(Array.from(y.keys())[c[h]]):y=y[c[h]];d(y,g,c,N)}}function d(f,g,c,N){if(typeof g!="object"||g==null||Array.isArray(g))throw new Error("Error List Item "+c.concat("-")+": @param { {} } list");if(typeof f=="object"&&f!==null&&!Array.isArray(f)&&f instanceof Map&&f.constructor===Map){if(g.tagName=="UL"){let y=0;for(let[h,m]of f){let w=document.createElement("ul"),T=document.createElement("code"),S=document.createElement("span"),x=document.createElement("li");if(S.className="type-key",x.className="red-diff",x.setAttribute("aria-describedby","damonDiffRed"),t.websiteRegex.test(h)){let u=h;t.httpRegex.test(h)||(u="https://"+h);let O=M.sanitize(`<a href="${u}">${u}</a>`);S.innerHTML=O}else S.textContent=h;if(typeof m=="object"&&m!==null)if(Array.isArray(m))if(f.damonInlineArrays!==void 0&&f.damonInlineArrays.indexOf(h)>-1){T.innerHTML=S.outerHTML+'<span class="operator">: </span>[';for(let u=0,O=m.length;u<O;u++){let C=document.createElement("span"),_=m[u];if(_===!0)C.textContent="true",C.className="type-boolean";else if(_===!1)C.textContent="false",C.className="type-boolean";else if(_===null)C.textContent="null",C.className="type-null";else if(Number.isFinite(_)&&!Number.isNaN(_))C.textContent=_+"",C.className="type-number";else{if(n)if(t.websiteRegex.test(_)){let D=_;t.httpRegex.test(_)||(D="https://"+_),C.innerHTML=M.sanitize(`<a href="${D}">"${D}"</a>`)}else C.innerHTML=`"${_}"`;else if(t.websiteRegex.test(_)){let D=_;t.httpRegex.test(_)||(D="https://"+_),C.innerHTML=M.sanitize(`<a href="${D}">"${D}"</a>`)}else C.textContent=`"${_}"`;C.className="type-string"}u!==0&&(T.innerHTML+=", "),T.appendChild(C)}T.innerHTML+="]",x.appendChild(T),x.appendChild(w),g.appendChild(x)}else T.innerHTML=S.outerHTML+'<span class="operator">: </span>[]',x.appendChild(T),x.appendChild(w),g.appendChild(x),d(m,w,c.concat([y]),N);else f.implicitMaps!==void 0&&f.implicitMaps.indexOf(h)>-1?T.innerHTML=S.outerHTML:T.innerHTML=S.outerHTML+'<span class="operator">: </span>{}',x.appendChild(T),x.appendChild(w),g.appendChild(x),d(m,w,c.concat([y]),N);else{T.innerHTML=S.outerHTML+'<span class="operator">: </span>';let u=document.createElement("span"),O=m;if(O===!0)u.textContent="true",u.className="type-boolean";else if(O===!1)u.textContent="false",u.className="type-boolean";else if(O===null)u.textContent="null",u.className="type-null";else if(Number.isFinite(O)&&!Number.isNaN(O))u.textContent=O+"",u.className="type-number";else{if(n)if(t.websiteRegex.test(O)){let C=O;t.httpRegex.test(O)||(C="https://"+O),u.innerHTML=M.sanitize(`<a href="${C}">"${C}"</a>`)}else u.innerHTML=`"${O}"`;else if(t.websiteRegex.test(O)){let C=O;t.httpRegex.test(O)||(C="https://"+O),u.innerHTML=M.sanitize(`<a href="${C}">"${C}"</a>`)}else u.textContent=`"${O}"`;u.className="type-string"}f.implicitNulls===void 0||f.implicitNulls.indexOf(h)==-1?T.appendChild(u):T.innerHTML=T.innerHTML.slice(0,-2),x.appendChild(T),g.appendChild(x)}y++}}}else if(Array.isArray(f))for(var E=0,A=f.length;E<A;E++){let y=document.createElement("ul"),h=document.createElement("code"),m=document.createElement("li");if(m.className=f[E]+"-diff",m.setAttribute("aria-describedby","damonDiffRed"),typeof f[E]=="object"&&f[E]!==null)if(Array.isArray(f[E]))if(f.damonInlineArrays!==void 0&&f.damonInlineArrays.indexOf(E)>-1){h.innerHTML+="[";for(let w=0,T=f[E].length;w<T;w++){let S=document.createElement("span"),x=f[E][w];if(x===!0)S.textContent="true",S.className="type-boolean";else if(x===!1)S.textContent="false",S.className="type-boolean";else if(x===null)S.textContent="null",S.className="type-null";else if(Number.isFinite(x)&&!Number.isNaN(x))S.textContent=x+"",S.className="type-number";else{if(n)if(t.websiteRegex.test(x)){let u=x;t.httpRegex.test(x)||(u="https://"+x),S.innerHTML=M.sanitize(`<a href="${u}">"${u}"</a>`)}else S.innerHTML=`"${x}"`;else if(t.websiteRegex.test(x)){let u=x;t.httpRegex.test(x)||(u="https://"+x),S.innerHTML=M.sanitize(`<a href="${u}">"${u}"</a>`)}else S.textContent=`"${x}"`;S.className="type-string"}w!==0&&(h.innerHTML+=", "),h.appendChild(S)}h.innerHTML+="]",m.appendChild(h),m.appendChild(y),g.appendChild(m)}else h.textContent="[]",m.appendChild(h),m.appendChild(y),g.appendChild(m),d(f[E],y,c.concat([E]),N);else h.textContent="{}",m.appendChild(h),m.appendChild(y),g.appendChild(m),d(f[E],y,c.concat([E]),N);else{let w=f[E];if(w===!0)h.textContent="true",h.className="type-boolean";else if(w===!1)h.textContent="false",h.className="type-boolean";else if(w===null)h.textContent="null",h.className="type-null";else if(Number.isFinite(w)&&!Number.isNaN(w))h.textContent=w+"",h.className="type-number";else{if(n)if(t.websiteRegex.test(w)){let T=w;t.httpRegex.test(w)||(T="https://"+w),h.innerHTML=M.sanitize(`<a href="${T}">"${T}"</a>`)}else h.innerHTML=`"${w}"`;else if(t.websiteRegex.test(w)){let T=w;t.httpRegex.test(w)||(T="https://"+w),h.innerHTML=M.sanitize(`<a href="${T}">"${T}"</a>`)}else h.textContent=`"${w}"`;h.className="type-string"}m.appendChild(h),m.appendChild(y),g.appendChild(m)}}}}damonTableMapToCSV(e){let r=this,n="",t=0;for(let[l,a]of e){if(t===0&&l==="00"){n+='"'+a+`"
`,t++;continue}let o=Array.from(a.keys());for(let p=0,s=o.length;p<s;p++)n+='"'+o[p]+'"',p!=s-1&&(n+=",");n+=`
`,t++}return n.slice(0,-1)}damonTableMapToJSON(e){let r=this,n=`[
`,t=0;for(let[l,a]of e){if(n+="    [",t===0&&l==="00"){n+=JSON.stringify(a)+`],
`,t++;continue}let o=Array.from(a.keys());for(let p=0,s=o.length;p<s;p++)n+=JSON.stringify(o[p]),p!=s-1&&(n+=", ");n+=`],
`,t++}return n=n.slice(0,-2)+`
]`,n}csvToDamonTable(e){let r=this,n=e.split(`
`),t=new Map;for(let l=0,a=n.length;l<a;l++){let o=new Map;o.implicitNulls=[],t.set(l+"",o);let p=n[l].split(",");for(let s=0,d=p.length;s<d;s++)if(p[s][0]==='"'&&p[s][p[s].length-1]==='"')try{t.get(l+"").set(JSON.parse(p[s]),null),t.get(l+"").implicitNulls.push(p[s])}catch{t.get(l+"").set(JSON.parse(JSON.stringify(p[s].slice(1,-1))),null),t.get(l+"").implicitNulls.push(JSON.parse(JSON.stringify(p[s].slice(1,-1))))}else try{t.get(l+"").set(JSON.parse(`"${p[s]}"`),null),t.get(l+"").implicitNulls.push(`"${p[s]}"`)}catch{t.get(l+"").set(JSON.parse(JSON.stringify(p[s])),null),t.get(l+"").implicitNulls.push(JSON.stringify(p[s]))}}return r.damon.mapToDamon(t)}jsonToDamonTable(e){let r=this,n=JSON.parse(e).map(l=>JSON.stringify(l)),t=new Map;for(let l=0,a=n.length;l<a;l++){let o=new Map;o.implicitNulls=[],t.set(l+"",o);let p=JSON.parse(n[l]);for(let s=0,d=p.length;s<d;s++)t.get(l+"").set(p[s],null),t.get(l+"").implicitNulls.push(p[s])}return r.damon.mapToDamon(t)}wrapListContentsForStyling(e){let r=this;for(let n=0,t=e.length;n<t;n++){let l=document.createElement("div");for(let a=e[n].childNodes.length-1;a>=0;a--)(e[n].childNodes[a].tagName&&e[n].childNodes[a].tagName!=="UL"&&e[n].childNodes[a].tagName!=="OL"||e[n].childNodes[a].nodeType==3&&e[n].childNodes[a].data!=`
`&&e[n].childNodes[a].data!=`\r
`)&&(l.childNodes.length==0?l.appendChild(e[n].childNodes[a]):l.insertBefore(e[n].childNodes[a],l.childNodes[0]));e[n].firstElementChild?e[n].insertBefore(l,e[n].firstElementChild):e[n].appendChild(l)}}addLineNumbers(e,r,n=0){let t=this,l=r.querySelectorAll("li[data-graph-arbo]");for(let a=0,o=l.length;a<o;a++){let p=document.createElement("div");p.className="damon-line-number";let s=t.damon.damonToMap(e),d=l[a].dataset.graphArbo.split("-"),f=[];for(let g=0,c=d.length;g<c;g++)typeof s=="object"&&s!==null&&!Array.isArray(s)&&s instanceof Map&&s.constructor===Map?(f.push(Array.from(s.keys())[d[g]]),s=s.get(f[g])):(f.push(parseInt(d[g])),s=s[f[g]]);p.textContent=t.damon.getRangeFromPath(e,f)[0][0]+1+n,p.id="damonLine"+p.textContent,l[a].setAttribute("aria-labelledBy",p.id),p.style.top=r.scrollTop+l[a].firstElementChild.getBoundingClientRect().top-r.getBoundingClientRect().top+"px",r.appendChild(p)}}addTableLineNumbers(e,r,n=0){let t=this,l=r.querySelectorAll("th[data-graph-arbo]:first-child, td[data-graph-arbo]:first-child");for(let a=0,o=l.length;a<o;a++){let p=document.createElement("div");p.className="damon-line-number",p.textContent=t.damon.getRangeFromPath(e,[Array.from(t.damon.damonToMap(e).keys())[a]])[0][0]+1+n,p.id="damonLine"+p.textContent,l[a].setAttribute("aria-labelledBy",p.id),p.style.top=r.scrollTop+l[a].getBoundingClientRect().top-r.getBoundingClientRect().top+"px",r.appendChild(p)}}damonGraphMapToMermaid(e,r=0){let n=this,t="";if(typeof e!="object"||e===null||Array.isArray(e)||!(e instanceof Map)||e.constructor!==Map)throw new Error("Error: input does not conform to Map type");let l=0;for(let[a,o]of e){if(l++,o===null){t+=a+`\r
`;continue}if(typeof o!="object"||Array.isArray(o)||!(o instanceof Map)||o.constructor!==Map)throw new Error("Error line "+n.damon.mapIndexToLine(e,l)+r+": value does not conform to Map type");if(Array.from(o.keys()).length)for(let[p,s]of o){if(l++,typeof s!="string")throw new Error("Error line "+n.damon.mapIndexToLine(e,l)+r+": value does not conform to String type");let d=s.split(",");for(let f=0,g=d.length;f<g;f++)f==0,p.length?t+=a+" -- "+p+" --> "+d[f]+`\r
`:t+=a+" --> "+d[f]+`\r
`}else t+=a+`\r
`}return t.slice(0,-2)}}});var Br=se((Xn,Jr)=>{var Kn=at();Jr.exports=(function(i){i.update(),i.historyUpdate(),i.editor.addEventListener("focusin",e),i.editor.addEventListener("focusout",r),i.gutter.addEventListener("click",n),document.addEventListener("mousedown",l),document.addEventListener("mousemove",a),document.addEventListener("mouseup",o),document.addEventListener("selectionchange",p),i.textarea.addEventListener("beforeinput",s),i.textarea.addEventListener("keydown",d),i.textarea.addEventListener("cut",f),i.textarea.addEventListener("copy",g),i.textarea.addEventListener("paste",c);function e(y){i.utils.addDataState(i.editor,"focused")}function r(y){i.editor.contains(y.target)||i.utils.removeDataState(i.editor,"focused")}function n(y){(Array.from(i.gutter.children).indexOf(y.target)>-1||Array.from(i.gutter.children).indexOf(y.target.parentNode)>-1)&&i.setCarretAt(parseInt(y.target.textContent.trim())-1)}var t;function l(y){if(y.target==i.container){t=y.target,y.preventDefault();let h=i.gutter.children,m="0";for(let w=0,T=h.length;w<T;w++)y.clientY>h[w].getBoundingClientRect().y&&(m=h[w].textContent.trim());m-1<0&&(m=1),i.setCarretAt(m-1),i.textarea.focus()}}function a(y){if(t==i.container&&y.buttons==1){let h=i.gutter.children,m="0";for(let w=0,T=h.length;w<T;w++)y.clientY>h[w].getBoundingClientRect().y&&(m=h[w].textContent.trim());i.textarea.focus(),i.textarea.setSelectionRange(i.textarea.value.split(`
`).slice(0,m).join().length,i.textarea.value.length,"backward")}}function o(y){t==i.container&&y.target==i.textarea&&(i.textarea.selectionEnd=i.textarea.value.length,i.textarea.selectionStart=i.textarea.value.length,i.textarea.focus()),t=void 0}function p(y){document.activeElement===i.textarea&&(i.updateCaret(),i.updateCurrentLine(),i.updateHorizontalScroll(),i.lastSelection=i.getTextareaSelection())}function s(y){i.lastTextareaValue=i.textarea.value}function d(y){if(!y.ctrlKey&&!y.shiftKey&&!y.altKey){if(y.key==" "&&i.textarea.selectionStart==i.textarea.selectionEnd&&(!/\n/.test(i.textarea.value.slice(0,i.textarea.selectionStart))&&(/ +$/.test(i.textarea.value.slice(0,i.textarea.selectionStart))||i.textarea.selectionStart===0)||/\n +$/.test(i.textarea.value.slice(0,i.textarea.selectionStart))||i.textarea.selectionStart<i.textarea.value.length&&(/\n +\n$/.test(i.textarea.value.slice(0,i.textarea.selectionStart+1))||/\n$/.test(i.textarea.value.slice(0,i.textarea.selectionStart)))||i.textarea.value.length==i.textarea.selectionStart&&(/\n +$/.test(i.textarea.value)||/\n$/.test(i.textarea.value)))){y.preventDefault();let h=i.textarea.selectionStart+4,m=i.textarea.value.slice(0,i.textarea.selectionStart)+"    "+i.textarea.value.slice(i.textarea.selectionEnd);i.setTextarea(m,h),N()}if(y.key=="Enter"){let h=i.textarea.value,m=h.split(`
`),w=i.getSelectionStartCoordinates(),T=w[0],S=w[1],x=m[T];if(/^    /.test(x)){if(y.preventDefault(),S%4!==0&&S<x.match(/^(    )+/)[0].length){for(let D=S;0<=D;D--)if(D%4==0){i.textarea.selectionStart==i.textarea.selectionEnd&&(i.textarea.selectionEnd=m.slice(0,T).join().length+D),i.textarea.selectionStart=m.slice(0,T).join().length+D,S=D;break}}let u=0;S>0&&(u=x.slice(0,S).match(/^(    )+/)[0].length);let O=i.textarea.selectionStart,C=i.textarea.value.slice(i.textarea.selectionEnd);C.split(`
`)[0].trim()==""&&(C=`
`+C.split(`
`).slice(1).join(`
`));let _=i.textarea.value.slice(0,i.textarea.selectionStart)+`
`+" ".repeat(u)+C;i.setTextarea(_,O+u+1),N()}}}else if(!y.ctrlKey&&y.shiftKey&&!y.altKey)y.key==" "&&i.textarea.selectionStart==i.textarea.selectionEnd;else if(y.ctrlKey&&!y.shiftKey&&!y.altKey){if(y.key=="Backspace"){let h=i.textarea.value.split(`
`),m=i.getSelectionStartCoordinates(),w=h[m[0]],T=w.slice(0,m[1]);if(i.textarea.selectionEnd==i.textarea.selectionStart&&/^ +$/.test(T)){y.preventDefault();let S=0;T.length%4==0?(h[m[0]]=w.slice(4),S=4):(h[m[0]]=w.slice(T.length%4),S=T.length%4),i.setTextarea(h.join(`
`)),N(),i.setCarretAt(m[0],m[1]-S)}}if(y.key==" "){let h=i.textarea.value.slice(0,i.textarea.selectionStart)+"	"+i.textarea.value.slice(i.textarea.selectionEnd);i.setTextarea(i.formatIndentation(h),i.textarea.selectionEnd+1),N()}if(y.key=="]"){y.preventDefault();let h=i.textarea.value.split(`
`),m=i.textarea.value.slice(0,i.textarea.selectionStart).split(`
`).length-1,w=i.textarea.value.slice(0,i.textarea.selectionEnd).split(`
`).length-1,T=i.textarea.selectionStart+4,S=i.textarea.selectionEnd+4*(w-m+1);for(let x=0,u=h.length;x<u;x++)x>=m&&x<=w&&(h[x]="    "+h[x]);i.setTextarea(h.join(`
`),T,S),N()}if(y.key=="["){let h=i.textarea.value,m=i.textarea.value.split(`
`),w=i.textarea.value.slice(0,i.textarea.selectionStart).split(`
`).length-1,T=i.textarea.value.slice(0,i.textarea.selectionEnd).split(`
`).length-1,S=i.textarea.selectionStart,x=i.textarea.selectionEnd;for(let u=0,O=m.length;u<O;u++)u>=w&&u<=T&&m[u].startsWith("    ")&&(u==w&&(S-=4),x-=4,m[u]=m[u].slice(4));i.setTextarea(m.join(`
`),S,x),N()}if(y.key=="Enter"){let h=i.textarea.value.split(`
`),m=i.getCurrentLine();m==h.length-1?i.setTextarea(h.join(`
`)+`
`):i.setTextarea(h.slice(0,m+1).join(`
`)+`

`+h.slice(m+1).join(`
`)),N(),i.setCarretAt(m+1)}if(y.key=="z"&&(y.preventDefault(),i.historyPosition>1)){i.historyPosition-=1;let h=i.history[i.historyPosition-1];i.setTextarea(h[0],h[1]),i.update(),i.virtualScroller.inputHandler(!0),i.textarea.blur(),i.textarea.focus()}if(y.key=="y"&&(y.preventDefault(),i.historyPosition<i.history.length)){i.historyPosition+=1;let h=i.history[i.historyPosition-1];i.setTextarea(h[0],h[1]),i.update(),i.virtualScroller.inputHandler(!0),i.textarea.blur(),i.textarea.focus()}}else if(!y.ctrlKey&&y.shiftKey&&y.altKey)y.key=="f"&&i.setTextarea(i.formatIndentation(i.textarea.value),i.textarea.selectionEnd);else if(!y.ctrlKey&&!y.shiftKey&&y.altKey){if(y.key=="ArrowDown")if(i.getSelectionStartCoordinates()[0]==i.getSelectionEndCoordinates()[0]){let h=i.textarea.value.split(`
`),m=i.getCurrentLine(),w=h[i.getCurrentLine()].slice();if(i.getCurrentLine()!==h.length){let T=h[i.getCurrentLine()+1].slice();h[i.getCurrentLine()]=T,h[i.getCurrentLine()+1]=w,i.setTextarea(h.join(`
`)),N(),i.setCarretAt(m+1)}}else{let h=i.textarea.value.split(`
`),m=i.getSelectionStartCoordinates()[0],w=i.getSelectionEndCoordinates()[0];if(w<m&&(m=i.getSelectionEndCoordinates()[0],w=i.getSelectionStartCoordinates()[0]),w!=h.length){let T=h.slice(m,w+1),S=h[w+1].slice();h[m]=S;for(let x=m,u=x+T.length;x<u;x++)h[x+1]=T[x-m];w<m?i.setTextarea(h.join(`
`),i.textarea.selectionEnd+S.length+1,i.textarea.selectionStart+S.length+1):i.setTextarea(h.join(`
`),i.textarea.selectionStart+S.length+1,i.textarea.selectionEnd+S.length+1),N()}}else if(y.key=="ArrowUp")if(i.getSelectionStartCoordinates()[0]==i.getSelectionEndCoordinates()[0]){let h=i.textarea.value.split(`
`),m=i.getCurrentLine(),w=h[i.getCurrentLine()].slice();if(i.getCurrentLine()!==0){let T=h[i.getCurrentLine()-1].slice();h[i.getCurrentLine()]=T,h[i.getCurrentLine()-1]=w,i.setTextarea(h.join(`
`)),N(),i.setCarretAt(m-1)}}else{let h=i.textarea.value.split(`
`),m=i.getSelectionStartCoordinates()[0],w=i.getSelectionEndCoordinates()[0];if(w<m&&(m=i.getSelectionEndCoordinates()[0],w=i.getSelectionStartCoordinates()[0]),m!=0){let T=h.slice(m,w+1),S=h[m-1].slice();h[w]=S;for(let x=m,u=x+T.length;x<u;x++)h[x-1]=T[x-m];w<m?i.setTextarea(h.join(`
`),i.textarea.selectionEnd-S.length-1,i.textarea.selectionStart-S.length-1):i.setTextarea(h.join(`
`),i.textarea.selectionStart-S.length-1,i.textarea.selectionEnd-S.length-1),N()}}}i.debounceLint()}function f(y){if(i.textarea.selectionStart==i.textarea.selectionEnd){y.preventDefault();let h=i.textarea.value.split(`
`),m=i.getCurrentLine(),w=h.slice(0,m).join(`
`).length,T=w+h[m].length+1;i.textarea.setSelectionRange(w,T),i.lastTextareaValue=i.textarea.value,document.execCommand("cut"),N(),E()}}function g(y){if(i.textarea.selectionStart==i.textarea.selectionEnd){y.preventDefault();let h=i.textarea.value.split(`
`),m=i.getCurrentLine(),w=h.slice(0,m).join(`
`).length,T=w+h[m].length+1;i.textarea.setSelectionRange(w,T),document.execCommand("copy")}}function c(y){y.preventDefault();let h=y.clipboardData.getData("text").replace(new RegExp(/\r/g),""),m=i.textarea.value.slice(0,i.textarea.selectionStart),w=i.textarea.value.slice(i.textarea.selectionEnd),T=m+h+w,S=i.textarea.selectionStart+h.length;if(m+w==""||i.textarea.selectionStart==0&&i.textarea.selectionEnd==T.length-1)try{JSON.parse(T),Array.isArray(T)&&T.map($=>Array.isArray(T)).indexOf(!1)==-1&&T.map($=>$.map(F=>!Array.isArray(F)&&(typeof $!="object"||$==null)).indexOf(!1)==-1).indexOf(!1)==-1?i.setTextarea(i.damonUtils.jsonToDamonTable(T)):i.setTextarea(i.damon.jsonToDamon(T)),N(),E();return}catch{try{i.damon.damonToMap(T)}catch{let k=T,H=/\r\n/.test(k)?`\r
`:`
`,U=k.split(H);if(H==`
`&&/\\*\n/.test(k)){if(/[^\\]\\(\\\\)*\n/.test(k)){let j=k.split(/[^\\]\\(\\\\)*\n/)[0].split(`
`).length,z=new Error("Error line "+j+": oddly escaped newline");console.log(z)}U=k.split("").reverse().join("").split(/\n/).map(j=>j.split("").reverse().join("")).reverse()}try{i.setTextarea(i.damonUtils.csvToDamonTable(T)),N(),E();return}catch(J){console.log(J)}}}let x=T.split(`
`),u=S,O=0,C=0;for(let $=0,F=x.length;$<F;$++)if(O+x[$].length+$<u)O+=x[$].length;else{O+=$,C=$;break}let _=[C,S-O],D=x[C].slice(0);if(T=i.formatIndentation(T),x=T.split(`
`),i.textarea.value!==T){let $=x.slice(0,C+1).join(`
`).length-D.length+_[1];i.setTextarea(T,$),N(),E()}}i.textarea.addEventListener("input",N),i.editor.addEventListener("scroll",E);function N(){document.activeElement==i.textarea&&(i.update(),i.debounceHistoryUpdate(),i.updateCurrentLine(),i.updateHorizontalScroll(),i.updateCaret(),i.debounceLint())}function E(y){i.virtualScroller.scrollHandler()}window.spaceResizeTimeout=null;function A(y){console.log("B"),spaceResizeTimeout&&clearTimeout(spaceResizeTimeout),window.spaceResizeTimeout=setTimeout(function(){let h=i.editor.scrollTop;i.gutter.innerHTML="",i.overlay.firstElementChild.innerHTML="",i.initialized=!1,i.virtualScroller.inputHandler(),i.initialized=!0,i.editor.scrollTop=h},100)}})});var zr=se((Qn,Pr)=>{var mt=Bt(),$n=br(),Hn=at(),Mn=Ur();Pr.exports=class{constructor(e,r,n){let t=this;t.dom=e,t.innerHTML="",t.editor={},t.gutter={},t.container={},t.overlay={},t.textarea={},t.caretPadding={},t.caret={},t.statusBar={},t.copyButton={},t.diffButton={},t.prism=r,t.indentation="    ",t.currentLine=0,t.history=[],t.historyPosition=0,t.historyUpdateTimeoutId,t.lintTimeoutId,t.lastTextareaValue="",t.lastSelection="",t.initialized=!1,t.virtualScroller={},t.damon=new $n,t.damonUtils=new Mn(t.damon),t.utils=mt}init(){let e=this;e.statusBarHTML=mt.html`
<div>
    Spaces: <a href="https://github.com/adrianturcev/space/blob/master/bindings.md"><kbd>SPACE</kbd></a>
</div>
<a href="https://github.com/adrianturcev/damon/blob/master/language_reference.md">
    DAMON
    <svg
    viewBox="0 0 24 24"
    xmlns="http://www.w3.org/2000/svg">
        <title>help-circle</title>
        <circle
            style="fill:#FEFEFE;stroke-width:1.04312;fill-opacity:1"
            cx="12"
            cy="12"
            r="9.6854191" />
        <path
            fill="#FEFEFE"
            d="M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"
            style="fill:#4169e1;fill-opacity:1" />
    </svg>
</a>
<button class="space-copyButton">
    JSON
    <svg
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg">
        <title>content-copy</title>
        <path
            fill="#FEFEFE"
            d="M 4,21 H 15 V 7 H 4 M 4,5 h 11 a -2,2 0 0 1 2,2 v 14 a -2,2 0 0 1 -2,2 H 4 A -2,2 0 0 1 2,21 V 7 A -2,2 0 0 1 4,5 M 7,1 h 12 a -2,2 0 0 1 2,2 V 17 H 19 V 3 H 7 Z"/>
    </svg>
</button>
<button class="space-diffButton">
    Diff
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <title>set-left-right</title>
        <path
            fill="#FEFEFE"
            d="M9,5C10.04,5 11.06,5.24 12,5.68C12.94,5.24 13.96,5 15,5A7,7 0 0,1 22,12A7,7 0 0,1 15,19C13.96,19 12.94,18.76 12,18.32C11.06,18.76 10.04,19 9,19A7,7 0 0,1 2,12A7,7 0 0,1 9,5M9,12C9,14.22 10.21,16.16 12,17.2C13.79,16.16 15,14.22 15,12C15,9.78 13.79,7.84 12,6.8C10.21,7.84 9,9.78 9,12Z" />
    </svg>
</button>`,e.innerHTML=mt.html`
<div class="space-editor" data-state="js-off">
    <div class="space-gutter"></div>
    <div class="space-container">
<pre class="space-dummyTextarea"><span class="space-caretPadding"></span><span class="space-caret">&nbsp;</span></pre>
        <pre class="space-overlay" aria-hidden="true" tabindex="-1">
            <code class="language-damon"></code>
        </pre>
        <textarea
            class="space-textarea"
            placeholder="Paste JSON/CSV or write DAMON"
            spellcheck="false"
            aria-labelledby=""
            aria-controls="space-statusBar0"
            maxlength="500000">
        </textarea>
        <ul class="space-suggestions"></ul>
    </div>
</div>
<div class="space-statusBar" id="space-statusBar0" role="log" aria-live="polite">${e.statusBarHTML}</div>
        `;let r="";e.dom.innerHTML!==e.innerHTML&&(e.dom.getElementsByTagName("textarea")[0]!==void 0&&(r=e.dom.getElementsByTagName("textarea")[0].innerHTML),e.dom.innerHTML=e.innerHTML),e.editor=e.dom.getElementsByClassName("space-editor")[0],e.gutter=e.dom.getElementsByClassName("space-gutter")[0],e.container=e.dom.getElementsByClassName("space-container")[0],e.overlay=e.dom.getElementsByClassName("space-overlay")[0],e.textarea=e.dom.getElementsByClassName("space-textarea")[0],e.textarea.innerHTML=r,e.caretPadding=e.dom.getElementsByClassName("space-caretPadding")[0],e.caret=e.dom.getElementsByClassName("space-caret")[0],e.statusBar=e.dom.getElementsByClassName("space-statusBar")[0],e.copyButton=e.dom.getElementsByClassName("space-copyButton")[0],e.diffButton=e.dom.getElementsByClassName("space-copyButton")[0],e.virtualScroller=new Hn(this),e.editor.dataset.state="",e.textarea.value=e.formatIndentation(e.textarea.value.replaceAll(/\r/g,"")),e.routes=Br()(this),e.overlay.firstElementChild.innerHTML="",e.gutter.innerHTML="",e.update(),e.updateCurrentLine(),e.lastTextareaValue=e.textarea.value,e.initialized=!0,e.lint()}update(){let e=this;e.initialized&&e.lastTextareaValue==e.textarea.value||(e.gutter.children.length==0?e.virtualScroller.init(0):e.virtualScroller.inputHandler(),e.initialized&&(e.lastTextareaValue=e.textarea.value))}updateHorizontalScroll(){let e=this;if(document.activeElement==e.textarea){let r=e.textarea.value.split(`
`),n=0,t=e.gutter.children[0].children[0].getBoundingClientRect().width;for(let l=0,a=r.length;l<a&&n+r[l].length<e.textarea.selectionEnd;l++)n+=r[l].length+1;(e.textarea.selectionEnd-n)*t-e.gutter.clientWidth<=e.editor.scrollLeft&&(e.editor.scrollLeft=0)}}getCurrentLine(){let e=this,r=e.textarea.value.split(`
`),n=0,t=0,l=0;(e.textarea.selectionDirection=="forward"||e.textarea.selectionStart==e.textarea.selectionEnd)&&(n=e.textarea.selectionEnd),e.textarea.selectionDirection=="backward"&&(n=e.textarea.selectionStart);for(let a=0,o=r.length;a<o;a++)if(t+r[a].length+a<n)t+=r[a].length;else{l=a;break}return l}getSelectionStartCoordinates(){let e=this,r=e.textarea.value.split(`
`),n=e.textarea.selectionStart,t=0,l=0;for(let a=0,o=r.length;a<o;a++)if(t+r[a].length+a<n)t+=r[a].length;else{t+=a,l=a;break}return[l,e.textarea.selectionStart-t]}getSelectionEndCoordinates(){let e=this,r=e.textarea.value.split(`
`),n=e.textarea.selectionEnd,t=0,l=0;for(let a=0,o=r.length;a<o;a++)if(t+r[a].length+a<n)t+=r[a].length;else{t+=a,l=a;break}return[l,e.textarea.selectionEnd-t]}setCarretAt(e,r){let n=this;r==null&&(r=n.textarea.value.split(`
`)[e].length);let t=Math.min(r,n.textarea.value.split(`
`)[e].length);e==0?n.textarea.selectionStart=t:n.textarea.selectionStart=n.textarea.value.split(`
`).slice(0,e).reduce(function(l,a){return l+a}).length+e+t,n.textarea.selectionEnd=n.textarea.selectionStart,n.textarea.focus()}getTextareaSelection(){let e=this;return e.textarea.selectionStart<e.textarea.selectionEnd?e.textarea.value.slice(e.textarea.selectionStart,e.textarea.selectionEnd):e.textarea.selectionStart<e.textarea.selectionEnd?e.textarea.value.slice(e.textarea.selectionEnd,e.textarea.selectionStart):void 0}updateCurrentLine(e){let r=this,n=r.currentLine;if(r.currentLine=r.getCurrentLine(),n!=r.currentLine||!r.initialized||e||r.lastSelection!=null&&r.getTextareaSelection()==null){for(let l=0,a=r.gutter.children.length;l<a;l++)r.gutter.children[l].classList.remove("currentLine"),r.gutter.children[l].classList.remove("selectionEnd");r.gutter.children[r.currentLine-r.gutter.children[0].textContent.trim()+1]&&(r.textarea.selectionEnd==r.textarea.selectionStart?r.gutter.children[r.currentLine-r.gutter.children[0].textContent.trim()+1].classList.add("currentLine"):r.gutter.children[r.currentLine-r.gutter.children[0].textContent.trim()+1].classList.add("selectionEnd"))}}historyUpdate(){let e=this;if(e.history.length==0||e.textarea.value!=e.history[e.historyPosition-1][0]){let n=function(t,l){return t+l[0]+l[1]};var r=n;if(e.history.length==1){let t=e.textarea.selectionStart-(e.textarea.value.length-e.history[0][0].length);e.history[0][0].length>e.textarea.value.length&&(t=e.textarea.selectionStart-(e.history[0][0].length-e.textarea.value.length)),e.history.push([e.history[0][0],t]),e.historyPosition++}if(e.historyPosition!=e.history.length&&(e.history=e.history.slice(0,e.historyPosition)),e.history.push([e.textarea.value,e.textarea.selectionStart]),e.history.reduce(n,"").length*4>1e8){let t=0;for(;e.history.reduce(n,"").length*4>1e8;)t++,e.history.shift();e.historyPosition-=t}e.historyPosition++}}debounceHistoryUpdate(){var e=this,r=arguments;clearTimeout(this.historyUpdateTimeoutId),this.historyUpdateTimeoutId=setTimeout(function(){e.historyUpdateTimeoutId=null,e.historyUpdate.apply(e,r)},200)}formatIndentation(e){let r=this,n=e.split(`
`);for(let t=0,l=n.length;t<l;t++){if(/^ *(\t)+/.test(n[t])){let a=n[t].match(/^ *(\t)+/)[0].length;for(let o=0,p=a;o<p;o++)n[t]=n[t].replace("	","    ")}if(/^( )+/.test(n[t])&&n[t].match(/^( )+/)[0].length%4!==0){for(let a=n[t].match(/^( )+/)[0].length;0<=a;a--)if(a%4==0){n[t].trimStart(),n[t]=" ".repeat(a)+n[t];break}}}return n.join(`
`)}formatHyphens(e){let r=this,n=e.split(`
`);for(let t=0,l=n.length;t<l;t++)if(!/^ *- /.test(n[t])){let a="";/^ /.test(n[t])&&(a=n[t].match(/^( )+/)[0]),n[t]=a+"- "+n[t].slice(a.length)}return n.join(`
`)}updateCaret(){let e=this;e.textarea.selectionDirection=="forward"||e.textarea.selectionStart==e.textarea.selectionEnd?e.caretPadding.textContent=e.textarea.value.slice(0,e.textarea.selectionEnd):e.caretPadding.textContent=e.textarea.value.slice(0,e.textarea.selectionStart)}setTextarea(e,r,n=r){let t=this;t.lastTextareaValue=t.textarea.value,t.textarea.value=e,r!==null&&t.textarea.setSelectionRange(r,n)}lint(){let e=this;try{e.damon.damonToMap(e.textarea.value),e.statusBar.innerHTML=e.statusBarHTML}catch(r){r.language=="JSON"?e.statusBar.innerHTML="<span>( ! ) Error line number "+r.line+": "+r.type+" not JSON-compliant</span>"+e.statusBarHTML:e.statusBar.innerHTML="<span>( ! ) "+r.message+"</span>"+e.statusBarHTML,console.error(r)}e.copyButton=e.dom.getElementsByClassName("space-copyButton")[0],e.copyButton.addEventListener("click",function(r){let n=document.createElement("textarea");n.style.opacity="0";try{n.value=e.damon.damonToJSON(e.textarea.value)}catch{setTimeout(function(){e.copyButton.classList.remove("error")},1100),e.copyButton.classList.add("error");return}document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy")&&(setTimeout(function(){e.copyButton.classList.remove("success")},1100),e.copyButton.classList.add("success"))}catch(t){console.error(t.name,t.message)}document.body.removeChild(n)}),e.diffButton=e.dom.getElementsByClassName("space-diffButton")[0],e.diffButton.addEventListener("click",function(r){try{e.damon.damonToMap(e.textarea.value)}catch{alert("Invalid initial value.");return}e.diff(r)})}diff(e){let r=this;if(r.dom.getElementsByTagName("form").length||r.dom.getElementsByClassName("space-diff").length)return;let n=document.createElement("form"),t=document.createElement("div"),l=document.createElement("input"),a=document.createElement("label"),o=document.createElement("textarea"),p=document.createElement("button");l.type="checkbox",l.id="spaceDiffSortCheckbox",l.name="sort",a.textContent="Sort",a.setAttribute("for","spaceDiffSortCheckbox"),o.className="space-diffTextarea",n.style.position="absolute",o.placeholder="Paste DAMON or JSON.",p.textContent="Close",p.addEventListener("click",function(s){n.remove()}),t.appendChild(l),t.appendChild(a),n.appendChild(t),n.appendChild(o),n.appendChild(p),r.dom.appendChild(n),o.focus(),o.addEventListener("paste",function(s){let d=r.formatIndentation(s.clipboardData.getData("text").replace(new RegExp(/\r/g),"")),f="",g,c;try{g=r.damon.damonToMap(r.textarea.value)}catch{n.remove(),alert("Invalid initial value.");return}try{JSON.parse(d),c=r.damon.jsonToMap(d)}catch{try{c=r.damon.damonToMap(d)}catch{n.remove(),alert("Invalid clipboard value.");return}}l.checked&&(c=r.damonUtils.sortMap(g,c)),f=r.damonUtils.renderDiff(g,c);let N=document.createElement("div"),E=document.createElement("button");N.className="space-diff",N.innerHTML=f.innerHTML,E.textContent="Close",r.damonUtils.wrapListContentsForStyling(N.getElementsByTagName("li")),N.appendChild(E),r.dom.append(N),E.addEventListener("click",function(A){N.remove()}),r.damonUtils.addLineNumbers(r.textarea.value,N),n.remove()})}debounceLint(){var e=this,r=arguments;clearTimeout(this.lintTimeoutId),this.lintTimeoutId=setTimeout(function(){e.lintTimeoutId=null,e.lint.apply(e,r)},200)}}});(function(){window.Space=zr()})();})();
/*! Bundled license information:

dompurify/dist/purify.cjs.js:
  (*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE *)
*/
