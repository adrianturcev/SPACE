/* PrismJS 1.28.0
https://prismjs.com/download.html#themes=prism-okaidia&languages=json&plugins=show-invisibles+normalize-whitespace */
var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(e){var n=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,t=0,r={},a={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(n){return n instanceof i?new i(n.type,e(n.content),n.alias):Array.isArray(n)?n.map(e):n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function e(n,t){var r,i;switch(t=t||{},a.util.type(n)){case"Object":if(i=a.util.objId(n),t[i])return t[i];for(var l in r={},t[i]=r,n)n.hasOwnProperty(l)&&(r[l]=e(n[l],t));return r;case"Array":return i=a.util.objId(n),t[i]?t[i]:(r=[],t[i]=r,n.forEach((function(n,a){r[a]=e(n,t)})),r);default:return n}},getLanguage:function(e){for(;e;){var t=n.exec(e.className);if(t)return t[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,t){e.className=e.className.replace(RegExp(n,"gi"),""),e.classList.add("language-"+t)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(r.stack)||[])[1];if(e){var n=document.getElementsByTagName("script");for(var t in n)if(n[t].src==e)return n[t]}return null}},isActive:function(e,n,t){for(var r="no-"+n;e;){var a=e.classList;if(a.contains(n))return!0;if(a.contains(r))return!1;e=e.parentElement}return!!t}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,n){var t=a.util.clone(a.languages[e]);for(var r in n)t[r]=n[r];return t},insertBefore:function(e,n,t,r){var i=(r=r||a.languages)[e],l={};for(var o in i)if(i.hasOwnProperty(o)){if(o==n)for(var s in t)t.hasOwnProperty(s)&&(l[s]=t[s]);t.hasOwnProperty(o)||(l[o]=i[o])}var u=r[e];return r[e]=l,a.languages.DFS(a.languages,(function(n,t){t===u&&n!=e&&(this[n]=l)})),l},DFS:function e(n,t,r,i){i=i||{};var l=a.util.objId;for(var o in n)if(n.hasOwnProperty(o)){t.call(n,o,n[o],r||o);var s=n[o],u=a.util.type(s);"Object"!==u||i[l(s)]?"Array"!==u||i[l(s)]||(i[l(s)]=!0,e(s,t,o,i)):(i[l(s)]=!0,e(s,t,null,i))}}},plugins:{},highlightAll:function(e,n){a.highlightAllUnder(document,e,n)},highlightAllUnder:function(e,n,t){var r={callback:t,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),a.hooks.run("before-all-elements-highlight",r);for(var i,l=0;i=r.elements[l++];)a.highlightElement(i,!0===n,r.callback)},highlightElement:function(n,t,r){var i=a.util.getLanguage(n),l=a.languages[i];a.util.setLanguage(n,i);var o=n.parentElement;o&&"pre"===o.nodeName.toLowerCase()&&a.util.setLanguage(o,i);var s={element:n,language:i,grammar:l,code:n.textContent};function u(e){s.highlightedCode=e,a.hooks.run("before-insert",s),s.element.innerHTML=s.highlightedCode,a.hooks.run("after-highlight",s),a.hooks.run("complete",s),r&&r.call(s.element)}if(a.hooks.run("before-sanity-check",s),(o=s.element.parentElement)&&"pre"===o.nodeName.toLowerCase()&&!o.hasAttribute("tabindex")&&o.setAttribute("tabindex","0"),!s.code)return a.hooks.run("complete",s),void(r&&r.call(s.element));if(a.hooks.run("before-highlight",s),s.grammar)if(t&&e.Worker){var c=new Worker(a.filename);c.onmessage=function(e){u(e.data)},c.postMessage(JSON.stringify({language:s.language,code:s.code,immediateClose:!0}))}else u(a.highlight(s.code,s.grammar,s.language));else u(a.util.encode(s.code))},highlight:function(e,n,t){var r={code:e,grammar:n,language:t};if(a.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=a.tokenize(r.code,r.grammar),a.hooks.run("after-tokenize",r),i.stringify(a.util.encode(r.tokens),r.language)},tokenize:function(e,n){var t=n.rest;if(t){for(var r in t)n[r]=t[r];delete n.rest}var a=new s;return u(a,a.head,e),o(e,a,n,a.head,0),function(e){for(var n=[],t=e.head.next;t!==e.tail;)n.push(t.value),t=t.next;return n}(a)},hooks:{all:{},add:function(e,n){var t=a.hooks.all;t[e]=t[e]||[],t[e].push(n)},run:function(e,n){var t=a.hooks.all[e];if(t&&t.length)for(var r,i=0;r=t[i++];)r(n)}},Token:i};function i(e,n,t,r){this.type=e,this.content=n,this.alias=t,this.length=0|(r||"").length}function l(e,n,t,r){e.lastIndex=n;var a=e.exec(t);if(a&&r&&a[1]){var i=a[1].length;a.index+=i,a[0]=a[0].slice(i)}return a}function o(e,n,t,r,s,g){for(var f in t)if(t.hasOwnProperty(f)&&t[f]){var h=t[f];h=Array.isArray(h)?h:[h];for(var d=0;d<h.length;++d){if(g&&g.cause==f+","+d)return;var v=h[d],p=v.inside,m=!!v.lookbehind,y=!!v.greedy,k=v.alias;if(y&&!v.pattern.global){var x=v.pattern.toString().match(/[imsuy]*$/)[0];v.pattern=RegExp(v.pattern.source,x+"g")}for(var b=v.pattern||v,w=r.next,A=s;w!==n.tail&&!(g&&A>=g.reach);A+=w.value.length,w=w.next){var E=w.value;if(n.length>e.length)return;if(!(E instanceof i)){var P,L=1;if(y){if(!(P=l(b,A,e,m))||P.index>=e.length)break;var S=P.index,O=P.index+P[0].length,j=A;for(j+=w.value.length;S>=j;)j+=(w=w.next).value.length;if(A=j-=w.value.length,w.value instanceof i)continue;for(var C=w;C!==n.tail&&(j<O||"string"==typeof C.value);C=C.next)L++,j+=C.value.length;L--,E=e.slice(A,j),P.index-=A}else if(!(P=l(b,0,E,m)))continue;S=P.index;var N=P[0],_=E.slice(0,S),M=E.slice(S+N.length),W=A+E.length;g&&W>g.reach&&(g.reach=W);var z=w.prev;if(_&&(z=u(n,z,_),A+=_.length),c(n,z,L),w=u(n,z,new i(f,p?a.tokenize(N,p):N,k,N)),M&&u(n,w,M),L>1){var I={cause:f+","+d,reach:W};o(e,n,t,w.prev,A,I),g&&I.reach>g.reach&&(g.reach=I.reach)}}}}}}function s(){var e={value:null,prev:null,next:null},n={value:null,prev:e,next:null};e.next=n,this.head=e,this.tail=n,this.length=0}function u(e,n,t){var r=n.next,a={value:t,prev:n,next:r};return n.next=a,r.prev=a,e.length++,a}function c(e,n,t){for(var r=n.next,a=0;a<t&&r!==e.tail;a++)r=r.next;n.next=r,r.prev=n,e.length-=a}if(e.Prism=a,i.stringify=function e(n,t){if("string"==typeof n)return n;if(Array.isArray(n)){var r="";return n.forEach((function(n){r+=e(n,t)})),r}var i={type:n.type,content:e(n.content,t),tag:"span",classes:["token",n.type],attributes:{},language:t},l=n.alias;l&&(Array.isArray(l)?Array.prototype.push.apply(i.classes,l):i.classes.push(l)),a.hooks.run("wrap",i);var o="";for(var s in i.attributes)o+=" "+s+'="'+(i.attributes[s]||"").replace(/"/g,"&quot;")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+o+">"+i.content+"</"+i.tag+">"},!e.document)return e.addEventListener?(a.disableWorkerMessageHandler||e.addEventListener("message",(function(n){var t=JSON.parse(n.data),r=t.language,i=t.code,l=t.immediateClose;e.postMessage(a.highlight(i,a.languages[r],r)),l&&e.close()}),!1),a):a;var g=a.util.currentScript();function f(){a.manual||a.highlightAll()}if(g&&(a.filename=g.src,g.hasAttribute("data-manual")&&(a.manual=!0)),!a.manual){var h=document.readyState;"loading"===h||"interactive"===h&&g&&g.defer?document.addEventListener("DOMContentLoaded",f):window.requestAnimationFrame?window.requestAnimationFrame(f):window.setTimeout(f,16)}return a}(_self);"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism);
Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},Prism.languages.webmanifest=Prism.languages.json;
!function(){if("undefined"!=typeof Prism){var r={tab:/\t/,crlf:/\r\n/,lf:/\n/,cr:/\r/,space:/ /};Prism.hooks.add("before-highlight",(function(r){i(r.grammar)}))}function e(r,a){var n=r[a];switch(Prism.util.type(n)){case"RegExp":var t={};r[a]={pattern:n,inside:t},i(t);break;case"Array":for(var f=0,s=n.length;f<s;f++)e(n,f);break;default:i(t=n.inside||(n.inside={}))}}function i(a){if(a&&!a.tab){for(var n in r)r.hasOwnProperty(n)&&(a[n]=r[n]);for(var n in a)a.hasOwnProperty(n)&&!r[n]&&("rest"===n?i(a.rest):e(a,n))}}}();
!function(){if("undefined"!=typeof Prism){var e=Object.assign||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},t={"remove-trailing":"boolean","remove-indent":"boolean","left-trim":"boolean","right-trim":"boolean","break-lines":"number",indent:"number","remove-initial-line-feed":"boolean","tabs-to-spaces":"number","spaces-to-tabs":"number"};n.prototype={setDefaults:function(t){this.defaults=e(this.defaults,t)},normalize:function(t,n){for(var r in n=e(this.defaults,n)){var i=r.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}));"normalize"!==r&&"setDefaults"!==i&&n[r]&&this[i]&&(t=this[i].call(this,t,n[r]))}return t},leftTrim:function(e){return e.replace(/^\s+/,"")},rightTrim:function(e){return e.replace(/\s+$/,"")},tabsToSpaces:function(e,t){return t=0|t||4,e.replace(/\t/g,new Array(++t).join(" "))},spacesToTabs:function(e,t){return t=0|t||4,e.replace(RegExp(" {"+t+"}","g"),"\t")},removeTrailing:function(e){return e.replace(/\s*?$/gm,"")},removeInitialLineFeed:function(e){return e.replace(/^(?:\r?\n|\r)/,"")},removeIndent:function(e){var t=e.match(/^[^\S\n\r]*(?=\S)/gm);return t&&t[0].length?(t.sort((function(e,t){return e.length-t.length})),t[0].length?e.replace(RegExp("^"+t[0],"gm"),""):e):e},indent:function(e,t){return e.replace(/^[^\S\n\r]*(?=\S)/gm,new Array(++t).join("\t")+"$&")},breakLines:function(e,t){t=!0===t?80:0|t||80;for(var n=e.split("\n"),i=0;i<n.length;++i)if(!(r(n[i])<=t)){for(var o=n[i].split(/(\s+)/g),a=0,l=0;l<o.length;++l){var s=r(o[l]);(a+=s)>t&&(o[l]="\n"+o[l],a=s)}n[i]=o.join("")}return n.join("\n")}},"undefined"!=typeof module&&module.exports&&(module.exports=n),Prism.plugins.NormalizeWhitespace=new n({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0}),Prism.hooks.add("before-sanity-check",(function(e){var n=Prism.plugins.NormalizeWhitespace;if((!e.settings||!1!==e.settings["whitespace-normalization"])&&Prism.util.isActive(e.element,"whitespace-normalization",!0))if(e.element&&e.element.parentNode||!e.code){var r=e.element.parentNode;if(e.code&&r&&"pre"===r.nodeName.toLowerCase()){for(var i in null==e.settings&&(e.settings={}),t)if(Object.hasOwnProperty.call(t,i)){var o=t[i];if(r.hasAttribute("data-"+i))try{var a=JSON.parse(r.getAttribute("data-"+i)||"true");typeof a===o&&(e.settings[i]=a)}catch(e){}}for(var l=r.childNodes,s="",c="",u=!1,m=0;m<l.length;++m){var f=l[m];f==e.element?u=!0:"#text"===f.nodeName&&(u?c+=f.nodeValue:s+=f.nodeValue,r.removeChild(f),--m)}if(e.element.children.length&&Prism.plugins.KeepMarkup){var d=s+e.element.innerHTML+c;e.element.innerHTML=n.normalize(d,e.settings),e.code=e.element.textContent}else e.code=s+e.code+c,e.code=n.normalize(e.code,e.settings)}}else e.code=n.normalize(e.code,e.settings)}))}function n(t){this.defaults=e({},t)}function r(e){for(var t=0,n=0;n<e.length;++n)e.charCodeAt(n)=="\t".charCodeAt(0)&&(t+=3);return e.length+t}}();
;
Prism.languages.damon = {
    'list-hyphen': {
        pattern: /(^\s*)(?:[*-])/m,
        lookbehind: true,
        greedy: true
    },
    'key': {
        pattern: /.+(?=(: (true *$|false *$|null *$|\".*\" *$|\\{.*\\} *$|\\[.*] *$|-?(?:0|[1-9]\\d*)(?:(?:\\.\\d+)?(?:[eE][+-]?\\d+)?)? *$)))/,
    },
    'string': {
        pattern: /(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,
        lookbehind: true,
        greedy: true
    },
    'comment': {
        pattern: /\/\/.*|\/\*[\s\S]*?(?:\*\/|$)\n/,
        greedy: true
    },
    'number': /-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,
    'operator': /:/,
    'boolean': /\b(?:false|true)\b/,
    'null': {
        pattern: /\bnull\b/,
        alias: 'keyword'
    },
    'map': {
        pattern: /(\{\})\n/,
    },
    'list': {
        pattern: /(\[\])\n/,
    },
    'punctuation': /[\{\}\[\],]/,
};

Prism.languages.webmanifest = Prism.languages.damon;
;
(()=>{var Ie=Object.create;var D=Object.defineProperty;var Fe=Object.getOwnPropertyDescriptor;var He=Object.getOwnPropertyNames;var Me=Object.getPrototypeOf,Ue=Object.prototype.hasOwnProperty;var Ve=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var qe=(t,e)=>()=>(t&&(e=t(t=0)),e);var $=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ge=(t,e)=>{for(var r in e)D(t,r,{get:e[r],enumerable:!0})},W=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of He(e))!Ue.call(t,i)&&i!==r&&D(t,i,{get:()=>e[i],enumerable:!(n=Fe(e,i))||n.enumerable});return t};var Ke=(t,e,r)=>(r=t!=null?Ie(Me(t)):{},W(e||!t||!t.__esModule?D(r,"default",{value:t,enumerable:!0}):r,t)),ze=t=>W(D({},"__esModule",{value:!0}),t);var Q=$((nt,X)=>{X.exports={nil(t){return t===null||typeof t>"u"},hack(t,e,r){return t.slice(e,r+1)},pick(t,e){return t.filter(e)},prune(t,e){return t.filter(function(r){return!e(r)})},check(t,e){return t.every(e)},escape(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},html(t){let e=t[0],r=Math.max(t.length,arguments.length-1);for(let n=1;n<t.length;n++)e+=arguments[n],e+=t[n];return e},addDataState(t,e){let r=[];t.dataset.state&&t.dataset.state.indexOf(" ")>-1?r=t.dataset.state.split(" "):r=[t.dataset.state],r.indexOf(e)===-1&&(r.push(e),t.dataset.state=r.join(" "))},removeDataState(t,e){let r=[];t.dataset.state&&t.dataset.state.indexOf(" ")>-1?r=t.dataset.state.split(" "):r=[t.dataset.state],t.dataset.state=r.filter(n=>n!==e).join(" ")},replaceDataState(t,e,r){this.removeDataState(t,e),this.addDataState(t,r)},toggleDataState(t,e){t.dataset.state.split(" ").indexOf(e)==-1?this.addDataState(t,e):this.removeDataState(t,e)},ajaxGet(t,e,r,n){var i=new XMLHttpRequest;i.open("GET",t),i.addEventListener("load",function(){if(i.status>=200&&i.status<400)if(r){var a={};try{a=JSON.parse(i.responseText)}catch{console.error("Get request returned invalid JSON.")}n===void 0?e(a):e.apply(n,[a])}else n===void 0?e(i.responseText):e.apply(n,[i.responseText]);else console.error(i.status+" "+i.statusText+" "+t)}),i.addEventListener("error",function(){console.error("Network error trying to access: "+t)}),i.send(null)},ajaxPost(t,e,r,n,i,a,s){var o=new XMLHttpRequest;o.open("POST",t),o.addEventListener("load",function(){o.status>=200&&o.status<400?a===void 0?r(o):r.apply(a,[o]):(s===void 0?n(o):n.apply(s,[o]),console.error(o.status+" "+o.statusText+" "+t))}),o.addEventListener("error",function(){console.error("Network error trying to access: "+t)}),i&&(o.setRequestHeader("Content-Type","application/json"),e=JSON.stringify(e)),o.send(e)}}});var Ne={};Ge(Ne,{__addDisposableResource:()=>ve,__assign:()=>k,__asyncDelegator:()=>ge,__asyncGenerator:()=>he,__asyncValues:()=>pe,__await:()=>J,__awaiter:()=>oe,__classPrivateFieldGet:()=>Ee,__classPrivateFieldIn:()=>we,__classPrivateFieldSet:()=>Se,__createBinding:()=>F,__decorate:()=>ee,__disposeResources:()=>be,__esDecorate:()=>re,__exportStar:()=>ue,__extends:()=>Z,__generator:()=>se,__importDefault:()=>xe,__importStar:()=>me,__makeTemplateObject:()=>ye,__metadata:()=>ae,__param:()=>te,__propKey:()=>ie,__read:()=>V,__rest:()=>j,__rewriteRelativeImportExtension:()=>Oe,__runInitializers:()=>ne,__setFunctionName:()=>le,__spread:()=>fe,__spreadArray:()=>de,__spreadArrays:()=>ce,__values:()=>I,default:()=>Xe});function Z(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");M(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function j(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function ee(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,r,a):s(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function te(t,e){return function(r,n){e(r,n,t)}}function re(t,e,r,n,i,a){function s(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var o=n.kind,c=o==="getter"?"get":o==="setter"?"set":"value",d=!e&&t?n.static?t:t.prototype:null,p=e||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),u,S=!1,g=r.length-1;g>=0;g--){var y={};for(var f in n)y[f]=f==="access"?{}:n[f];for(var f in n.access)y.access[f]=n.access[f];y.addInitializer=function(x){if(S)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(x||null))};var v=(0,r[g])(o==="accessor"?{get:p.get,set:p.set}:p[c],y);if(o==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(u=s(v.get))&&(p.get=u),(u=s(v.set))&&(p.set=u),(u=s(v.init))&&i.unshift(u)}else(u=s(v))&&(o==="field"?i.unshift(u):p[c]=u)}d&&Object.defineProperty(d,n.name,p),S=!0}function ne(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function ie(t){return typeof t=="symbol"?t:"".concat(t)}function le(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function ae(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function oe(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(p){try{d(n.next(p))}catch(u){s(u)}}function c(p){try{d(n.throw(p))}catch(u){s(u)}}function d(p){p.done?a(p.value):i(p.value).then(o,c)}d((n=n.apply(t,e||[])).next())})}function se(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(d){return function(p){return c([d,p])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(r=0)),r;)try{if(n=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){r.label=d[1];break}if(d[0]===6&&r.label<a[1]){r.label=a[1],a=d;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(d);break}a[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(p){d=[6,p],i=0}finally{n=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function ue(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&F(e,t,r)}function I(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function V(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a}function fe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(V(arguments[e]));return t}function ce(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],s=0,o=a.length;s<o;s++,i++)n[i]=a[s];return n}function de(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function J(t){return this instanceof J?(this.v=t,this):new J(t)}function he(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(y){return Promise.resolve(y).then(g,u)}}function o(g,y){n[g]&&(i[g]=function(f){return new Promise(function(v,x){a.push([g,f,v,x])>1||c(g,f)})},y&&(i[g]=y(i[g])))}function c(g,y){try{d(n[g](y))}catch(f){S(a[0][3],f)}}function d(g){g.value instanceof J?Promise.resolve(g.value.v).then(p,u):S(a[0][2],g)}function p(g){c("next",g)}function u(g){c("throw",g)}function S(g,y){g(y),a.shift(),a.length&&c(a[0][0],a[0][1])}}function ge(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,a){e[i]=t[i]?function(s){return(r=!r)?{value:J(t[i](s)),done:!1}:a?a(s):s}:a}}function pe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof I=="function"?I(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(s){return new Promise(function(o,c){s=t[a](s),i(o,c,s.done,s.value)})}}function i(a,s,o,c){Promise.resolve(c).then(function(d){a({value:d,done:o})},s)}}function ye(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function me(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=U(t),n=0;n<r.length;n++)r[n]!=="default"&&F(e,t,r[n]);return Ye(e,t),e}function xe(t){return t&&t.__esModule?t:{default:t}}function Ee(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Se(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function we(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function ve(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}function be(t){function e(a){t.error=t.hasError?new We(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(s){return e(s),i()})}else n|=1}catch(s){e(s)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function Oe(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,s){return n?e?".jsx":".js":i&&(!a||!s)?r:i+a+"."+s.toLowerCase()+"js"}):t}var M,k,F,Ye,U,We,Xe,Le=qe(()=>{M=function(t,e){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},M(t,e)};k=function(){return k=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},k.apply(this,arguments)};F=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};Ye=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},U=function(t){return U=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},U(t)};We=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};Xe={__extends:Z,__assign:k,__rest:j,__decorate:ee,__param:te,__esDecorate:re,__runInitializers:ne,__propKey:ie,__setFunctionName:le,__metadata:ae,__awaiter:oe,__generator:se,__createBinding:F,__exportStar:ue,__values:I,__read:V,__spread:fe,__spreadArrays:ce,__spreadArray:de,__await:J,__asyncGenerator:he,__asyncDelegator:ge,__asyncValues:pe,__makeTemplateObject:ye,__importStar:me,__importDefault:xe,__classPrivateFieldGet:Ee,__classPrivateFieldSet:Se,__classPrivateFieldIn:we,__addDisposableResource:ve,__disposeResources:be,__rewriteRelativeImportExtension:Oe}});var Ce=$(q=>{(function(t){"use strict";var e=typeof process=="object"&&process.env?process.env:self;t.parser=function(h){return new u(h)},t.CParser=u,t.CStream=g,t.createStream=S,t.MAX_BUFFER_LENGTH=64*1024,t.DEBUG=e.CDEBUG==="debug",t.INFO=e.CDEBUG==="debug"||e.CDEBUG==="info",t.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var r={textNode:void 0,numberNode:""},n=t.EVENTS.filter(function(h){return h!=="error"&&h!=="end"}),i=0,a;t.STATE={BEGIN:i++,VALUE:i++,OPEN_OBJECT:i++,CLOSE_OBJECT:i++,OPEN_ARRAY:i++,CLOSE_ARRAY:i++,TEXT_ESCAPE:i++,STRING:i++,BACKSLASH:i++,END:i++,OPEN_KEY:i++,CLOSE_KEY:i++,TRUE:i++,TRUE2:i++,TRUE3:i++,FALSE:i++,FALSE2:i++,FALSE3:i++,FALSE4:i++,NULL:i++,NULL2:i++,NULL3:i++,NUMBER_DECIMAL_POINT:i++,NUMBER_DIGIT:i++};for(var s in t.STATE)t.STATE[t.STATE[s]]=s;i=t.STATE;let o={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(h){function l(){this.__proto__=h}return l.prototype=h,new l}),Object.getPrototypeOf||(Object.getPrototypeOf=function(h){return h.__proto__}),Object.keys||(Object.keys=function(h){var l=[];for(var O in h)h.hasOwnProperty(O)&&l.push(O);return l});function c(h){var l=Math.max(t.MAX_BUFFER_LENGTH,10),O=0;for(var E in r){var C=h[E]===void 0?0:h[E].length;if(C>l)switch(E){case"text":closeText(h);break;default:m(h,"Max buffer length exceeded: "+E)}O=Math.max(O,C)}h.bufferCheckPosition=t.MAX_BUFFER_LENGTH-O+h.position}function d(h){for(var l in r)h[l]=r[l]}var p=/[\\"\n]/g;function u(h){if(!(this instanceof u))return new u(h);var l=this;d(l),l.bufferCheckPosition=t.MAX_BUFFER_LENGTH,l.q=l.c=l.p="",l.opt=h||{},l.closed=l.closedRoot=l.sawRoot=!1,l.tag=l.error=null,l.state=i.BEGIN,l.stack=new Array,l.position=l.column=0,l.line=1,l.slashed=!1,l.unicodeI=0,l.unicodeS=null,l.depth=0,y(l,"onready")}u.prototype={end:function(){b(this)},write:L,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{a=Ve("stream").Stream}catch{a=function(){}}function S(h){return new g(h)}function g(h){if(!(this instanceof g))return new g(h);this._parser=new u(h),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var l=this;a.apply(l),this._parser.onend=function(){l.emit("end")},this._parser.onerror=function(O){l.emit("error",O),l._parser.error=null},n.forEach(function(O){Object.defineProperty(l,"on"+O,{get:function(){return l._parser["on"+O]},set:function(E){if(!E)return l.removeAllListeners(O),l._parser["on"+O]=E,E;l.on(O,E)},enumerable:!0,configurable:!1})})}g.prototype=Object.create(a.prototype,{constructor:{value:g}}),g.prototype.write=function(h){h=new Buffer(h);for(var l=0;l<h.length;l++){var O=h[l];if(this.bytes_remaining>0){for(var E=0;E<this.bytes_remaining;E++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+E]=h[E];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,l=l+E-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&O>=128)if(O>=194&&O<=223&&(this.bytes_in_sequence=2),O>=224&&O<=239&&(this.bytes_in_sequence=3),O>=240&&O<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+l>h.length){for(var C=0;C<=h.length-1-l;C++)this.temp_buffs[this.bytes_in_sequence][C]=h[l+C];return this.bytes_remaining=l+this.bytes_in_sequence-h.length,!0}else{this.string=h.slice(l,l+this.bytes_in_sequence).toString(),l=l+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var A=l;A<h.length&&!(h[A]>=128);A++);this.string=h.slice(l,A).toString(),this._parser.write(this.string),this.emit("data",this.string),l=A-1}},g.prototype.end=function(h){return h&&h.length&&this._parser.write(h.toString()),this._parser.end(),!0},g.prototype.on=function(h,l){var O=this;return!O._parser["on"+h]&&n.indexOf(h)!==-1&&(O._parser["on"+h]=function(){var E=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);E.splice(0,0,h),O.emit.apply(O,E)}),a.prototype.on.call(O,h,l)},g.prototype.destroy=function(){d(this._parser),this.emit("close")};function y(h,l,O){t.INFO&&console.log("-- emit",l,O),h[l]&&h[l](O)}function f(h,l,O){v(h),y(h,l,O)}function v(h,l){h.textNode=w(h.opt,h.textNode),h.textNode!==void 0&&y(h,l||"onvalue",h.textNode),h.textNode=void 0}function x(h){h.numberNode&&y(h,"onvalue",parseFloat(h.numberNode)),h.numberNode=""}function w(h,l){return l===void 0||(h.trim&&(l=l.trim()),h.normalize&&(l=l.replace(/\s+/g," "))),l}function m(h,l){return v(h),l+=`
Line: `+h.line+`
Column: `+h.column+`
Char: `+h.c,l=new Error(l),h.error=l,y(h,"onerror",l),h}function b(h){return(h.state!==i.VALUE||h.depth!==0)&&m(h,"Unexpected end"),v(h),h.c="",h.closed=!0,y(h,"onend"),u.call(h,h.opt),h}function N(h){return h===o.carriageReturn||h===o.lineFeed||h===o.space||h===o.tab}function L(h){var l=this;if(this.error)throw this.error;if(l.closed)return m(l,"Cannot write after close. Assign an onready handler.");if(h===null)return b(l);var O=0,E=h.charCodeAt(0),C=l.p,A=!1;for(t.DEBUG&&console.log("write -> ["+h+"]");E&&(C=E,l.c=E=h.charCodeAt(O++),C!==E?l.p=C:C=l.p,!!E);)switch(t.DEBUG&&console.log(O,E,t.STATE[l.state]),A?A=!1:(l.position++,E===o.lineFeed?(l.line++,l.column=0):l.column++),l.state){case i.BEGIN:E===o.openBrace?l.state=i.OPEN_OBJECT:E===o.openBracket?l.state=i.OPEN_ARRAY:N(E)||m(l,"Non-whitespace before {[.");continue;case i.OPEN_KEY:case i.OPEN_OBJECT:if(N(E))continue;if(l.state===i.OPEN_KEY)l.stack.push(i.CLOSE_KEY);else if(E===o.closeBrace){y(l,"onopenobject"),this.depth++,y(l,"oncloseobject"),this.depth--,l.state=l.stack.pop()||i.VALUE;continue}else l.stack.push(i.CLOSE_OBJECT);E===o.doubleQuote?l.state=i.STRING:m(l,'Malformed object key should start with "');continue;case i.CLOSE_KEY:case i.CLOSE_OBJECT:if(N(E))continue;var T=l.state===i.CLOSE_KEY?"key":"object";E===o.colon?(l.state===i.CLOSE_OBJECT?(l.stack.push(i.CLOSE_OBJECT),v(l,"onopenobject"),this.depth++):v(l,"onkey"),l.state=i.VALUE):E===o.closeBrace?(f(l,"oncloseobject"),this.depth--,l.state=l.stack.pop()||i.VALUE):E===o.comma?(l.state===i.CLOSE_OBJECT&&l.stack.push(i.CLOSE_OBJECT),v(l),l.state=i.OPEN_KEY):m(l,"Bad object");continue;case i.OPEN_ARRAY:case i.VALUE:if(N(E))continue;if(l.state===i.OPEN_ARRAY)if(y(l,"onopenarray"),this.depth++,l.state=i.VALUE,E===o.closeBracket){y(l,"onclosearray"),this.depth--,l.state=l.stack.pop()||i.VALUE;continue}else l.stack.push(i.CLOSE_ARRAY);E===o.doubleQuote?l.state=i.STRING:E===o.openBrace?l.state=i.OPEN_OBJECT:E===o.openBracket?l.state=i.OPEN_ARRAY:E===o.t?l.state=i.TRUE:E===o.f?l.state=i.FALSE:E===o.n?l.state=i.NULL:E===o.minus?l.numberNode+="-":o._0<=E&&E<=o._9?(l.numberNode+=String.fromCharCode(E),l.state=i.NUMBER_DIGIT):m(l,"Bad value");continue;case i.CLOSE_ARRAY:if(E===o.comma)l.stack.push(i.CLOSE_ARRAY),v(l,"onvalue"),l.state=i.VALUE;else if(E===o.closeBracket)f(l,"onclosearray"),this.depth--,l.state=l.stack.pop()||i.VALUE;else{if(N(E))continue;m(l,"Bad array")}continue;case i.STRING:l.textNode===void 0&&(l.textNode="");var _=O-1,R=l.slashed,B=l.unicodeI;e:for(;;){for(t.DEBUG&&console.log(O,E,t.STATE[l.state],R);B>0;)if(l.unicodeS+=String.fromCharCode(E),E=h.charCodeAt(O++),l.position++,B===4?(l.textNode+=String.fromCharCode(parseInt(l.unicodeS,16)),B=0,_=O-1):B++,!E)break e;if(E===o.doubleQuote&&!R){l.state=l.stack.pop()||i.VALUE,l.textNode+=h.substring(_,O-1),l.position+=O-1-_;break}if(E===o.backslash&&!R&&(R=!0,l.textNode+=h.substring(_,O-1),l.position+=O-1-_,E=h.charCodeAt(O++),l.position++,!E))break;if(R){if(R=!1,E===o.n?l.textNode+=`
`:E===o.r?l.textNode+="\r":E===o.t?l.textNode+="	":E===o.f?l.textNode+="\f":E===o.b?l.textNode+="\b":E===o.u?(B=1,l.unicodeS=""):l.textNode+=String.fromCharCode(E),E=h.charCodeAt(O++),l.position++,_=O-1,E)continue;break}p.lastIndex=O;var H=p.exec(h);if(H===null){O=h.length+1,l.textNode+=h.substring(_,O-1),l.position+=O-1-_;break}if(O=H.index+1,E=h.charCodeAt(H.index),!E){l.textNode+=h.substring(_,O-1),l.position+=O-1-_;break}}l.slashed=R,l.unicodeI=B;continue;case i.TRUE:E===o.r?l.state=i.TRUE2:m(l,"Invalid true started with t"+E);continue;case i.TRUE2:E===o.u?l.state=i.TRUE3:m(l,"Invalid true started with tr"+E);continue;case i.TRUE3:E===o.e?(y(l,"onvalue",!0),l.state=l.stack.pop()||i.VALUE):m(l,"Invalid true started with tru"+E);continue;case i.FALSE:E===o.a?l.state=i.FALSE2:m(l,"Invalid false started with f"+E);continue;case i.FALSE2:E===o.l?l.state=i.FALSE3:m(l,"Invalid false started with fa"+E);continue;case i.FALSE3:E===o.s?l.state=i.FALSE4:m(l,"Invalid false started with fal"+E);continue;case i.FALSE4:E===o.e?(y(l,"onvalue",!1),l.state=l.stack.pop()||i.VALUE):m(l,"Invalid false started with fals"+E);continue;case i.NULL:E===o.u?l.state=i.NULL2:m(l,"Invalid null started with n"+E);continue;case i.NULL2:E===o.l?l.state=i.NULL3:m(l,"Invalid null started with nu"+E);continue;case i.NULL3:E===o.l?(y(l,"onvalue",null),l.state=l.stack.pop()||i.VALUE):m(l,"Invalid null started with nul"+E);continue;case i.NUMBER_DECIMAL_POINT:E===o.period?(l.numberNode+=".",l.state=i.NUMBER_DIGIT):m(l,"Leading zero not followed by .");continue;case i.NUMBER_DIGIT:o._0<=E&&E<=o._9?l.numberNode+=String.fromCharCode(E):E===o.period?(l.numberNode.indexOf(".")!==-1&&m(l,"Invalid number has two dots"),l.numberNode+="."):E===o.e||E===o.E?((l.numberNode.indexOf("e")!==-1||l.numberNode.indexOf("E")!==-1)&&m(l,"Invalid number has two exponential"),l.numberNode+="e"):E===o.plus||E===o.minus?(C===o.e||C===o.E||m(l,"Invalid symbol in number"),l.numberNode+=String.fromCharCode(E)):(x(l),O--,A=!0,l.state=l.stack.pop()||i.VALUE);continue;default:m(l,"Unknown state: "+l.state)}return l.position>=l.bufferCheckPosition&&c(l),l}})(typeof q>"u"?clarinet={}:q)});var Ae=$(P=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});P.stringify=P.parse=void 0;var Qe=(Le(),ze(Ne)),Ze=Qe.__importDefault(Ce());function je(t){let e=K(),r,n;function i(s){try{let o=e.next(s);o.done&&(r=o.value)}catch(o){n=o}}let a=Ze.default.parser();if(a.onopenobject=s=>i({type:"openobject",key:s}),a.onopenarray=()=>i({type:"openarray"}),a.onkey=s=>i({type:"key",key:s}),a.onvalue=s=>i({type:"value",value:s}),a.oncloseobject=()=>i({type:"closeobject"}),a.onclosearray=()=>i({type:"closearray"}),a.onerror=s=>i({type:"error",err:s}),e.next(),a.write(t).close(),n)throw n;return r}P.parse=je;function G(t){return Array.isArray(t)?`[${t.map(G).join(",")}]`:t instanceof Map?`{${[...t].map(([e,r])=>JSON.stringify(e)+":"+G(r)).join(",")}}`:JSON.stringify(t)}P.stringify=G;var _e=Symbol();function*K(){let t=yield;switch(t.type){case"value":return t.value;case"openobject":let e=new Map,r=t.key;for(r===void 0&&(yield);r!==void 0;)e.set(r,yield*K()),r=(yield).key;return e;case"openarray":let n=[],i;for(;;){if(i=yield*K(),i===_e)return n;n.push(i)}case"closearray":return _e;case"error":throw t.err;default:throw Error(`Unexpected ParseEvent ${t.type}`)}}});var $e=$((ot,Re)=>{var Te=Ae().parse;Re.exports=class{constructor(e=!1){let r=this;if(this.indentation=4,[!0,!1,void 0].indexOf(e)==-1)throw new Error("@param {Boolean} pedantic");this.pedantic=e}template(e){let r=this;var n=e.raw[0];for(let a=1;a<e.raw.length;a++)typeof arguments[a]=="string"?n+='"'+arguments[a]+'"':n+=arguments[a],n+=e.raw[a];return r._treeToMap(r._damonToTree(n))}damonToMap(e){let r=this,n=r._damonToTree(e);return n===!0||n===!1||n===null||typeof n=="string"||typeof n=="number"?n:r._treeToMap(r._damonToTree(e))}damonToJSON(e){let r=this;return r.mapToJSON(r.damonToMap(e))}jsonToDamon(e){let r=this;return r.mapToDamon(r.jsonToMap(e),!1)}jsonToMap(e){var n=this._getLines(e,"JSON");if(n=n.filter(i=>!/^ *\/\//.test(i)),n=n.filter(i=>i!=""),n=n.filter(i=>!/^[ \t]+$/.test(i)),n.length==1){if(["true","false","null"].indexOf(n[0].trim())>-1)return JSON.parse(n[0]);if(/^".*"$/.test(n[0].trim()))try{return JSON.parse(n[0].trim())}catch(i){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),i.line=1,i.language="JSON",i.type="string",i}else if(isFinite(n[0])&&!isNaN(parseFloat(n[0]))&&Number.isFinite(n[0]*1)&&!Number.isNaN(n[0]*1)){if(n[0].indexOf(0)==0&&n[0].length>1&&n[0].indexOf(".")!==1){let i=new Error("Error line number 1: leading 0");throw i.line=1,i.language="DAMON",i}try{return JSON.parse(n[0]*1)}catch(i){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),i.line=1,i.language="JSON",i.type="number",i}}else if(n[0]*1===1/0)try{JSON.parse(n[0]*1)}catch(i){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),i.line=1,i.language="JSON",i.type="infinity",i}else return Te(e)}else return Te(e)}_getLines(e,r="DAMON"){if(["DAMON","JSON"].indexOf(r)==-1)throw new Error("Bad language argument, expected 'DAMON' or 'JSON'");if(e===""){let a=new Error("Error line 1: empty string");throw a.line=1,a.language=r,a}if(/[\s]/.test(e)&&e.match(new RegExp(/[\s]/))[0].length==e.length){let a=new Error("Error line 1: string only contains whitespace");throw a.line=1,a.language=r,a}var n=/\r\n/.test(e)?`\r
`:`
`,i=e.split(n);if(/\\*\n/.test(e)&&n==`
`){if(/[^\\]\\(\\\\)*\n/.test(e)){let o=e.split(/[^\\]\\(\\\\)*\n/)[0].split(`
`).length,c=new Error("Error line "+o+": oddly escaped newline");throw c.line=o,c.language=r,c}i=e.split("").reverse().join("").split(/\n/).map(o=>o.split("").reverse().join("")).reverse()}return i}_damonToTree(e){let r=this,n=r._getLines(e),i=n.slice(0);if(n=n.filter(f=>!/^ *\/\//.test(f)),n=n.filter(f=>f!=""),n=n.filter(f=>!/^[ \t]+$/.test(f)),n.length==1){if(["true","false","null"].indexOf(n[0].trim())>-1)return JSON.parse(n[0]);if(/^".*"$/.test(n[0].trim()))try{return JSON.parse(n[0].trim())}catch(f){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),f.line=1,f.language="JSON",f.type="string",f}else if(isFinite(n[0])&&!isNaN(parseFloat(n[0]))&&Number.isFinite(n[0]*1)&&!Number.isNaN(n[0]*1)){if(n[0].indexOf(0)==0&&n[0].length>1&&n[0].indexOf(".")!==1){let f=new Error("Error line number 1: leading 0");throw f.line=1,f.language="DAMON",f}try{return JSON.parse(n[0]*1)}catch(f){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),f.line=1,f.language="JSON",f.type="number",f}}else if(n[0]*1===1/0)try{JSON.parse(n[0]*1)}catch(f){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),f.line=1,f.language="JSON",f.type="infinity",f}}let a=0,s=[];for(let f=0,v=i.length;f<v;f++)n.slice(a).indexOf(i[f])>-1?s[f]=n.slice(a).indexOf(i[f]):s[f]=null;let o=new RegExp("^(\\t)+");for(let f=0,v=n.length;f<v;f++){if(o.test(n[f])){let x=n[f].match(o)[0].length;for(let w=0,m=x;w<m;w++)n[f]=n[f].replace("	"," ".repeat(r.indentation))}if(!/^ *- $/.test(n[f])&&/[ \t]+$/.test(n[f])){let x=new Error("Error line "+(s.indexOf(f)+1)+": trailing whitespace");throw x.line=s.indexOf(f)+1,x.language="DAMON",x}}let c=new RegExp("^("+" ".repeat(r.indentation)+")+");if(c.test(n[0])){let f=n[0].match(c)[0].length,v=!0;for(let x=0,w=n.length;x<w;x++)c.test(n[x])&&n[x].match(c)[0].length>=f?n[x]=n[x].slice(f):v=!1;if(!v){let x=new Error("Error line 1: bad formatting");throw x.line=1,x.language="DAMON",x}}else if(c.test(n[1])&&n[1].match(c)[0].length>r.indentation){let f=n[1].match(c)[0].length-r.indentation,v=!0;for(let x=1,w=n.length;x<w;x++)c.test(n[x])&&n[x].match(c)[0].length>=f?n[x]=n[x].slice(f):v=!1;if(!v){let x=new Error("Error line 2: bad formatting");throw x.line=2,x.language="DAMON",x}}let d=!1;if(n.length>1)for(let f=0,v=n.length;f<v;f++)f!==0&&/^- /.test(n[f])&&(d=!0);if(!/^- \{\}$/.test(n[0])&&!/^- \[\]$/.test(n[0])&&(d=!0),d){for(let f=0,v=n.length;f<v;f++)n[f]=" ".repeat(r.indentation)+n[f];n.unshift("- {}")}var p={content:n[0],level:0,id:0,children:[],headless:d,damonOriginalLinesMapping:s},u=p;if(!/^- /.test(n[0].trimStart())||/^ +/.test(n[0])&&(n[0].match(/^ +/)[0].length%r.indentation!=0||n[0].match(/^ +/)[0].length!=r.indentation)){let f=new Error("Error line "+(d*1+1)+": bad formatting");throw f.line=d*1+1,f.language="DAMON",f}n.shift();for(let f=0,v=n.length;f<v;f++){if(!/^- /.test(n[f].trimStart())||/^ +/.test(n[f])&&(n[f].match(/^ +/)[0].length%r.indentation!=0||f==0&&n[f].match(/^ +/)[0].length!=r.indentation||f!=0&&/^- /.test(n[f-1])&&n[f].match(/^ +/)[0].length!=r.indentation||f!=0&&!/^- /.test(n[f-1])&&n[f].match(/^ +/)[0].length>n[f-1].match(/^ +/)[0].length+r.indentation)){console.log(n[f]);let w=new Error("Error line "+(s.indexOf(f)+1)+": bad formatting");throw w.line=s.indexOf(f)+1,w.language="DAMON",w}let x={content:n[f].trimStart().slice(2),level:1+n[f].match(/^ +/)[0].length/r.indentation,id:"",children:[]};if(u===p)x.id=p.children.length+1,p.children.push(x);else if(u.level===x.level){var S=r._findListItemCommonDirectParent(u,p);S.level==0?x.id=S.children.length+1:x.id=S.id+"-"+(S.children.length+1),S.children.push(x)}else if(u.level>x.level){var g=r._findListItemCommonAncestor(u,p,x.level);g.level==0?x.id=g.children.length+1:x.id=g.id+"-"+(g.children.length+1),g.children.push(x)}else if(u.level<x.level){var y=r._findListItemCommonDirectParent(u,p);let w=y.children.indexOf(u),m=y.children[w].id,b=y.children[w].children.length+1;x.id=m+"-"+b,y.children[w].children.push(x)}u=x}return p}_findListItemCommonDirectParent(e,r){let n=this;if(r.children.indexOf(e)>-1)return r;var i;for(let a=r.children.length-1,s=0;a>=s;a--)if(i=n._findListItemCommonDirectParent(e,r.children[a]),i)return i}_findListItemCommonAncestor(e,r,n){let i=this;var a=i._findListItemCommonDirectParent(e,r);return a.level<n?a:i._findListItemCommonAncestor(a,r,n)}_treeToMap(e){let r=this;var n=0;if(e.content=="- {}"){let o=new Map;return o.damonOriginalLinesMapping=e.damonOriginalLinesMapping,i(e,o)}else if(e.content=="- []"){let o=[];return o.damonOriginalLinesMapping=e.damonOriginalLinesMapping,i(e,o)}else{let o=new Map;return o.damonOriginalLinesMapping=e.damonOriginalLinesMapping,e.headless&&(o.headless=!0),i(e,o)}function i(o,c){if(typeof o!="object"||o==null||Array.isArray(o)){let d=e.headless*-1+e.damonOriginalLinesMapping.indexOf(n-1)+2,p=new Error("Error line number "+d+": @param { {} } tree");throw p.line=d,p.language="DAMON",p}if(typeof c=="object"&&c!==null&&!Array.isArray(c)&&c instanceof Map&&c.constructor===Map)a(o,c);else if(Array.isArray(c))s(o,c);else{let d=e.headless*-1+e.damonOriginalLinesMapping.indexOf(n-1)+2,p=new Error("Error line number "+d+": @param { {} | [] } jsonMap");throw p.line=d,p.language="DAMON",p}return c}function a(o,c){for(let d=0,p=o.children.length;d<p;d++)if(n++,o.children[d].content.length==0){let u="";o.children[d].children.length>0?(u="implicit map key",c.set("",new Map),c.implicitMaps===void 0&&(c.implicitMaps=[]),c.implicitMaps.push(""),i(o.children[d],c.get(""))):(u="implicit null key",c.set("",null),c.implicitNulls===void 0&&(c.implicitNulls=[]),c.implicitNulls.push(""))}else{let u=o.children[d].content,S="key";try{if(/^.*: +\[/.test(u)&&u[u.length-1]=="]")if(/: +\[ *\]$/.test(u)){let g=JSON.parse(`["${u.slice(0,-1*u.match(/: +\[ *\]$/)[0].length)}"]`)[0];c.set(g,[]),o.children[d].children.length>0&&i(o.children[d],c.get(g))}else{let g=new RegExp(/: +\[/g),y=u.slice(0,-1).split(g),f=u.match(g).concat([""]),v=y.map((b,N)=>b+f[N]),x="",w=[];for(let b=0,N=y.length;b<N;b++)try{let L;if(b==0?L=y[0]:L=v.slice(0,b).join("")+y[b],x=JSON.parse(`["${L}"]`)[0],S="list",w=JSON.parse(`[${v.slice(b+1).join("")}]`),Array.isArray(w))break}catch{if(b==N-2){let h=e.headless*-1+e.damonOriginalLinesMapping.indexOf(n-1)+2,l=new Error("Error line number "+h+": invalid inline list");throw l.line=h,l.language="DAMON",l}}if(w.every(function(b){return b===!0||b===!1||b===null||typeof b=="string"?!0:!!(isFinite(b)&&!isNaN(parseFloat(b))&&Number.isFinite(b*1)&&!Number.isNaN(b*1))}))c.set(x,w),c.damonInlineArrays===void 0&&(c.damonInlineArrays=[]),c.damonInlineArrays.push(x);else{let b=+(e.headless*-1)+e.damonOriginalLinesMapping.indexOf(n-1)+2,N=new Error("Error line number "+b+": no nesting in inline lists");throw N.line=b,N.language="DAMON",N}if(o.children[d].children.length>0){let b=e.headless*-1+e.damonOriginalLinesMapping.indexOf(n-1)+3,N=new Error("Error line number "+b+": inline lists can't have children");throw N.line=b,N.language="DAMON",N}}else if(/: +\{ *\}$/.test(u)){let g=JSON.parse(`["${u.slice(0,-1*u.match(/: +\{ *\}$/)[0].length)}"]`)[0];c.set(g,new Map),i(o.children[d],c.get(g))}else{let g=!1;if(/^.*: /.test(u)&&u.split(new RegExp(/: +/))[u.split(new RegExp(/: +/)).length-1]==="true"){let y=u.match(new RegExp(/: +/g))[u.match(new RegExp(/: +/g)).length-1],f=JSON.parse(`["${u.slice(0,-1*y.length-4)}"]`)[0];c.set(f,!0)}else if(/^.*: /.test(u)&&u.split(new RegExp(/: +/))[u.split(new RegExp(/: +/)).length-1]==="false"){let y=u.match(new RegExp(/: +/g))[u.match(new RegExp(/: +/g)).length-1],f=JSON.parse(`["${u.slice(0,-1*y.length-5)}"]`)[0];c.set(f,!1)}else if(/^.*: /.test(u)&&u.split(new RegExp(/: +/))[u.split(new RegExp(/: +/)).length-1]==="null"){let y=u.match(new RegExp(/: +/g))[u.match(new RegExp(/: +/g)).length-1],f=JSON.parse(`["${u.slice(0,-1*y.length-4)}"]`)[0];c.set(f,null)}else if(/^.*: +"/.test(u)&&u[u.length-1]=='"'){let y=u.match(new RegExp(/: +"/g));if(y.length==1){let f=JSON.parse(`["${u.split(y[0])[0]}"]`)[0];S="string";let v=JSON.parse(`["${u.split(y[0]).slice(1).join("").slice(0,-1)}"]`)[0];c.set(f,v)}else if(y.length==2&&/: +"$/.test(u)){let f=JSON.parse(`["${u.split(y[0])[0]}"]`)[0];S="string";let v=JSON.parse(`["${u.split(y[0]).slice(1).join("")+": "}"]`)[0];c.set(f,v)}else{let f=+(e.headless*-1)+e.damonOriginalLinesMapping.indexOf(n-1)+2,v=new Error("Error line number "+f+": unescaped double quote");throw v.line=f,v.language="DAMON",v}}else if(/^.*: /.test(u)&&isFinite(u.split(": ")[u.split(": ").length-1])&&!isNaN(parseFloat(u.split(": ")[u.split(": ").length-1]))&&Number.isFinite(u.split(": ")[u.split(": ").length-1]*1)&&!Number.isNaN(u.split(": ")[u.split(": ").length-1]*1)){let y=JSON.parse(`["${u.split(": ").slice(0,-1).join(": ")}"]`)[0];S="number";let f=u.match(new RegExp(/: +/g)),v=f[f.length-1],x=u.split(v)[u.split(v).length-1];if(x.indexOf(0)==0&&x.length>1&&x.indexOf(".")!==1){let m=e.headless*-1+e.damonOriginalLinesMapping.indexOf(n-1)+2,b=new Error("Error line number "+m+": leading 0");throw b.line=m,b.language="DAMON",b}let w=JSON.parse(`[${u.split(": ")[u.split(": ").length-1]*1}]`)[0];c.set(y,w)}else if(/^.*: /.test(u)&&u.split(new RegExp(/: +/))[u.split(new RegExp(/: +/)).length-1]*1===1/0){let y=JSON.parse(`["${u.split(": ").slice(0,-1).join(": ")}"]`)[0];S="infinity";let f=JSON.parse(`[${u.split(": ")[u.split(": ").length-1]*1}]`)}else{let y=!1,f=0;if(/\[ *\]$/.test(u)&&(y=!0,f=u.match(new RegExp(/\[ *\]$/g))[0].length),/\{ *\}$/.test(u)&&(y=!0,f=u.match(new RegExp(/\{ *\}$/g))[0].length),/true$/.test(u)&&(y=!0,f=4),/false$/.test(u)&&(y=!0,f=5),/null$/.test(u)&&(y=!0,f=4),/".*"$/.test(u)&&(y=!0,f=u.match(new RegExp(/".*"$/g))[0].length),!y){let v="";for(let x=u.length-1;x>-1&&(v=u[x].concat(v),isFinite(v)&&!isNaN(parseFloat(v))&&Number.isFinite(v*1)&&!Number.isNaN(v*1));x--){if(!/[ \t]/.test(u[x]))break;y=!0,f=v.length}}if(y)if(JSON.parse(`["${u.slice(0,-1*f)}"]`)[0],r.pedantic){let v=e.headless*-1+e.damonOriginalLinesMapping.indexOf(n),x=new Error("Error line number "+v+": missing separator");throw x.line=v,x.language="DAMON",x.errorType="pedantic",x}else if(g=!0,o.children[d].children.length>0){S="implicit map key";let v=JSON.parse(`["${u}"]`)[0];c.set(v,new Map),c.implicitMaps===void 0&&(c.implicitMaps=[]),c.implicitMaps.push(v),i(o.children[d],c.get(v))}else{S="implicit null key";let v=JSON.parse(`["${u}"]`)[0];c.set(v,null),c.implicitNulls===void 0&&(c.implicitNulls=[]),c.implicitNulls.push(v)}else{let v=JSON.parse(`["${u.slice(0,-1*f)}"]`)[0];if(r.pedantic)if(/: +$/.test(v)){let x=e.headless*-1+e.damonOriginalLinesMapping.indexOf(n),w=new Error("Error line number "+x+": bad value");throw w.line=x,w.language="DAMON",w.errorType="pedantic",w}else{let x=e.headless*-1+e.damonOriginalLinesMapping.indexOf(n),w=new Error("Error line number "+x+": missing separator");throw w.line=x,w.language="DAMON",w.errorType="pedantic",w}else if(g=!0,o.children[d].children.length>0){S="implicit map key";let x=JSON.parse(`["${u}"]`)[0];c.set(x,new Map),c.implicitMaps===void 0&&(c.implicitMaps=[]),c.implicitMaps.push(x),i(o.children[d],c.get(x))}else{S="implicit null key";let x=JSON.parse(`["${u}"]`)[0];c.set(x,null),c.implicitNulls===void 0&&(c.implicitNulls=[]),c.implicitNulls.push(x)}}}if(!g&&o.children[d].children.length>0){let y=e.headless*-1+e.damonOriginalLinesMapping.indexOf(n-1)+3,f=new Error("Error line number "+y+": missing container or excess indentation");throw f.line=y,f.language="DAMON",f}}}catch(g){if(g.language===void 0){let y=e.headless*-1+e.damonOriginalLinesMapping.indexOf(n-1)+2;console.error("Error line number "+y+": not JSON-compliant, detailed error follows"),g.line=y,g.language="JSON",g.type=S}throw g}}}function s(o,c){for(let d=0,p=o.children.length;d<p;d++)if(n++,o.children[d].content.length){let u=o.children[d].content;if(/^[ \t]*\[/.test(u)&&u[u.length-1]=="]")if(/^[ \t]*\[ *\]$/.test(u))c.push([]),i(o.children[d],c[c.length-1]);else{let S;try{S=JSON.parse(u)}catch{let f=e.headless*-1+e.damonOriginalLinesMapping.indexOf(n-1)+2,v=new Error("Error line number "+f+": invalid inline lists");throw v.line=f,v.language="JSON",v.type="list",v}if(S.every(function(y){return y===!0||y===!1||y===null||typeof y=="string"?!0:!!(isFinite(y)&&!isNaN(parseFloat(y))&&Number.isFinite(y*1)&&!Number.isNaN(y*1))}))c.push(S),c.damonInlineArrays===void 0&&(c.damonInlineArrays=[]),c.damonInlineArrays.push(d);else{let y=e.headless*-1+e.damonOriginalLinesMapping.indexOf(n-1)+2,f=new Error("Error line number "+y+": no nesting in inline lists");throw f.line=y,f.language="DAMON",f}if(o.children[d].children.length>0){let y=e.headless*-1+e.damonOriginalLinesMapping.indexOf(n-1)+3,f=new Error("Error line number "+y+": inline lists can't have children");throw f.line=y,f.language="DAMON",f}}else if(/^[ \t]*\{\}$/.test(u))c.push(new Map),i(o.children[d],c[c.length-1]);else if(/^[ \t]*true$/.test(u))c.push(!0);else if(/^[ \t]*false$/.test(u))c.push(!1);else if(/^[ \t]*null$/.test(u))c.push(null);else if(/^[ \t]*".*"$/.test(u))try{c.push(JSON.parse(`[${u.trimStart()}]`)[0])}catch(S){let g=e.headless*-1+e.damonOriginalLinesMapping.indexOf(n-1)+2;throw console.error("Error line number "+g+": not JSON-compliant, detailed error follows"),S.line=g,S.language="JSON",S.type="string",S}else if(isFinite(u)&&!isNaN(parseFloat(u))&&Number.isFinite(u*1)&&!Number.isNaN(u*1)){if(u.indexOf(0)==0&&u.length>1&&u.indexOf(".")!==1){let S=e.headless*-1+e.damonOriginalLinesMapping.indexOf(n-1)+2,g=new Error("Error line number "+S+": leading 0");throw g.line=S,g.language="DAMON",g}try{c.push(JSON.parse(`[${u*1}]`)[0])}catch(S){let g=e.headless*-1+e.damonOriginalLinesMapping.indexOf(n-1)+2;throw console.error("Error line number "+g+": not JSON-compliant, detailed error follows"),S.line=g,S.language="JSON",S.type="number",S}}else if(u*1===1/0)try{JSON.parse(u*1)}catch(S){let g=e.headless*-1+e.damonOriginalLinesMapping.indexOf(n-1)+2;throw console.error("Error line number "+g+": not JSON-compliant, detailed error follows"),S.line=g,S.language="JSON",S.type="infinity",S}else{let S=e.headless*-1+e.damonOriginalLinesMapping.indexOf(n-1)+2,g=new Error("Error line number "+S+": list items can't have a key");throw g.line=S,g.language="DAMON",g}}else{let u=e.headless*-1+e.damonOriginalLinesMapping.indexOf(n-1)+2,S=new Error("Error line number "+u+": empty list node");throw S.line=u,S.language="DAMON",S}}}mapToDamon(e,r){let n=this;var i="";if(Array.isArray(e))i+=`- []
`;else if(typeof e=="object"&&e!==null&&e instanceof Map&&e.constructor===Map)i+=`- {}
`;else return typeof e=="string"&&(e='"'+e+'"'),JSON.parse(e),e;return a(e),n.damonToMap(i.slice(0,-1)),i.slice(0,-1);function a(s,o=1){if(typeof s=="object"&&s!==null&&!Array.isArray(s)&&s instanceof Map&&s.constructor===Map)for(let[p,u]of s)if(typeof u=="object"&&u!==null)if(Array.isArray(u)){let S=0,g=u.filter(function(y){return y===!0||y===!1?!0:y===null?(S++,!0):typeof y=="string"?!0:!!(isFinite(y)&&!isNaN(parseFloat(y))&&Number.isFinite(y*1)&&!Number.isNaN(y*1))});if(u.length==g.length&&o*4+2+u.join(", ").length+S*4<=80||r&&s.damonInlineArrays!==void 0&&s.damonInlineArrays.indexOf(p)>-1){let y="["+u.map(function(f){return typeof f=="string"&&(f=JSON.stringify(f)),f}).join(", ")+"]";i+="    ".repeat(o)+"- "+JSON.stringify(p).slice(1,-1)+": "+y+`
`}else i+="    ".repeat(o)+"- "+JSON.stringify(p).slice(1,-1)+`: []
`,a(u,o+1)}else i+="    ".repeat(o)+"- "+JSON.stringify(p).slice(1,-1)+`: {}
`,a(u,o+1);else i+="    ".repeat(o)+"- "+JSON.stringify(p).slice(1,-1)+": ",u===!0?i+=`true
`:u===!1?i+=`false
`:u===null?i+=`null
`:Number.isFinite(u)&&!Number.isNaN(u)?i+=u+`
`:i+=JSON.stringify(u)+`
`;else if(Array.isArray(s))for(var c=0,d=s.length;c<d;c++)if(typeof s[c]=="object"&&s[c]!==null)if(Array.isArray(s[c])){let p=0,u=s[c].filter(function(S){return S===!0||S===!1?!0:S===null?(p++,!0):typeof S=="string"?!0:!!(isFinite(S)&&!isNaN(parseFloat(S))&&Number.isFinite(S*1)&&!Number.isNaN(S*1))});if(s[c].length==u.length&&o*4+2+s[c].join(", ").length+p*4<=80||r&&s.damonInlineArrays!==void 0&&s.damonInlineArrays.indexOf(c)>-1){let S="["+s[c].map(function(g){return typeof g=="string"&&(g=JSON.stringify(g)),g}).join(", ")+"]";i+="    ".repeat(o)+"- "+S+`
`}else i+="    ".repeat(o)+`- []
`,a(s[c],o+1)}else i+="    ".repeat(o)+`- {}
`,a(s[c],o+1);else s[c]===!0?i+="    ".repeat(o)+`- true
`:s[c]===!1?i+="    ".repeat(o)+`- false
`:s[c]===null?i+="    ".repeat(o)+`- null
`:Number.isFinite(s[c])&&!Number.isNaN(s[c])?i+="    ".repeat(o)+"- "+s[c]+`
`:i+="    ".repeat(o)+"- "+JSON.stringify(s[c])+`
`}}mapToJSON(e){let r=this;var n="";if(Array.isArray(e))return n+=`[\r
`,i(e),n+="]",JSON.parse(n),n;return typeof e=="object"&&e!==null&&e instanceof Map&&e.constructor===Map?(n+=`{\r
`,i(e),n+="}",JSON.parse(n),n):(typeof e=="string"&&(e=JSON.stringify(e)),JSON.parse(e),e);function i(a,s=1){if(typeof a=="object"&&a!==null&&!Array.isArray(a)&&a instanceof Map&&a.constructor===Map)for(let[d,p]of a)typeof p=="object"&&p!==null?Array.isArray(p)?p.length>0?(n+="    ".repeat(s)+`${JSON.stringify(d)}: [\r
`,i(p,s+1),n+="    ".repeat(s)+"]"):n+="    ".repeat(s)+`${JSON.stringify(d)}: []`:Array.from(p.keys()).length>0?(n+="    ".repeat(s)+`${JSON.stringify(d)}: {\r
`,i(p,s+1),n+="    ".repeat(s)+"}"):n+="    ".repeat(s)+`${JSON.stringify(d)}: {}`:p===!0?n+="    ".repeat(s)+`${JSON.stringify(d)}: true`:p===!1?n+="    ".repeat(s)+`${JSON.stringify(d)}: false`:p===null?n+="    ".repeat(s)+`${JSON.stringify(d)}: null`:Number.isFinite(p)&&!Number.isNaN(p)?n+="    ".repeat(s)+`${JSON.stringify(d)}: `+p:n+="    ".repeat(s)+`${JSON.stringify(d)}: `+JSON.stringify(p),d!=Array.from(a.keys())[Array.from(a.keys()).length-1]?n+=`,\r
`:n+=`\r
`;else if(Array.isArray(a))for(var o=0,c=a.length;o<c;o++)typeof a[o]=="object"&&a[o]!==null?Array.isArray(a[o])?a[o].length>0?(n+="    ".repeat(s)+`[\r
`,i(a[o],s+1),n+="    ".repeat(s)+"]"):n+="    ".repeat(s)+"[]":Array.from(a[o].keys()).length>0?(n+="    ".repeat(s)+`{\r
`,i(a[o],s+1),n+="    ".repeat(s)+"}"):n+="    ".repeat(s)+"{}":a[o]===!0?n+="    ".repeat(s)+"true":a[o]===!1?n+="    ".repeat(s)+"false":a[o]===null?n+="    ".repeat(s)+"null":Number.isFinite(a[o])&&!Number.isNaN(a[o])?n+="    ".repeat(s)+a[o]:n+="    ".repeat(s)+JSON.stringify(a[o]),o!=c-1?n+=`,\r
`:n+=`\r
`}}getRangeFromPath(e,r){let n=this,i=n.damonToMap(e),a=-1,s=!1;S(i,r),i.headless&&(a-=1);let o=0,c=0;for(let g=0,y=i.damonOriginalLinesMapping.length;g<y;g++)if(i.damonOriginalLinesMapping[g]!==null&&c++,c==a){o=g+1;break}let d=n._getLines(e)[o],p=0,u=d.length;if(r.length==1)typeof r[r.length-1]=="string"?p=d.length-d.trimStart().slice(2+r[r.length-1].length+2).trimStart().length:p=d.length-d.trimStart().slice(2).length;else if(typeof r[r.length-2]=="string")if(typeof r[r.length-1]=="string")p=d.length-d.trimStart().slice(2+r[r.length-1].length+2).trimStart().length;else if(d[d.length-1]=="]"&&!/\[ *\]$/.test(d)){let g=d.trimStart().slice(2+r[r.length-2].length+2),y=JSON.parse(g),f=y.slice(0,r[r.length-1].length).reduce((w,m)=>w+(m===y[r[r.length-1]]),0),v=0,x=y[r[r.length-1]];typeof x=="string"&&(x='"'+x+'"');for(let w=0,m=f+1;w<m;w++)v=g.indexOf(x,v);p=d.length-g.length+v,u=p+x.length}else p=d.length-d.trimStart().slice(2).length;else if(typeof r[r.length-1]=="string")p=d.length-d.trimStart().slice(2+r[r.length-1].length+2).trimStart().length;else if(d[d.length-1]=="]"&&!/\[ *\]$/.test(d)){let g=d.trimStart().slice(2),y=JSON.parse(g),f=y.slice(0,r[r.length-1]).reduce((w,m)=>w+(m===y[r[r.length-1]]),0),v=0,x=y[r[r.length-1]];typeof x=="string"&&(x='"'+x+'"');for(let w=0,m=f+1;w<m;w++)v=g.indexOf(x,v);p=d.length-g.length+v,u=p+x.length}else p=d.length-d.trimStart().slice(2).length;return[[o,p],[o,u]];function S(g,y,f=[]){if(s!=!0)if(a+=1,typeof g=="object"&&g!==null&&!Array.isArray(g)&&g instanceof Map&&g.constructor===Map)for(let[v,x]of g){if(a+=1,JSON.stringify(y)===JSON.stringify(f.concat([v]))){s=!0;return}typeof x=="object"&&x!==null&&!Array.isArray(x)&&x instanceof Map&&x.constructor===Map&&Array.from(x.keys()).length?(a-=1,S(x,y,f.concat([v]))):Array.isArray(x)&&(g.damonInlineArrays==null||g.damonInlineArrays.indexOf(v)===-1)&&x.length&&(a-=1,S(x,y,f.concat([v])))}else for(let v=0,x=g.length;v<x;v++){if(a+=1,JSON.stringify(y)===JSON.stringify(f.concat([v]))){s=!0;return}typeof g[v]=="object"&&g[v]!==null&&!Array.isArray(g[v])&&g[v]instanceof Map&&g[v].constructor===Map&&Array.from(g[v].keys()).length?(a-=1,S(g[v],y,f.concat([v]))):Array.isArray(g[v])&&(g.damonInlineArrays==null||g.damonInlineArrays.indexOf(v)===-1)&&g[v].length&&(a-=1,S(g[v],y,f.concat([v])))}}}getTokenFromCoordinates(e,r){let n=this,i={},a=n._getLines(e).slice(0,r[0]);if(a[r[0]-1]=="")return i.type="newline",i.path=null,i.range=[r,r],i;if(/^[ \t]+$/.test(a[r[0]-1]))return i.type="indentation",i.path=null,i.range=[[r[0],1],[r[0],a[a.length-1].length]],i;if(/^[ \t]+/.test(a[r[0]-1].slice(0,r[1]-1))&&(i.type="indentation",i.range=[[r[0],1],[r[0],a[r[0]-1].match(/^[ \t]+/)[0].length]]),/^ *\/\//.test(a[r[0]-1]))return i.type=="indentation"?(i.path=null,i):(i.type="comment",i.path=null,i.range=[[[r[0],a[r[0]-1].split("//")[0].length]],[[r[0],a[r[0]-1].length]]],i);if(a.length==1)try{let p=JSON.parse(e);if(p===!0||p===!1||p===null||typeof p=="string"||typeof p=="number"){let u=e.match(/^ */)[0].length,S=e.match(/ *$/)[0].length;return i.type="null",typeof p!="object"&&(i.type=typeof p),i.path=null,i.range=[[0,u],[0,e.length-S]],i}}catch{}let s=n.damonToMap(a.join(`
`)),o=Array.from(s.keys()),c=[];for(;o.length;){let p=o[o.length-1];if(c.push(p),typeof s=="object"&&s!==null&&!Array.isArray(s)&&s instanceof Map&&s.constructor===Map?s=s.get(p):Array.isArray(s)&&(s=s[p]),s===!0||s===!1||s===null||typeof s=="string"||typeof s=="number")break;o=Array.from(s.keys())}i.path=c;let d=n.getRangeFromPath(e,c);if(typeof c[c.length-1]=="string")if(r[1]<d[0][1]){let p=a[r[0]-1].slice(0,-1*(d[1][1]-d[0][1])-1).length;if(r[1]<p){let u=a[r[0]-1].match(/^[ \t]+/)[0].length+3;r[1]>=u?(i.type="property",i.range=[[r[0],u],[r[0],p]]):(i.type="hyphen",i.range=[[r[0],u-2],[r[0],u-1]])}else i.type="separator",i.range=[[r[0],p+1],[r[0],d[0][1]-1]]}else i.type="?",i.range=d;else if(r[1]<d[0][1]){i.type="hyphen";let p=a[r[0]-1].match(/^[ \t]+/)[0].length+1;i.range=[[r[0],p],[r[0],p+1]]}else i.type="?",i.range=d;return i}}});var z=$((ut,Be)=>{Be.exports=class{constructor(e){let r=this;this.parent=e,this.itemHeight=parseFloat(getComputedStyle(this.parent.editor).getPropertyValue("--fontSize"))*parseFloat(getComputedStyle(this.parent.editor).getPropertyValue("--lineHeight")),this.viewportHeight=this.parent.editor.getBoundingClientRect().height,this.viewable=Math.ceil(r.viewportHeight/r.itemHeight),this.maxCounter=this.parent.textarea.value.split(`
`).length,this.buffer=r.viewable*2,this.visibleNodesCount=r.viewable+r.buffer,this.lastScrollTop=void 0,this.lastStart=void 0,this.active=!1}inputHandler(e){let r=this;r.parent.textarea.value.split(`
`).length<=r.visibleNodesCount?(r.parent.gutter.innerHTML="",r.init(0)):(r.parent.gutter.innerHTML="",r.init(r.getStartNode(r.parent.textarea.value.split(`
`).length)))}scrollHandler(){let e=this;e.maxCounter<e.visibleNodesCount?e.lastScrollTop!==e.parent.editor.scrollTop?(e.parent.gutter.innerHTML="",e.parent.editor.style.setProperty("--scrollbarPadding","0px"),e.init(0)):(e.parent.editor.style.setProperty("--scrollbarPadding","0px"),e.parent.gutter.style.transform="translate("+e.parent.editor.scrollLeft+"px, "+0*e.itemHeight+"px)",e.parent.overlay.firstElementChild.style.transform="translate(0px, "+0*e.itemHeight+"px)"):e.lastScrollTop!==e.parent.editor.scrollTop?(e.active=!0,e.parent.editor.style.setProperty("--scrollbarPadding","var(--textareaPadding) * 4"),e.update(e.getStartNode(e.maxCounter))):(e.parent.gutter.style.transform="translate("+e.parent.editor.scrollLeft+"px, "+e.getStartNode(e.maxCounter)*e.itemHeight+"px)",e.parent.overlay.firstElementChild.style.transform="translate(0px, "+e.getStartNode(e.maxCounter)*e.itemHeight+"px)")}init(e){let r=this;r.parent.textarea.style.height=(r.parent.textarea.value.split(`
`).length+1)*r.itemHeight+"px",r.resetProperties(),e>r.maxCounter-r.visibleNodesCount&&(r.maxCounter-r.visibleNodesCount>0?e=r.maxCounter-r.visibleNodesCount:e=0);let n=Math.max(1,Math.min(r.maxCounter-e,r.visibleNodesCount));for(let c=e;c<e+n;c++){let d=document.createElement("div"),p=document.createElement("span"),u=(r.maxCounter+"").length,S=(c+1+"").length,g=u-S;p.textContent=" ".repeat(g)+(c+1),d.appendChild(p),r.parent.gutter.appendChild(d)}r.parent.gutter.style.transform="translate("+r.parent.editor.scrollLeft+"px, "+e*r.itemHeight+"px)",r.parent.overlay.firstElementChild.style.transform="translate(0px, "+e*r.itemHeight+"px)",r.lastStart=e,r.lastScrollTop=r.parent.editor.scrollTop,r.maxCounter>=r.visibleNodesCount&&(r.active=!0),r.setGutterWidth(),r.parent.updateCurrentLine(!0);let i=r.parent.textarea.value.split(`
`);r.parent.textarea.rows=i.length+1,r.parent.textarea.cols=i.map(c=>c.length).reduce(function(c,d){return Math.max(c,d)});let a=r.parent.textarea.value.replaceAll(/&amp;/g,"&").replaceAll(/&lt;/g,"<").replaceAll(/&gt;/g,">"),s=[`<span class="token lf">
</span>`],o=r.parent.lastTextareaValue.split(`
`);a!=""&&(s=r.parent.prism.highlight(a+`
`,r.parent.prism.languages.damon,"damon").replace(/<span>\n<\/span>$/,"").split(`
`).map(c=>c.replace(/^<\/span>/,"")+`
</span>`));for(let c=e,d=e+n;c<d;c++){let p=document.createElement("span"),u=0;p.classList.add("space-line"),p.innerHTML=s[c];for(let S=0,g=p.children.length;S<g&&p.children[S].textContent==" ";S++)u++,u==4&&(u=0,p.children[S-3].classList.add("indent-guide"));(!r.parent.initialized||o[c]==null||o[c]!=i[c]||r.parent.overlay.firstElementChild.children[c-e]!=null&&p.innerHTML!=r.parent.overlay.firstElementChild.children[c-e].innerHTML)&&(o[c]==null||!r.parent.initialized?(r.parent.overlay.firstElementChild.appendChild(p),r.parent.overlay.firstElementChild.children.length>n+1&&r.parent.overlay.firstElementChild.firstElementChild.remove()):r.parent.overlay.firstElementChild.replaceChild(p,r.parent.overlay.firstElementChild.children[c-e]))}if(r.parent.overlay.firstElementChild.children.length>n)for(let c=n,d=r.parent.overlay.firstElementChild.children.length;c<d;c++)r.parent.overlay.firstElementChild.lastElementChild.remove()}getStartNode(e){let r=this,n=Math.floor(r.parent.editor.scrollTop/r.itemHeight)-r.viewable;return n=Math.min(Math.max(0,n),Math.max(0,e-r.buffer)),n}resetProperties(){let e=this;e.viewportHeight=e.parent.editor.getBoundingClientRect().height,e.viewable=Math.ceil(e.viewportHeight/e.itemHeight),e.maxCounter=e.parent.textarea.value.split(`
`).length,e.buffer=e.viewable*2,e.visibleNodesCount=e.viewable+e.buffer,e.active=!1}update(e){let r=this;if(r.resetProperties(),r.parent.gutter.firstElementChild)if(r.lastScrollTop!=r.parent.editor.scrollTop)e>r.maxCounter-r.visibleNodesCount&&(r.maxCounter-r.visibleNodesCount>0?e=r.maxCounter-r.visibleNodesCount:e=0),r.diffItems(e,r.visibleNodesCount),r.parent.gutter.style.transform="translate("+r.parent.editor.scrollLeft+"px, "+e*r.itemHeight+"px)",r.parent.overlay.firstElementChild.style.transform="translate(0px, "+e*r.itemHeight+"px)",r.lastScrollTop=r.parent.editor.scrollTop;else if(/^translate\(.+px, .+px\)$/.test(r.parent.gutter.style.transform))r.parent.gutter.style.transform="translate("+r.parent.editor.scrollLeft+"px, "+r.parent.gutter.style.transform.split(", ")[1];else throw new Error("You need to update this regex.");r.setGutterWidth(),r.parent.updateCurrentLine(!0)}diffItems(e,r){let n=this;if(n.lastStart!=e){if(n.lastStart<e){let i=Math.min(r,Math.abs(e-n.lastStart));for(let d=0,p=i;d<p;d++)n.parent.gutter.firstElementChild.remove();for(let d=e+r-i;d<e+r;d++){let p=document.createElement("div"),u=document.createElement("span"),S=(n.maxCounter+"").length,g=(d+1+"").length,y=S-g;u.textContent=" ".repeat(y)+(d+1),p.appendChild(u),n.parent.gutter.appendChild(p)}let a=n.parent.textarea.value.split(`
`);n.parent.textarea.rows=a.length+1,n.parent.textarea.cols=a.map(d=>d.length).reduce(function(d,p){return Math.max(d,p)});let s=n.parent.textarea.value.replaceAll(/&amp;/g,"&").replaceAll(/&lt;/g,"<").replaceAll(/&gt;/g,">"),o=n.parent.prism.highlight(s+`
`,n.parent.prism.languages.damon,"damon").replace(/<span>\n<\/span>$/,"").split(`
`).map(d=>d.replace(/^<\/span>/,"")+`
</span>`),c=n.parent.lastTextareaValue.split(`
`);for(let d=0,p=i;d<p;d++)n.parent.overlay.firstElementChild.firstElementChild.remove();for(let d=e+r-i;d<e+r;d++){let p=document.createElement("span"),u=0;p.classList.add("space-line"),p.innerHTML=o[d];for(let S=0,g=p.children.length;S<g&&p.children[S].textContent==" ";S++)u++,u==4&&(u=0,p.children[S-3].classList.add("indent-guide"));n.parent.overlay.firstElementChild.appendChild(p)}}else{let i=Math.min(r,Math.abs(n.lastStart-e));for(let u=0,S=i;u<S;u++)n.parent.gutter.lastElementChild.remove();let a=document.createDocumentFragment();for(let u=e;u<e+i;u++){let S=document.createElement("div"),g=document.createElement("span"),y=(n.maxCounter+"").length,f=(u+1+"").length,v=y-f;g.textContent=" ".repeat(v)+(u+1),S.appendChild(g),a.appendChild(S)}n.parent.gutter.insertBefore(a,n.parent.gutter.firstElementChild);let s=n.parent.textarea.value.split(`
`);n.parent.textarea.rows=s.length+1,n.parent.textarea.cols=s.map(u=>u.length).reduce(function(u,S){return Math.max(u,S)});let o=n.parent.textarea.value.replaceAll(/&amp;/g,"&").replaceAll(/&lt;/g,"<").replaceAll(/&gt;/g,">"),c=n.parent.prism.highlight(o+`
`,n.parent.prism.languages.damon,"damon").replace(/<span>\n<\/span>$/,"").split(`
`).map(u=>u.replace(/^<\/span>/,"")+`
</span>`),d=n.parent.lastTextareaValue.split(`
`);for(let u=0,S=i;u<S;u++)n.parent.overlay.firstElementChild.lastElementChild.remove();let p=document.createDocumentFragment();for(let u=e;u<e+i;u++){let S=document.createElement("span"),g=0;S.classList.add("space-line"),S.innerHTML=c[u];for(let y=0,f=S.children.length;y<f&&S.children[y].textContent==" ";y++)g++,g==4&&(g=0,S.children[y-3].classList.add("indent-guide"));p.appendChild(S)}n.parent.overlay.firstElementChild.insertBefore(p,n.parent.overlay.firstElementChild.firstElementChild)}n.lastStart=e}}setGutterWidth(){let e=this,r=e.parent.gutter.children[0].children[0].getBoundingClientRect().width,n=parseFloat(getComputedStyle(e.parent.editor).getPropertyValue("--gutterWidth"));r>n?(e.parent.gutter.style.width=r+"px",e.parent.container.style.left=r+"px"):(e.parent.gutter.style.width="",e.parent.container.style.left="")}}});var Pe=$((dt,Je)=>{var ft=Ke(z());Je.exports=function(t){t.update(),t.historyUpdate(),window.addEventListener("load",e),t.editor.addEventListener("focusin",r),t.editor.addEventListener("focusout",n),t.gutter.addEventListener("click",i),document.addEventListener("mousedown",s),document.addEventListener("mousemove",o),document.addEventListener("mouseup",c),document.addEventListener("selectionchange",d),t.textarea.addEventListener("beforeinput",p),t.textarea.addEventListener("keydown",u),t.textarea.addEventListener("cut",S),t.textarea.addEventListener("copy",g),t.textarea.addEventListener("paste",y);function e(w){t.overlay.firstElementChild.innerHTML="",t.gutter.innerHTML="",t.update(),t.updateCurrentLine(),t.initialized=!0}function r(w){t.utils.addDataState(t.editor,"focused")}function n(w){t.editor.contains(w.target)||t.utils.removeDataState(t.editor,"focused")}function i(w){(Array.from(t.gutter.children).indexOf(w.target)>-1||Array.from(t.gutter.children).indexOf(w.target.parentNode)>-1)&&t.setCarretAt(parseInt(w.target.textContent.trim())-1)}var a;function s(w){if(w.target==t.container){a=w.target,w.preventDefault();let m=t.gutter.children,b="0";for(let N=0,L=m.length;N<L;N++)w.clientY>m[N].getBoundingClientRect().y&&(b=m[N].textContent.trim());b-1<0&&(b=1),t.setCarretAt(b-1),t.textarea.focus()}}function o(w){if(a==t.container&&w.buttons==1){let m=t.gutter.children,b="0";for(let N=0,L=m.length;N<L;N++)w.clientY>m[N].getBoundingClientRect().y&&(b=m[N].textContent.trim());t.textarea.focus(),t.textarea.setSelectionRange(t.textarea.value.split(`
`).slice(0,b).join().length,t.textarea.value.length,"backward")}}function c(w){a==t.container&&w.target==t.textarea&&(t.textarea.selectionEnd=t.textarea.value.length,t.textarea.selectionStart=t.textarea.value.length,t.textarea.focus()),a=void 0}function d(w){document.activeElement===t.textarea&&(t.updateCaret(),t.updateCurrentLine(),t.updateHorizontalScroll(),t.lastSelection=t.getTextareaSelection())}function p(w){t.lastTextareaValue=t.textarea.value}function u(w){if(!w.ctrlKey&&!w.shiftKey&&!w.altKey){if(w.key==" "&&t.textarea.selectionStart==t.textarea.selectionEnd&&(!/\n/.test(t.textarea.value.slice(0,t.textarea.selectionStart))&&(/ +$/.test(t.textarea.value.slice(0,t.textarea.selectionStart))||t.textarea.selectionStart===0)||/\n +$/.test(t.textarea.value.slice(0,t.textarea.selectionStart))||t.textarea.selectionStart<t.textarea.value.length&&(/\n +\n$/.test(t.textarea.value.slice(0,t.textarea.selectionStart+1))||/\n$/.test(t.textarea.value.slice(0,t.textarea.selectionStart)))||t.textarea.value.length==t.textarea.selectionStart&&(/\n +$/.test(t.textarea.value)||/\n$/.test(t.textarea.value)))){w.preventDefault();let m=t.textarea.selectionStart+4,b=t.textarea.value.slice(0,t.textarea.selectionStart)+"    "+t.textarea.value.slice(t.textarea.selectionEnd);t.setTextarea(b,m),f()}if(w.key=="Enter"){let m=t.textarea.value,b=m.split(`
`),N=t.getSelectionStartCoordinates(),L=N[0],h=N[1],l=b[L];if(/^    /.test(l)){if(w.preventDefault(),h%4!==0&&h<l.match(/^(    )+/)[0].length){for(let T=h;0<=T;T--)if(T%4==0){t.textarea.selectionStart==t.textarea.selectionEnd&&(t.textarea.selectionEnd=b.slice(0,L).join().length+T),t.textarea.selectionStart=b.slice(0,L).join().length+T,h=T;break}}let O=0;h>0&&(O=l.slice(0,h).match(/^(    )+/)[0].length);let E=t.textarea.selectionStart,C=t.textarea.value.slice(t.textarea.selectionEnd);C.split(`
`)[0].trim()==""&&(C=`
`+C.split(`
`).slice(1).join(`
`));let A=t.textarea.value.slice(0,t.textarea.selectionStart)+`
`+" ".repeat(O)+C;t.setTextarea(A,E+O+1),f()}}}else if(!w.ctrlKey&&w.shiftKey&&!w.altKey)w.key==" "&&t.textarea.selectionStart==t.textarea.selectionEnd;else if(w.ctrlKey&&!w.shiftKey&&!w.altKey){if(w.key=="Backspace"){let m=t.textarea.value.split(`
`),b=t.getSelectionStartCoordinates(),N=m[b[0]],L=N.slice(0,b[1]);if(t.textarea.selectionEnd==t.textarea.selectionStart&&/^ +$/.test(L)){w.preventDefault();let h=0;L.length%4==0?(m[b[0]]=N.slice(4),h=4):(m[b[0]]=N.slice(L.length%4),h=L.length%4),t.setTextarea(m.join(`
`)),f(),t.setCarretAt(b[0],b[1]-h)}}if(w.key==" "){let m=t.textarea.value.slice(0,t.textarea.selectionStart)+"	"+t.textarea.value.slice(t.textarea.selectionEnd);t.setTextarea(t.formatIndentation(m),t.textarea.selectionEnd+1),f()}if(w.key=="]"){w.preventDefault();let m=t.textarea.value.split(`
`),b=t.textarea.value.slice(0,t.textarea.selectionStart).split(`
`).length-1,N=t.textarea.value.slice(0,t.textarea.selectionEnd).split(`
`).length-1,L=t.textarea.selectionStart+4,h=t.textarea.selectionEnd+4*(N-b+1);for(let l=0,O=m.length;l<O;l++)l>=b&&l<=N&&(m[l]="    "+m[l]);t.setTextarea(m.join(`
`),L,h),f()}if(w.key=="["){let m=t.textarea.value,b=t.textarea.value.split(`
`),N=t.textarea.value.slice(0,t.textarea.selectionStart).split(`
`).length-1,L=t.textarea.value.slice(0,t.textarea.selectionEnd).split(`
`).length-1,h=t.textarea.selectionStart,l=t.textarea.selectionEnd;for(let O=0,E=b.length;O<E;O++)O>=N&&O<=L&&b[O].startsWith("    ")&&(O==N&&(h-=4),l-=4,b[O]=b[O].slice(4));t.setTextarea(b.join(`
`),h,l),f()}if(w.key=="Enter"){let m=t.textarea.value.split(`
`),b=t.getCurrentLine();b==m.length-1?t.setTextarea(m.join(`
`)+`
`):t.setTextarea(m.slice(0,b+1).join(`
`)+`

`+m.slice(b+1).join(`
`)),f(),t.setCarretAt(b+1)}if(w.key=="z"&&(w.preventDefault(),t.historyPosition>1)){t.historyPosition-=1;let m=t.history[t.historyPosition-1];t.setTextarea(m[0],m[1]),t.update(),t.virtualScroller.inputHandler(!0),t.textarea.blur(),t.textarea.focus()}if(w.key=="y"&&(w.preventDefault(),t.historyPosition<t.history.length)){t.historyPosition+=1;let m=t.history[t.historyPosition-1];t.setTextarea(m[0],m[1]),t.update(),t.virtualScroller.inputHandler(!0),t.textarea.blur(),t.textarea.focus()}}else if(!w.ctrlKey&&w.shiftKey&&w.altKey)w.key=="f"&&t.setTextarea(t.formatIndentation(t.textarea.value),t.textarea.selectionEnd);else if(!w.ctrlKey&&!w.shiftKey&&w.altKey){if(w.key=="ArrowDown")if(t.getSelectionStartCoordinates()[0]==t.getSelectionEndCoordinates()[0]){let m=t.textarea.value.split(`
`),b=t.getCurrentLine(),N=m[t.getCurrentLine()].slice();if(t.getCurrentLine()!==m.length){let L=m[t.getCurrentLine()+1].slice();m[t.getCurrentLine()]=L,m[t.getCurrentLine()+1]=N,t.setTextarea(m.join(`
`)),f(),t.setCarretAt(b+1)}}else{let m=t.textarea.value.split(`
`),b=t.getSelectionStartCoordinates()[0],N=t.getSelectionEndCoordinates()[0];if(N<b&&(b=t.getSelectionEndCoordinates()[0],N=t.getSelectionStartCoordinates()[0]),N!=m.length){let L=m.slice(b,N+1),h=m[N+1].slice();m[b]=h;for(let l=b,O=l+L.length;l<O;l++)m[l+1]=L[l-b];N<b?t.setTextarea(m.join(`
`),t.textarea.selectionEnd+h.length+1,t.textarea.selectionStart+h.length+1):t.setTextarea(m.join(`
`),t.textarea.selectionStart+h.length+1,t.textarea.selectionEnd+h.length+1),f()}}else if(w.key=="ArrowUp")if(t.getSelectionStartCoordinates()[0]==t.getSelectionEndCoordinates()[0]){let m=t.textarea.value.split(`
`),b=t.getCurrentLine(),N=m[t.getCurrentLine()].slice();if(t.getCurrentLine()!==0){let L=m[t.getCurrentLine()-1].slice();m[t.getCurrentLine()]=L,m[t.getCurrentLine()-1]=N,t.setTextarea(m.join(`
`)),f(),t.setCarretAt(b-1)}}else{let m=t.textarea.value.split(`
`),b=t.getSelectionStartCoordinates()[0],N=t.getSelectionEndCoordinates()[0];if(N<b&&(b=t.getSelectionEndCoordinates()[0],N=t.getSelectionStartCoordinates()[0]),b!=0){let L=m.slice(b,N+1),h=m[b-1].slice();m[N]=h;for(let l=b,O=l+L.length;l<O;l++)m[l-1]=L[l-b];N<b?t.setTextarea(m.join(`
`),t.textarea.selectionEnd-h.length-1,t.textarea.selectionStart-h.length-1):t.setTextarea(m.join(`
`),t.textarea.selectionStart-h.length-1,t.textarea.selectionEnd-h.length-1),f()}}}t.debounceLint()}function S(w){if(t.textarea.selectionStart==t.textarea.selectionEnd){w.preventDefault();let m=t.textarea.value.split(`
`),b=t.getCurrentLine(),N=m.slice(0,b).join(`
`).length,L=N+m[b].length+1;t.textarea.setSelectionRange(N,L),t.lastTextareaValue=t.textarea.value,document.execCommand("cut"),t.updateCaret()}}function g(w){if(t.textarea.selectionStart==t.textarea.selectionEnd){w.preventDefault();let m=t.textarea.value.split(`
`),b=t.getCurrentLine(),N=m.slice(0,b).join(`
`).length,L=N+m[b].length+1;t.textarea.setSelectionRange(N,L),document.execCommand("copy")}}function y(w){w.preventDefault();let m=w.clipboardData.getData("text").replace(new RegExp(/\r/g),""),b=t.textarea.value.slice(0,t.textarea.selectionStart),N=t.textarea.value.slice(t.textarea.selectionEnd),L=b+m+N,h=t.textarea.selectionStart+m.length;try{JSON.parse(L),t.setTextarea(t.damon.jsonToDamon(L)),f(),t.updateCaret(),t.debounceLint();return}catch{}let l=L.split(`
`),O=h,E=0,C=0;for(let _=0,R=l.length;_<R;_++)if(E+l[_].length+_<O)E+=l[_].length;else{E+=_,C=_;break}let A=[C,h-E],T=l[C].slice(0);if(L=t.formatIndentation(L),l=L.split(`
`),t.textarea.value!==L){let _=l.slice(0,C+1).join(`
`).length-T.length+A[1];t.setTextarea(L,_),f()}t.updateCaret(),t.debounceLint()}t.textarea.addEventListener("input",f),t.editor.addEventListener("scroll",v);function f(){document.activeElement==t.textarea&&(t.update(),t.debounceHistoryUpdate(),t.updateCurrentLine(),t.updateHorizontalScroll(),t.updateCaret(),t.debounceLint())}function v(w){t.virtualScroller.scrollHandler()}window.spaceResizeTimeout=null;function x(w){spaceResizeTimeout&&clearTimeout(spaceResizeTimeout),window.spaceResizeTimeout=setTimeout(function(){let m=t.editor.scrollTop;t.gutter.innerHTML="",t.overlay.firstElementChild.innerHTML="",t.initialized=!1,t.virtualScroller.inputHandler(),t.initialized=!0,t.editor.scrollTop=m},100)}}});var ke=$((gt,De)=>{var Y=Q(),et=$e(),tt=z();De.exports=class{constructor(e,r,n){let i=this;i.dom=e,i.innerHTML="",i.editor={},i.gutter={},i.container={},i.overlay={},i.textarea={},i.caretPadding={},i.caret={},i.statusBar={},i.copyButton={},i.diffButton={},i.prism=r,i.indentation="    ",i.currentLine=0,i.history=[],i.historyPosition=0,i.historyUpdateTimeoutId,i.lintTimeoutId,i.lastTextareaValue="",i.lastSelection="",i.initialized=!1,i.virtualScroller={},i.damon=new et,i.utils=Y}init(){let e=this;e.statusBarHTML=Y.html`
<div>
    Spaces: <a href="https://github.com/adrianturcev/space/blob/master/bindings.md"><kbd>SPACE</kbd></a>
</div>
<a href="https://github.com/adrianturcev/damon/blob/master/language_reference.md">
    DAMON
    <svg
    viewBox="0 0 24 24"
    xmlns="http://www.w3.org/2000/svg">
        <title>help-circle</title>
        <circle
            style="fill:#FEFEFE;stroke-width:1.04312;fill-opacity:1"
            cx="12"
            cy="12"
            r="9.6854191" />
        <path
            fill="#FEFEFE"
            d="M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"
            style="fill:#4169e1;fill-opacity:1" />
    </svg>
</a>
<button class="space-copyButton">
    JSON
    <svg
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg">
        <title>content-copy</title>
        <path
            fill="#FEFEFE"
            d="M 4,21 H 15 V 7 H 4 M 4,5 h 11 a -2,2 0 0 1 2,2 v 14 a -2,2 0 0 1 -2,2 H 4 A -2,2 0 0 1 2,21 V 7 A -2,2 0 0 1 4,5 M 7,1 h 12 a -2,2 0 0 1 2,2 V 17 H 19 V 3 H 7 Z"/>
    </svg>
</button>
<button class="space-diffButton">
    Diff
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <title>set-left-right</title>
        <path
            fill="#FEFEFE"
            d="M9,5C10.04,5 11.06,5.24 12,5.68C12.94,5.24 13.96,5 15,5A7,7 0 0,1 22,12A7,7 0 0,1 15,19C13.96,19 12.94,18.76 12,18.32C11.06,18.76 10.04,19 9,19A7,7 0 0,1 2,12A7,7 0 0,1 9,5M9,12C9,14.22 10.21,16.16 12,17.2C13.79,16.16 15,14.22 15,12C15,9.78 13.79,7.84 12,6.8C10.21,7.84 9,9.78 9,12Z" />
    </svg>
</button>`,e.innerHTML=Y.html`
<div class="space-editor" data-state="js-off">
    <div class="space-gutter"></div>
    <div class="space-container">
<pre class="space-dummyTextarea"><span class="space-caretPadding"></span><span class="space-caret">&nbsp;</span></pre>
        <pre class="space-overlay" aria-hidden="true" tabindex="-1">
            <code class="language-damon"></code>
        </pre>
        <textarea
            class="space-textarea"
            placeholder="Paste JSON or type DAMON"
            spellcheck="false"
            aria-labelledby=""
            aria-controls="space-statusBar0"
            maxlength="500000">
        </textarea>
        <ul class="space-suggestions"></ul>
    </div>
</div>
<div class="space-statusBar" id="space-statusBar0" role="log" aria-live="polite">${e.statusBarHTML}</div>
        `;let r="";e.dom.innerHTML!==e.innerHTML&&(e.dom.getElementsByTagName("textarea")[0]!==void 0&&(r=e.dom.getElementsByTagName("textarea")[0].innerHTML),e.dom.innerHTML=e.innerHTML),e.editor=e.dom.getElementsByClassName("space-editor")[0],e.gutter=e.dom.getElementsByClassName("space-gutter")[0],e.container=e.dom.getElementsByClassName("space-container")[0],e.overlay=e.dom.getElementsByClassName("space-overlay")[0],e.textarea=e.dom.getElementsByClassName("space-textarea")[0],e.textarea.innerHTML=r,e.caretPadding=e.dom.getElementsByClassName("space-caretPadding")[0],e.caret=e.dom.getElementsByClassName("space-caret")[0],e.statusBar=e.dom.getElementsByClassName("space-statusBar")[0],e.copyButton=e.dom.getElementsByClassName("space-copyButton")[0],e.diffButton=e.dom.getElementsByClassName("space-copyButton")[0],e.virtualScroller=new tt(this),e.editor.dataset.state="",e.textarea.value=e.formatIndentation(e.textarea.value.replaceAll(/\r/g,"")),e.routes=Pe()(this),e.lint()}update(){let e=this;e.initialized&&e.lastTextareaValue==e.textarea.value||(e.gutter.children.length==0?e.virtualScroller.init(0):e.virtualScroller.inputHandler(),e.initialized&&(e.lastTextareaValue=e.textarea.value))}updateHorizontalScroll(){let e=this;if(document.activeElement==e.textarea){let r=e.textarea.value.split(`
`),n=0,i=e.gutter.children[0].children[0].getBoundingClientRect().width;for(let a=0,s=r.length;a<s&&n+r[a].length<e.textarea.selectionEnd;a++)n+=r[a].length+1;(e.textarea.selectionEnd-n)*i-e.gutter.clientWidth<=e.editor.scrollLeft&&(e.editor.scrollLeft=0)}}getCurrentLine(){let e=this,r=e.textarea.value.split(`
`),n=0,i=0,a=0;(e.textarea.selectionDirection=="forward"||e.textarea.selectionStart==e.textarea.selectionEnd)&&(n=e.textarea.selectionEnd),e.textarea.selectionDirection=="backward"&&(n=e.textarea.selectionStart);for(let s=0,o=r.length;s<o;s++)if(i+r[s].length+s<n)i+=r[s].length;else{a=s;break}return a}getSelectionStartCoordinates(){let e=this,r=e.textarea.value.split(`
`),n=e.textarea.selectionStart,i=0,a=0;for(let s=0,o=r.length;s<o;s++)if(i+r[s].length+s<n)i+=r[s].length;else{i+=s,a=s;break}return[a,e.textarea.selectionStart-i]}getSelectionEndCoordinates(){let e=this,r=e.textarea.value.split(`
`),n=e.textarea.selectionEnd,i=0,a=0;for(let s=0,o=r.length;s<o;s++)if(i+r[s].length+s<n)i+=r[s].length;else{i+=s,a=s;break}return[a,e.textarea.selectionEnd-i]}setCarretAt(e,r){let n=this;if(r==null&&(r=n.textarea.value.split(`
`)[e].length),e==0)n.textarea.selectionStart=r;else{let i=Math.min(r,n.textarea.value.split(`
`)[e].length);n.textarea.selectionStart=n.textarea.value.split(`
`).slice(0,e).reduce(function(a,s){return a+s}).length+e+r}n.textarea.selectionEnd=n.textarea.selectionStart,n.textarea.focus()}getTextareaSelection(){let e=this;return e.textarea.selectionStart<e.textarea.selectionEnd?e.textarea.value.slice(e.textarea.selectionStart,e.textarea.selectionEnd):e.textarea.selectionStart<e.textarea.selectionEnd?e.textarea.value.slice(e.textarea.selectionEnd,e.textarea.selectionStart):void 0}updateCurrentLine(e){let r=this,n=r.currentLine;if(r.currentLine=r.getCurrentLine(),n!=r.currentLine||!r.initialized||e||r.lastSelection!=null&&r.getTextareaSelection()==null){for(let a=0,s=r.gutter.children.length;a<s;a++)r.gutter.children[a].classList.remove("currentLine"),r.gutter.children[a].classList.remove("selectionEnd");r.gutter.children[r.currentLine-r.gutter.children[0].textContent.trim()+1]&&(r.textarea.selectionEnd==r.textarea.selectionStart?r.gutter.children[r.currentLine-r.gutter.children[0].textContent.trim()+1].classList.add("currentLine"):r.gutter.children[r.currentLine-r.gutter.children[0].textContent.trim()+1].classList.add("selectionEnd"))}}historyUpdate(){let e=this;if(e.history.length==0||e.textarea.value!=e.history[e.historyPosition-1][0]){let n=function(i,a){return i+a[0]+a[1]};var r=n;if(e.history.length==1){let i=e.textarea.selectionStart-(e.textarea.value.length-e.history[0][0].length);e.history[0][0].length>e.textarea.value.length&&(i=e.textarea.selectionStart-(e.history[0][0].length-e.textarea.value.length)),e.history.push([e.history[0][0],i]),e.historyPosition++}if(e.historyPosition!=e.history.length&&(e.history=e.history.slice(0,e.historyPosition)),e.history.push([e.textarea.value,e.textarea.selectionStart]),e.history.reduce(n,"").length*4>1e8){let i=0;for(;e.history.reduce(n,"").length*4>1e8;)i++,e.history.shift();e.historyPosition-=i}e.historyPosition++}}debounceHistoryUpdate(){var e=this,r=arguments;clearTimeout(this.historyUpdateTimeoutId),this.historyUpdateTimeoutId=setTimeout(function(){e.historyUpdateTimeoutId=null,e.historyUpdate.apply(e,r)},200)}formatIndentation(e){let r=this,n=e.split(`
`);for(let i=0,a=n.length;i<a;i++){if(/^ *(\t)+/.test(n[i])){let s=n[i].match(/^ *(\t)+/)[0].length;for(let o=0,c=s;o<c;o++)n[i]=n[i].replace("	","    ")}if(/^( )+/.test(n[i])&&n[i].match(/^( )+/)[0].length%4!==0){for(let s=n[i].match(/^( )+/)[0].length;0<=s;s--)if(s%4==0){n[i].trimStart(),n[i]=" ".repeat(s)+n[i];break}}}return n.join(`
`)}formatHyphens(e){let r=this,n=e.split(`
`);for(let i=0,a=n.length;i<a;i++)if(!/^ *- /.test(n[i])){let s="";/^ /.test(n[i])&&(s=n[i].match(/^( )+/)[0]),n[i]=s+"- "+n[i].slice(s.length)}return n.join(`
`)}updateCaret(){let e=this;e.textarea.selectionDirection=="forward"||e.textarea.selectionStart==e.textarea.selectionEnd?e.caretPadding.textContent=e.textarea.value.slice(0,e.textarea.selectionEnd):e.caretPadding.textContent=e.textarea.value.slice(0,e.textarea.selectionStart)}setTextarea(e,r,n=r){let i=this;i.lastTextareaValue=i.textarea.value,i.textarea.value=e,r!==null&&i.textarea.setSelectionRange(r,n)}lint(){let e=this;try{e.damon.damonToMap(e.textarea.value),e.statusBar.innerHTML=e.statusBarHTML}catch(r){r.language=="JSON"?e.statusBar.innerHTML="<span>( ! ) Error line number "+r.line+": "+r.type+" not JSON-compliant</span>"+e.statusBarHTML:e.statusBar.innerHTML="<span>( ! ) "+r.message+"</span>"+e.statusBarHTML,console.error(r)}e.copyButton=e.dom.getElementsByClassName("space-copyButton")[0],e.copyButton.addEventListener("click",function(r){let n=document.createElement("textarea");n.style.opacity="0";try{n.value=e.damon.damonToJSON(e.textarea.value)}catch{setTimeout(function(){e.copyButton.classList.remove("error")},1100),e.copyButton.classList.add("error");return}document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy")&&(setTimeout(function(){e.copyButton.classList.remove("success")},1100),e.copyButton.classList.add("success"))}catch(i){console.error(i.name,i.message)}document.body.removeChild(n)}),e.diffButton=e.dom.getElementsByClassName("space-diffButton")[0],e.diffButton.addEventListener("click",function(r){let n=document.createElement("textarea");document.body.appendChild(n),n.addEventListener("paste",function(i){let a=e.formatIndentation(i.clipboardData.getData("text").replace(new RegExp(/\r/g),""))})})}debounceLint(){var e=this,r=arguments;clearTimeout(this.lintTimeoutId),this.lintTimeoutId=setTimeout(function(){e.lintTimeoutId=null,e.lint.apply(e,r)},200)}}});(function(){window.Space=ke()})();})();
