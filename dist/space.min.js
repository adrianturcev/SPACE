/* PrismJS 1.30.0
https://prismjs.com/download.html#themes=prism-okaidia&languages=markup+json+markdown+mermaid&plugins=show-invisibles */
var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(e){var n=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,t=0,r={},a={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(n){return n instanceof i?new i(n.type,e(n.content),n.alias):Array.isArray(n)?n.map(e):n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function e(n,t){var r,i;switch(t=t||{},a.util.type(n)){case"Object":if(i=a.util.objId(n),t[i])return t[i];for(var l in r={},t[i]=r,n)n.hasOwnProperty(l)&&(r[l]=e(n[l],t));return r;case"Array":return i=a.util.objId(n),t[i]?t[i]:(r=[],t[i]=r,n.forEach((function(n,a){r[a]=e(n,t)})),r);default:return n}},getLanguage:function(e){for(;e;){var t=n.exec(e.className);if(t)return t[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,t){e.className=e.className.replace(RegExp(n,"gi"),""),e.classList.add("language-"+t)},currentScript:function(){if("undefined"==typeof document)return null;if(document.currentScript&&"SCRIPT"===document.currentScript.tagName)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(r.stack)||[])[1];if(e){var n=document.getElementsByTagName("script");for(var t in n)if(n[t].src==e)return n[t]}return null}},isActive:function(e,n,t){for(var r="no-"+n;e;){var a=e.classList;if(a.contains(n))return!0;if(a.contains(r))return!1;e=e.parentElement}return!!t}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,n){var t=a.util.clone(a.languages[e]);for(var r in n)t[r]=n[r];return t},insertBefore:function(e,n,t,r){var i=(r=r||a.languages)[e],l={};for(var o in i)if(i.hasOwnProperty(o)){if(o==n)for(var s in t)t.hasOwnProperty(s)&&(l[s]=t[s]);t.hasOwnProperty(o)||(l[o]=i[o])}var u=r[e];return r[e]=l,a.languages.DFS(a.languages,(function(n,t){t===u&&n!=e&&(this[n]=l)})),l},DFS:function e(n,t,r,i){i=i||{};var l=a.util.objId;for(var o in n)if(n.hasOwnProperty(o)){t.call(n,o,n[o],r||o);var s=n[o],u=a.util.type(s);"Object"!==u||i[l(s)]?"Array"!==u||i[l(s)]||(i[l(s)]=!0,e(s,t,o,i)):(i[l(s)]=!0,e(s,t,null,i))}}},plugins:{},highlightAll:function(e,n){a.highlightAllUnder(document,e,n)},highlightAllUnder:function(e,n,t){var r={callback:t,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),a.hooks.run("before-all-elements-highlight",r);for(var i,l=0;i=r.elements[l++];)a.highlightElement(i,!0===n,r.callback)},highlightElement:function(n,t,r){var i=a.util.getLanguage(n),l=a.languages[i];a.util.setLanguage(n,i);var o=n.parentElement;o&&"pre"===o.nodeName.toLowerCase()&&a.util.setLanguage(o,i);var s={element:n,language:i,grammar:l,code:n.textContent};function u(e){s.highlightedCode=e,a.hooks.run("before-insert",s),s.element.innerHTML=s.highlightedCode,a.hooks.run("after-highlight",s),a.hooks.run("complete",s),r&&r.call(s.element)}if(a.hooks.run("before-sanity-check",s),(o=s.element.parentElement)&&"pre"===o.nodeName.toLowerCase()&&!o.hasAttribute("tabindex")&&o.setAttribute("tabindex","0"),!s.code)return a.hooks.run("complete",s),void(r&&r.call(s.element));if(a.hooks.run("before-highlight",s),s.grammar)if(t&&e.Worker){var c=new Worker(a.filename);c.onmessage=function(e){u(e.data)},c.postMessage(JSON.stringify({language:s.language,code:s.code,immediateClose:!0}))}else u(a.highlight(s.code,s.grammar,s.language));else u(a.util.encode(s.code))},highlight:function(e,n,t){var r={code:e,grammar:n,language:t};if(a.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=a.tokenize(r.code,r.grammar),a.hooks.run("after-tokenize",r),i.stringify(a.util.encode(r.tokens),r.language)},tokenize:function(e,n){var t=n.rest;if(t){for(var r in t)n[r]=t[r];delete n.rest}var a=new s;return u(a,a.head,e),o(e,a,n,a.head,0),function(e){for(var n=[],t=e.head.next;t!==e.tail;)n.push(t.value),t=t.next;return n}(a)},hooks:{all:{},add:function(e,n){var t=a.hooks.all;t[e]=t[e]||[],t[e].push(n)},run:function(e,n){var t=a.hooks.all[e];if(t&&t.length)for(var r,i=0;r=t[i++];)r(n)}},Token:i};function i(e,n,t,r){this.type=e,this.content=n,this.alias=t,this.length=0|(r||"").length}function l(e,n,t,r){e.lastIndex=n;var a=e.exec(t);if(a&&r&&a[1]){var i=a[1].length;a.index+=i,a[0]=a[0].slice(i)}return a}function o(e,n,t,r,s,g){for(var f in t)if(t.hasOwnProperty(f)&&t[f]){var h=t[f];h=Array.isArray(h)?h:[h];for(var d=0;d<h.length;++d){if(g&&g.cause==f+","+d)return;var v=h[d],p=v.inside,m=!!v.lookbehind,y=!!v.greedy,k=v.alias;if(y&&!v.pattern.global){var x=v.pattern.toString().match(/[imsuy]*$/)[0];v.pattern=RegExp(v.pattern.source,x+"g")}for(var b=v.pattern||v,w=r.next,A=s;w!==n.tail&&!(g&&A>=g.reach);A+=w.value.length,w=w.next){var P=w.value;if(n.length>e.length)return;if(!(P instanceof i)){var E,S=1;if(y){if(!(E=l(b,A,e,m))||E.index>=e.length)break;var L=E.index,O=E.index+E[0].length,C=A;for(C+=w.value.length;L>=C;)C+=(w=w.next).value.length;if(A=C-=w.value.length,w.value instanceof i)continue;for(var j=w;j!==n.tail&&(C<O||"string"==typeof j.value);j=j.next)S++,C+=j.value.length;S--,P=e.slice(A,C),E.index-=A}else if(!(E=l(b,0,P,m)))continue;L=E.index;var N=E[0],_=P.slice(0,L),M=P.slice(L+N.length),W=A+P.length;g&&W>g.reach&&(g.reach=W);var I=w.prev;if(_&&(I=u(n,I,_),A+=_.length),c(n,I,S),w=u(n,I,new i(f,p?a.tokenize(N,p):N,k,N)),M&&u(n,w,M),S>1){var T={cause:f+","+d,reach:W};o(e,n,t,w.prev,A,T),g&&T.reach>g.reach&&(g.reach=T.reach)}}}}}}function s(){var e={value:null,prev:null,next:null},n={value:null,prev:e,next:null};e.next=n,this.head=e,this.tail=n,this.length=0}function u(e,n,t){var r=n.next,a={value:t,prev:n,next:r};return n.next=a,r.prev=a,e.length++,a}function c(e,n,t){for(var r=n.next,a=0;a<t&&r!==e.tail;a++)r=r.next;n.next=r,r.prev=n,e.length-=a}if(e.Prism=a,i.stringify=function e(n,t){if("string"==typeof n)return n;if(Array.isArray(n)){var r="";return n.forEach((function(n){r+=e(n,t)})),r}var i={type:n.type,content:e(n.content,t),tag:"span",classes:["token",n.type],attributes:{},language:t},l=n.alias;l&&(Array.isArray(l)?Array.prototype.push.apply(i.classes,l):i.classes.push(l)),a.hooks.run("wrap",i);var o="";for(var s in i.attributes)o+=" "+s+'="'+(i.attributes[s]||"").replace(/"/g,"&quot;")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+o+">"+i.content+"</"+i.tag+">"},!e.document)return e.addEventListener?(a.disableWorkerMessageHandler||e.addEventListener("message",(function(n){var t=JSON.parse(n.data),r=t.language,i=t.code,l=t.immediateClose;e.postMessage(a.highlight(i,a.languages[r],r)),l&&e.close()}),!1),a):a;var g=a.util.currentScript();function f(){a.manual||a.highlightAll()}if(g&&(a.filename=g.src,g.hasAttribute("data-manual")&&(a.manual=!0)),!a.manual){var h=document.readyState;"loading"===h||"interactive"===h&&g&&g.defer?document.addEventListener("DOMContentLoaded",f):window.requestAnimationFrame?window.requestAnimationFrame(f):window.setTimeout(f,16)}return a}(_self);"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism);
Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",(function(a){"entity"===a.type&&(a.attributes.title=a.content.replace(/&amp;/,"&"))})),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(a,e){var s={};s["language-"+e]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[e]},s.cdata=/^<!\[CDATA\[|\]\]>$/i;var t={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:s}};t["language-"+e]={pattern:/[\s\S]+/,inside:Prism.languages[e]};var n={};n[a]={pattern:RegExp("(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[^])*?(?=</__>)".replace(/__/g,(function(){return a})),"i"),lookbehind:!0,greedy:!0,inside:t},Prism.languages.insertBefore("markup","cdata",n)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(a,e){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp("(^|[\"'\\s])(?:"+a+")\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))","i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:Prism.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml;
Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},Prism.languages.webmanifest=Prism.languages.json;
!function(n){function e(n){return n=n.replace(/<inner>/g,(function(){return"(?:\\\\.|[^\\\\\n\r]|(?:\n|\r\n?)(?![\r\n]))"})),RegExp("((?:^|[^\\\\])(?:\\\\{2})*)(?:"+n+")")}var t="(?:\\\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\\\|\r\n`])+",a="\\|?__(?:\\|__)+\\|?(?:(?:\n|\r\n?)|(?![^]))".replace(/__/g,(function(){return t})),i="\\|?[ \t]*:?-{3,}:?[ \t]*(?:\\|[ \t]*:?-{3,}:?[ \t]*)+\\|?(?:\n|\r\n?)";n.languages.markdown=n.languages.extend("markup",{}),n.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:n.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+a+i+"(?:"+a+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+a+i+")(?:"+a+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(t),inside:n.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+a+")"+i+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+a+"$"),inside:{"table-header":{pattern:RegExp(t),alias:"important",inside:n.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:e("\\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\\b|\\*\\*(?:(?!\\*)<inner>|\\*(?:(?!\\*)<inner>)+\\*)+\\*\\*"),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:e("\\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\\b|\\*(?:(?!\\*)<inner>|\\*\\*(?:(?!\\*)<inner>)+\\*\\*)+\\*"),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:e("(~~?)(?:(?!~)<inner>)+\\2"),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:e('!?\\[(?:(?!\\])<inner>)+\\](?:\\([^\\s)]+(?:[\t ]+"(?:\\\\.|[^"\\\\])*")?\\)|[ \t]?\\[(?:(?!\\])<inner>)+\\])'),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach((function(e){["url","bold","italic","strike","code-snippet"].forEach((function(t){e!==t&&(n.languages.markdown[e].inside.content.inside[t]=n.languages.markdown[t])}))})),n.hooks.add("after-tokenize",(function(n){"markdown"!==n.language&&"md"!==n.language||function n(e){if(e&&"string"!=typeof e)for(var t=0,a=e.length;t<a;t++){var i=e[t];if("code"===i.type){var r=i.content[1],o=i.content[3];if(r&&o&&"code-language"===r.type&&"code-block"===o.type&&"string"==typeof r.content){var l=r.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),s="language-"+(l=(/[a-z][\w-]*/i.exec(l)||[""])[0].toLowerCase());o.alias?"string"==typeof o.alias?o.alias=[o.alias,s]:o.alias.push(s):o.alias=[s]}}else n(i.content)}}(n.tokens)})),n.hooks.add("wrap",(function(e){if("code-block"===e.type){for(var t="",a=0,i=e.classes.length;a<i;a++){var s=e.classes[a],d=/language-(.+)/.exec(s);if(d){t=d[1];break}}var p=n.languages[t];if(p)e.content=n.highlight(e.content.replace(r,"").replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,(function(n,e){var t;return"#"===(e=e.toLowerCase())[0]?(t="x"===e[1]?parseInt(e.slice(2),16):Number(e.slice(1)),l(t)):o[e]||n})),p,t);else if(t&&"none"!==t&&n.plugins.autoloader){var u="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());e.attributes.id=u,n.plugins.autoloader.loadLanguages(t,(function(){var e=document.getElementById(u);e&&(e.innerHTML=n.highlight(e.textContent,n.languages[t],t))}))}}}));var r=RegExp(n.languages.markup.tag.pattern.source,"gi"),o={amp:"&",lt:"<",gt:">",quot:'"'},l=String.fromCodePoint||String.fromCharCode;n.languages.md=n.languages.markdown}(Prism);
Prism.languages.mermaid={comment:{pattern:/%%.*/,greedy:!0},style:{pattern:/^([ \t]*(?:classDef|linkStyle|style)[ \t]+[\w$-]+[ \t]+)\w.*[^\s;]/m,lookbehind:!0,inside:{property:/\b\w[\w-]*(?=[ \t]*:)/,operator:/:/,punctuation:/,/}},"inter-arrow-label":{pattern:/([^<>ox.=-])(?:-[-.]|==)(?![<>ox.=-])[ \t]*(?:"[^"\r\n]*"|[^\s".=-](?:[^\r\n.=-]*[^\s.=-])?)[ \t]*(?:\.+->?|--+[->]|==+[=>])(?![<>ox.=-])/,lookbehind:!0,greedy:!0,inside:{arrow:{pattern:/(?:\.+->?|--+[->]|==+[=>])$/,alias:"operator"},label:{pattern:/^([\s\S]{2}[ \t]*)\S(?:[\s\S]*\S)?/,lookbehind:!0,alias:"property"},"arrow-head":{pattern:/^\S+/,alias:["arrow","operator"]}}},arrow:[{pattern:/(^|[^{}|o.-])[|}][|o](?:--|\.\.)[|o][|{](?![{}|o.-])/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>ox.=-])(?:[<ox](?:==+|--+|-\.*-)[>ox]?|(?:==+|--+|-\.*-)[>ox]|===+|---+|-\.+-)(?![<>ox.=-])/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>()x-])(?:--?(?:>>|[x>)])(?![<>()x])|(?:<<|[x<(])--?(?!-))/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>|*o.-])(?:[*o]--|--[*o]|<\|?(?:--|\.\.)|(?:--|\.\.)\|?>|--|\.\.)(?![<>|*o.-])/,lookbehind:!0,alias:"operator"}],label:{pattern:/(^|[^|<])\|(?:[^\r\n"|]|"[^"\r\n]*")+\|/,lookbehind:!0,greedy:!0,alias:"property"},text:{pattern:/(?:[(\[{]+|\b>)(?:[^\r\n"()\[\]{}]|"[^"\r\n]*")+(?:[)\]}]+|>)/,alias:"string"},string:{pattern:/"[^"\r\n]*"/,greedy:!0},annotation:{pattern:/<<(?:abstract|choice|enumeration|fork|interface|join|service)>>|\[\[(?:choice|fork|join)\]\]/i,alias:"important"},keyword:[{pattern:/(^[ \t]*)(?:action|callback|class|classDef|classDiagram|click|direction|erDiagram|flowchart|gantt|gitGraph|graph|journey|link|linkStyle|pie|requirementDiagram|sequenceDiagram|stateDiagram|stateDiagram-v2|style|subgraph)(?![\w$-])/m,lookbehind:!0,greedy:!0},{pattern:/(^[ \t]*)(?:activate|alt|and|as|autonumber|deactivate|else|end(?:[ \t]+note)?|loop|opt|par|participant|rect|state|note[ \t]+(?:over|(?:left|right)[ \t]+of))(?![\w$-])/im,lookbehind:!0,greedy:!0}],entity:/#[a-z0-9]+;/,operator:{pattern:/(\w[ \t]*)&(?=[ \t]*\w)|:::|:/,lookbehind:!0},punctuation:/[(){};]/};
!function(){if("undefined"!=typeof Prism){var r={tab:/\t/,crlf:/\r\n/,lf:/\n/,cr:/\r/,space:/ /};Prism.hooks.add("before-highlight",(function(r){i(r.grammar)}))}function e(r,a){var n=r[a];switch(Prism.util.type(n)){case"RegExp":var t={};r[a]={pattern:n,inside:t},i(t);break;case"Array":for(var f=0,s=n.length;f<s;f++)e(n,f);break;default:i(t=n.inside||(n.inside={}))}}function i(a){if(a&&!a.tab){for(var n in r)r.hasOwnProperty(n)&&(a[n]=r[n]);for(var n in a)a.hasOwnProperty(n)&&!r[n]&&("rest"===n?i(a.rest):e(a,n))}}}();;
window.Prism.languages.damon = {
    'list-hyphen': {
        pattern: /(^\s*)(?:[*-])/m,
        lookbehind: true,
        greedy: true
    },
    'key': {
        pattern: /.+(?=(: (true *$|false *$|null *$|\".*\" *$|\\{.*\\} *$|\\[.*] *$|-?(?:0|[1-9]\\d*)(?:(?:\\.\\d+)?(?:[eE][+-]?\\d+)?)? *$)))/,
    },
    'string': {
        pattern: /(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,
        lookbehind: true,
        greedy: true
    },
    'comment': {
        pattern: /\/\/.*|\/\*[\s\S]*?(?:\*\/|$)\n/,
        greedy: true
    },
    'number': /-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,
    'operator': /:/,
    'boolean': /\b(?:false|true)\b/,
    'null': {
        pattern: /\bnull\b/,
        alias: 'keyword'
    },
    'map': {
        pattern: /(\{\})\n/,
    },
    'list': {
        pattern: /(\[\])\n/,
    },
    'punctuation': /[\{\}\[\],]/,
};

window.Prism.languages.webmanifest = window.Prism.languages.damon;
;
(()=>{var ct=Object.defineProperty;var nn=Object.getOwnPropertyDescriptor;var ln=Object.getOwnPropertyNames;var an=Object.prototype.hasOwnProperty;var sn=(i=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(i,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):i)(function(i){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+i+'" is not supported')});var on=(i,e)=>()=>(i&&(e=i(i=0)),e);var Te=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),fn=(i,e)=>{for(var r in e)ct(i,r,{get:e[r],enumerable:!0})},un=(i,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let t of ln(e))!an.call(i,t)&&t!==r&&ct(i,t,{get:()=>e[t],enumerable:!(n=nn(e,t))||n.enumerable});return i};var cn=i=>un(ct({},"__esModule",{value:!0}),i);var zt=Te(()=>{window.Prism.languages.damon={"list-hyphen":{pattern:/(^\s*)(?:[*-])/m,lookbehind:!0,greedy:!0},key:{pattern:/.+(?=(: (true *$|false *$|null *$|\".*\" *$|\\{.*\\} *$|\\[.*] *$|-?(?:0|[1-9]\\d*)(?:(?:\\.\\d+)?(?:[eE][+-]?\\d+)?)? *$)))/},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)\n/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},map:{pattern:/(\{\})\n/},list:{pattern:/(\[\])\n/},punctuation:/[\{\}\[\],]/};window.Prism.languages.webmanifest=window.Prism.languages.damon});var Vt=Te((qn,Gt)=>{Gt.exports={qs(i){return document.querySelector(i)},qsa(i){return Array.from(document.querySelector(i))},nil(i){return i===null||typeof i>"u"},hack(i,e,r){return i.slice(e,r+1)},pick(i,e){return i.filter(e)},prune(i,e){return i.filter(function(r){return!e(r)})},check(i,e){return i.every(e)},pipe(i,...e){return e.reduce((r,n)=>n(r),i)},escape(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},html(i){let e=i[0],r=Math.max(i.length,arguments.length-1);for(let n=1;n<r;n++)e+=arguments[n],e+=i[n];return e},diffVDomAndReplace(i,e,r,n=0,t=1){let a=this;a.changedNodes=[];let s=i.childNodes,f=e.childNodes,m=r.childNodes;if(m.length>f.length){let c=m.length-f.length;for(let h=0,u=c;h<u;h++)r.lastChild.remove()}for(let c=0,h=f.length;c<h;c++)if(s[c]){if(s[c].outerHTML!==f[c].outerHTML){let u=["AREA","BASE","BR","COL","EMBED","HR","IMG","INPUT","LINK","META","PARAM","SOURCE","TRACK","WBR"],y=0;if(u.indexOf(f[c].tagName)===-1&&(y=3+f[c].tagName.length),s[c].tagName!==f[c].tagName||s[c].innerHTML===f[c].innerHTML||s[c].outerHTML.slice(0,-1*s[c].innerHTML.length-y)!==f[c].outerHTML.slice(0,-1*f[c].innerHTML.length-y)){let d=f[c].cloneNode(!0);a.changedNodes.push(d),m[c].replaceWith(d)}else if(n===0||n>t)this.diffVDomAndUpdate(s[c],f[c],m[c],n,t+1);else{let d=f[c].cloneNode(!0);a.changedNodes.push(d),m[c].replaceWith(d)}}}else{let u=f[c].cloneNode(!0);a.changedNodes.push(u),r.appendChild(u)}},addDataState(i,e){let r=[];i.dataset.state&&i.dataset.state.indexOf(" ")>-1?r=i.dataset.state.split(" "):r=[i.dataset.state],r.indexOf(e)===-1&&(r.push(e),i.dataset.state=r.join(" "))},removeDataState(i,e){let r=[];i.dataset.state&&i.dataset.state.indexOf(" ")>-1?r=i.dataset.state.split(" "):r=[i.dataset.state],i.dataset.state=r.filter(n=>n!==e).join(" ")},replaceDataState(i,e,r){this.removeDataState(i,e),this.addDataState(i,r)},toggleDataState(i,e){i.dataset.state.split(" ").indexOf(e)==-1?this.addDataState(i,e):this.removeDataState(i,e)},resetDataState(i){i.dataset.state=""},ajaxGet(i,e,r,n){var t=new XMLHttpRequest;t.open("GET",i),t.addEventListener("load",function(){if(t.status>=200&&t.status<400)if(r){var a={};try{a=JSON.parse(t.responseText)}catch{console.error("Get request returned invalid JSON.")}n===void 0?e(a):e.apply(n,[a])}else n===void 0?e(t.responseText):e.apply(n,[t.responseText]);else console.error(t.status+" "+t.statusText+" "+i)}),t.addEventListener("error",function(){console.error("Network error trying to access: "+i)}),t.send(null)},ajaxPost(i,e,r,n,t,a,s){var f=new XMLHttpRequest;f.open("POST",i),f.addEventListener("load",function(){f.status>=200&&f.status<400?a===void 0?r(f):r.apply(a,[f]):(s===void 0?n(f):n.apply(s,[f]),console.error(f.status+" "+f.statusText+" "+i))}),f.addEventListener("error",function(){console.error("Network error trying to access: "+i)}),t&&(f.setRequestHeader("Content-Type","application/json"),e=JSON.stringify(e)),f.send(e)}}});var Er={};fn(Er,{__addDisposableResource:()=>mr,__assign:()=>et,__asyncDelegator:()=>or,__asyncGenerator:()=>sr,__asyncValues:()=>fr,__await:()=>Pe,__awaiter:()=>tr,__classPrivateFieldGet:()=>hr,__classPrivateFieldIn:()=>gr,__classPrivateFieldSet:()=>pr,__createBinding:()=>rt,__decorate:()=>Kt,__disposeResources:()=>yr,__esDecorate:()=>Xt,__exportStar:()=>nr,__extends:()=>qt,__generator:()=>rr,__importDefault:()=>dr,__importStar:()=>cr,__makeTemplateObject:()=>ur,__metadata:()=>er,__param:()=>Yt,__propKey:()=>Zt,__read:()=>pt,__rest:()=>Wt,__rewriteRelativeImportExtension:()=>xr,__runInitializers:()=>jt,__setFunctionName:()=>Qt,__spread:()=>ir,__spreadArray:()=>ar,__spreadArrays:()=>lr,__values:()=>tt,default:()=>pn});function qt(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");dt(i,e);function r(){this.constructor=i}i.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Wt(i,e){var r={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(r[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,n=Object.getOwnPropertySymbols(i);t<n.length;t++)e.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(i,n[t])&&(r[n[t]]=i[n[t]]);return r}function Kt(i,e,r,n){var t=arguments.length,a=t<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,r,n);else for(var f=i.length-1;f>=0;f--)(s=i[f])&&(a=(t<3?s(a):t>3?s(e,r,a):s(e,r))||a);return t>3&&a&&Object.defineProperty(e,r,a),a}function Yt(i,e){return function(r,n){e(r,n,i)}}function Xt(i,e,r,n,t,a){function s(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var f=n.kind,m=f==="getter"?"get":f==="setter"?"set":"value",c=!e&&i?n.static?i:i.prototype:null,h=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),u,y=!1,d=r.length-1;d>=0;d--){var A={};for(var b in n)A[b]=b==="access"?{}:n[b];for(var b in n.access)A.access[b]=n.access[b];A.addInitializer=function(E){if(y)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(E||null))};var N=(0,r[d])(f==="accessor"?{get:h.get,set:h.set}:h[m],A);if(f==="accessor"){if(N===void 0)continue;if(N===null||typeof N!="object")throw new TypeError("Object expected");(u=s(N.get))&&(h.get=u),(u=s(N.set))&&(h.set=u),(u=s(N.init))&&t.unshift(u)}else(u=s(N))&&(f==="field"?t.unshift(u):h[m]=u)}c&&Object.defineProperty(c,n.name,h),y=!0}function jt(i,e,r){for(var n=arguments.length>2,t=0;t<e.length;t++)r=n?e[t].call(i,r):e[t].call(i);return n?r:void 0}function Zt(i){return typeof i=="symbol"?i:"".concat(i)}function Qt(i,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function er(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)}function tr(i,e,r,n){function t(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function f(h){try{c(n.next(h))}catch(u){s(u)}}function m(h){try{c(n.throw(h))}catch(u){s(u)}}function c(h){h.done?a(h.value):t(h.value).then(f,m)}c((n=n.apply(i,e||[])).next())})}function rr(i,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,t,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=f(0),s.throw=f(1),s.return=f(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function f(c){return function(h){return m([c,h])}}function m(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(r=0)),r;)try{if(n=1,t&&(a=c[0]&2?t.return:c[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,c[1])).done)return a;switch(t=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,t=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(i,r)}catch(h){c=[6,h],t=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function nr(i,e){for(var r in i)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&rt(e,i,r)}function tt(i){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&i[e],n=0;if(r)return r.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pt(i,e){var r=typeof Symbol=="function"&&i[Symbol.iterator];if(!r)return i;var n=r.call(i),t,a=[],s;try{for(;(e===void 0||e-- >0)&&!(t=n.next()).done;)a.push(t.value)}catch(f){s={error:f}}finally{try{t&&!t.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a}function ir(){for(var i=[],e=0;e<arguments.length;e++)i=i.concat(pt(arguments[e]));return i}function lr(){for(var i=0,e=0,r=arguments.length;e<r;e++)i+=arguments[e].length;for(var n=Array(i),t=0,e=0;e<r;e++)for(var a=arguments[e],s=0,f=a.length;s<f;s++,t++)n[t]=a[s];return n}function ar(i,e,r){if(r||arguments.length===2)for(var n=0,t=e.length,a;n<t;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return i.concat(a||Array.prototype.slice.call(e))}function Pe(i){return this instanceof Pe?(this.v=i,this):new Pe(i)}function sr(i,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(i,e||[]),t,a=[];return t=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",s),t[Symbol.asyncIterator]=function(){return this},t;function s(d){return function(A){return Promise.resolve(A).then(d,u)}}function f(d,A){n[d]&&(t[d]=function(b){return new Promise(function(N,E){a.push([d,b,N,E])>1||m(d,b)})},A&&(t[d]=A(t[d])))}function m(d,A){try{c(n[d](A))}catch(b){y(a[0][3],b)}}function c(d){d.value instanceof Pe?Promise.resolve(d.value.v).then(h,u):y(a[0][2],d)}function h(d){m("next",d)}function u(d){m("throw",d)}function y(d,A){d(A),a.shift(),a.length&&m(a[0][0],a[0][1])}}function or(i){var e,r;return e={},n("next"),n("throw",function(t){throw t}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(t,a){e[t]=i[t]?function(s){return(r=!r)?{value:Pe(i[t](s)),done:!1}:a?a(s):s}:a}}function fr(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],r;return e?e.call(i):(i=typeof tt=="function"?tt(i):i[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=i[a]&&function(s){return new Promise(function(f,m){s=i[a](s),t(f,m,s.done,s.value)})}}function t(a,s,f,m){Promise.resolve(m).then(function(c){a({value:c,done:f})},s)}}function ur(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i}function cr(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var r=ht(i),n=0;n<r.length;n++)r[n]!=="default"&&rt(e,i,r[n]);return dn(e,i),e}function dr(i){return i&&i.__esModule?i:{default:i}}function hr(i,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?i!==e||!n:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(i):n?n.value:e.get(i)}function pr(i,e,r,n,t){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!t)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?i!==e||!t:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?t.call(i,r):t?t.value=r:e.set(i,r),r}function gr(i,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?e===i:i.has(e)}function mr(i,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,t;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(t=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");t&&(n=function(){try{t.call(this)}catch(a){return Promise.reject(a)}}),i.stack.push({value:e,dispose:n,async:r})}else r&&i.stack.push({async:!0});return e}function yr(i){function e(a){i.error=i.hasError?new hn(a,i.error,"An error was suppressed during disposal."):a,i.hasError=!0}var r,n=0;function t(){for(;r=i.stack.pop();)try{if(!r.async&&n===1)return n=0,i.stack.push(r),Promise.resolve().then(t);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(t,function(s){return e(s),t()})}else n|=1}catch(s){e(s)}if(n===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return t()}function xr(i,e){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,t,a,s){return n?e?".jsx":".js":t&&(!a||!s)?r:t+a+"."+s.toLowerCase()+"js"}):i}var dt,et,rt,dn,ht,hn,pn,br=on(()=>{dt=function(i,e){return dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])},dt(i,e)};et=function(){return et=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},et.apply(this,arguments)};rt=Object.create?(function(i,e,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(e,r);(!t||("get"in t?!e.__esModule:t.writable||t.configurable))&&(t={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(i,n,t)}):(function(i,e,r,n){n===void 0&&(n=r),i[n]=e[r]});dn=Object.create?(function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}):function(i,e){i.default=e},ht=function(i){return ht=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},ht(i)};hn=typeof SuppressedError=="function"?SuppressedError:function(i,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=i,n.suppressed=e,n};pn={__extends:qt,__assign:et,__rest:Wt,__decorate:Kt,__param:Yt,__esDecorate:Xt,__runInitializers:jt,__propKey:Zt,__setFunctionName:Qt,__metadata:er,__awaiter:tr,__generator:rr,__createBinding:rt,__exportStar:nr,__values:tt,__read:pt,__spread:ir,__spreadArrays:lr,__spreadArray:ar,__await:Pe,__asyncGenerator:sr,__asyncDelegator:or,__asyncValues:fr,__makeTemplateObject:ur,__importStar:cr,__importDefault:dr,__classPrivateFieldGet:hr,__classPrivateFieldSet:pr,__classPrivateFieldIn:gr,__addDisposableResource:mr,__disposeResources:yr,__rewriteRelativeImportExtension:xr}});var Ar=Te(gt=>{(function(i){"use strict";var e=typeof process=="object"&&process.env?process.env:self;i.parser=function(o){return new u(o)},i.CParser=u,i.CStream=d,i.createStream=y,i.MAX_BUFFER_LENGTH=64*1024,i.DEBUG=e.CDEBUG==="debug",i.INFO=e.CDEBUG==="debug"||e.CDEBUG==="info",i.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var r={textNode:void 0,numberNode:""},n=i.EVENTS.filter(function(o){return o!=="error"&&o!=="end"}),t=0,a;i.STATE={BEGIN:t++,VALUE:t++,OPEN_OBJECT:t++,CLOSE_OBJECT:t++,OPEN_ARRAY:t++,CLOSE_ARRAY:t++,TEXT_ESCAPE:t++,STRING:t++,BACKSLASH:t++,END:t++,OPEN_KEY:t++,CLOSE_KEY:t++,TRUE:t++,TRUE2:t++,TRUE3:t++,FALSE:t++,FALSE2:t++,FALSE3:t++,FALSE4:t++,NULL:t++,NULL2:t++,NULL3:t++,NUMBER_DECIMAL_POINT:t++,NUMBER_DIGIT:t++};for(var s in i.STATE)i.STATE[i.STATE[s]]=s;t=i.STATE;let f={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(o){function l(){this.__proto__=o}return l.prototype=o,new l}),Object.getPrototypeOf||(Object.getPrototypeOf=function(o){return o.__proto__}),Object.keys||(Object.keys=function(o){var l=[];for(var C in o)o.hasOwnProperty(C)&&l.push(C);return l});function m(o){var l=Math.max(i.MAX_BUFFER_LENGTH,10),C=0;for(var w in r){var O=o[w]===void 0?0:o[w].length;if(O>l)switch(w){case"text":closeText(o);break;default:x(o,"Max buffer length exceeded: "+w)}C=Math.max(C,O)}o.bufferCheckPosition=i.MAX_BUFFER_LENGTH-C+o.position}function c(o){for(var l in r)o[l]=r[l]}var h=/[\\"\n]/g;function u(o){if(!(this instanceof u))return new u(o);var l=this;c(l),l.bufferCheckPosition=i.MAX_BUFFER_LENGTH,l.q=l.c=l.p="",l.opt=o||{},l.closed=l.closedRoot=l.sawRoot=!1,l.tag=l.error=null,l.state=t.BEGIN,l.stack=new Array,l.position=l.column=0,l.line=1,l.slashed=!1,l.unicodeI=0,l.unicodeS=null,l.depth=0,A(l,"onready")}u.prototype={end:function(){S(this)},write:p,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{a=sn("stream").Stream}catch{a=function(){}}function y(o){return new d(o)}function d(o){if(!(this instanceof d))return new d(o);this._parser=new u(o),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var l=this;a.apply(l),this._parser.onend=function(){l.emit("end")},this._parser.onerror=function(C){l.emit("error",C),l._parser.error=null},n.forEach(function(C){Object.defineProperty(l,"on"+C,{get:function(){return l._parser["on"+C]},set:function(w){if(!w)return l.removeAllListeners(C),l._parser["on"+C]=w,w;l.on(C,w)},enumerable:!0,configurable:!1})})}d.prototype=Object.create(a.prototype,{constructor:{value:d}}),d.prototype.write=function(o){o=new Buffer(o);for(var l=0;l<o.length;l++){var C=o[l];if(this.bytes_remaining>0){for(var w=0;w<this.bytes_remaining;w++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+w]=o[w];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,l=l+w-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&C>=128)if(C>=194&&C<=223&&(this.bytes_in_sequence=2),C>=224&&C<=239&&(this.bytes_in_sequence=3),C>=240&&C<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+l>o.length){for(var O=0;O<=o.length-1-l;O++)this.temp_buffs[this.bytes_in_sequence][O]=o[l+O];return this.bytes_remaining=l+this.bytes_in_sequence-o.length,!0}else{this.string=o.slice(l,l+this.bytes_in_sequence).toString(),l=l+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var $=l;$<o.length&&!(o[$]>=128);$++);this.string=o.slice(l,$).toString(),this._parser.write(this.string),this.emit("data",this.string),l=$-1}},d.prototype.end=function(o){return o&&o.length&&this._parser.write(o.toString()),this._parser.end(),!0},d.prototype.on=function(o,l){var C=this;return!C._parser["on"+o]&&n.indexOf(o)!==-1&&(C._parser["on"+o]=function(){var w=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);w.splice(0,0,o),C.emit.apply(C,w)}),a.prototype.on.call(C,o,l)},d.prototype.destroy=function(){c(this._parser),this.emit("close")};function A(o,l,C){i.INFO&&console.log("-- emit",l,C),o[l]&&o[l](C)}function b(o,l,C){N(o),A(o,l,C)}function N(o,l){o.textNode=g(o.opt,o.textNode),o.textNode!==void 0&&A(o,l||"onvalue",o.textNode),o.textNode=void 0}function E(o){o.numberNode&&A(o,"onvalue",parseFloat(o.numberNode)),o.numberNode=""}function g(o,l){return l===void 0||(o.trim&&(l=l.trim()),o.normalize&&(l=l.replace(/\s+/g," "))),l}function x(o,l){return N(o),l+=`
Line: `+o.line+`
Column: `+o.column+`
Char: `+o.c,l=new Error(l),o.error=l,A(o,"onerror",l),o}function S(o){return(o.state!==t.VALUE||o.depth!==0)&&x(o,"Unexpected end"),N(o),o.c="",o.closed=!0,A(o,"onend"),u.call(o,o.opt),o}function _(o){return o===f.carriageReturn||o===f.lineFeed||o===f.space||o===f.tab}function p(o){var l=this;if(this.error)throw this.error;if(l.closed)return x(l,"Cannot write after close. Assign an onready handler.");if(o===null)return S(l);var C=0,w=o.charCodeAt(0),O=l.p,$=!1;for(i.DEBUG&&console.log("write -> ["+o+"]");w&&(O=w,l.c=w=o.charCodeAt(C++),O!==w?l.p=O:O=l.p,!!w);)switch(i.DEBUG&&console.log(C,w,i.STATE[l.state]),$?$=!1:(l.position++,w===f.lineFeed?(l.line++,l.column=0):l.column++),l.state){case t.BEGIN:w===f.openBrace?l.state=t.OPEN_OBJECT:w===f.openBracket?l.state=t.OPEN_ARRAY:_(w)||x(l,"Non-whitespace before {[.");continue;case t.OPEN_KEY:case t.OPEN_OBJECT:if(_(w))continue;if(l.state===t.OPEN_KEY)l.stack.push(t.CLOSE_KEY);else if(w===f.closeBrace){A(l,"onopenobject"),this.depth++,A(l,"oncloseobject"),this.depth--,l.state=l.stack.pop()||t.VALUE;continue}else l.stack.push(t.CLOSE_OBJECT);w===f.doubleQuote?l.state=t.STRING:x(l,'Malformed object key should start with "');continue;case t.CLOSE_KEY:case t.CLOSE_OBJECT:if(_(w))continue;var K=l.state===t.CLOSE_KEY?"key":"object";w===f.colon?(l.state===t.CLOSE_OBJECT?(l.stack.push(t.CLOSE_OBJECT),N(l,"onopenobject"),this.depth++):N(l,"onkey"),l.state=t.VALUE):w===f.closeBrace?(b(l,"oncloseobject"),this.depth--,l.state=l.stack.pop()||t.VALUE):w===f.comma?(l.state===t.CLOSE_OBJECT&&l.stack.push(t.CLOSE_OBJECT),N(l),l.state=t.OPEN_KEY):x(l,"Bad object");continue;case t.OPEN_ARRAY:case t.VALUE:if(_(w))continue;if(l.state===t.OPEN_ARRAY)if(A(l,"onopenarray"),this.depth++,l.state=t.VALUE,w===f.closeBracket){A(l,"onclosearray"),this.depth--,l.state=l.stack.pop()||t.VALUE;continue}else l.stack.push(t.CLOSE_ARRAY);w===f.doubleQuote?l.state=t.STRING:w===f.openBrace?l.state=t.OPEN_OBJECT:w===f.openBracket?l.state=t.OPEN_ARRAY:w===f.t?l.state=t.TRUE:w===f.f?l.state=t.FALSE:w===f.n?l.state=t.NULL:w===f.minus?l.numberNode+="-":f._0<=w&&w<=f._9?(l.numberNode+=String.fromCharCode(w),l.state=t.NUMBER_DIGIT):x(l,"Bad value");continue;case t.CLOSE_ARRAY:if(w===f.comma)l.stack.push(t.CLOSE_ARRAY),N(l,"onvalue"),l.state=t.VALUE;else if(w===f.closeBracket)b(l,"onclosearray"),this.depth--,l.state=l.stack.pop()||t.VALUE;else{if(_(w))continue;x(l,"Bad array")}continue;case t.STRING:l.textNode===void 0&&(l.textNode="");var I=C-1,v=l.slashed,k=l.unicodeI;e:for(;;){for(i.DEBUG&&console.log(C,w,i.STATE[l.state],v);k>0;)if(l.unicodeS+=String.fromCharCode(w),w=o.charCodeAt(C++),l.position++,k===4?(l.textNode+=String.fromCharCode(parseInt(l.unicodeS,16)),k=0,I=C-1):k++,!w)break e;if(w===f.doubleQuote&&!v){l.state=l.stack.pop()||t.VALUE,l.textNode+=o.substring(I,C-1),l.position+=C-1-I;break}if(w===f.backslash&&!v&&(v=!0,l.textNode+=o.substring(I,C-1),l.position+=C-1-I,w=o.charCodeAt(C++),l.position++,!w))break;if(v){if(v=!1,w===f.n?l.textNode+=`
`:w===f.r?l.textNode+="\r":w===f.t?l.textNode+="	":w===f.f?l.textNode+="\f":w===f.b?l.textNode+="\b":w===f.u?(k=1,l.unicodeS=""):l.textNode+=String.fromCharCode(w),w=o.charCodeAt(C++),l.position++,I=C-1,w)continue;break}h.lastIndex=C;var L=h.exec(o);if(L===null){C=o.length+1,l.textNode+=o.substring(I,C-1),l.position+=C-1-I;break}if(C=L.index+1,w=o.charCodeAt(L.index),!w){l.textNode+=o.substring(I,C-1),l.position+=C-1-I;break}}l.slashed=v,l.unicodeI=k;continue;case t.TRUE:w===f.r?l.state=t.TRUE2:x(l,"Invalid true started with t"+w);continue;case t.TRUE2:w===f.u?l.state=t.TRUE3:x(l,"Invalid true started with tr"+w);continue;case t.TRUE3:w===f.e?(A(l,"onvalue",!0),l.state=l.stack.pop()||t.VALUE):x(l,"Invalid true started with tru"+w);continue;case t.FALSE:w===f.a?l.state=t.FALSE2:x(l,"Invalid false started with f"+w);continue;case t.FALSE2:w===f.l?l.state=t.FALSE3:x(l,"Invalid false started with fa"+w);continue;case t.FALSE3:w===f.s?l.state=t.FALSE4:x(l,"Invalid false started with fal"+w);continue;case t.FALSE4:w===f.e?(A(l,"onvalue",!1),l.state=l.stack.pop()||t.VALUE):x(l,"Invalid false started with fals"+w);continue;case t.NULL:w===f.u?l.state=t.NULL2:x(l,"Invalid null started with n"+w);continue;case t.NULL2:w===f.l?l.state=t.NULL3:x(l,"Invalid null started with nu"+w);continue;case t.NULL3:w===f.l?(A(l,"onvalue",null),l.state=l.stack.pop()||t.VALUE):x(l,"Invalid null started with nul"+w);continue;case t.NUMBER_DECIMAL_POINT:w===f.period?(l.numberNode+=".",l.state=t.NUMBER_DIGIT):x(l,"Leading zero not followed by .");continue;case t.NUMBER_DIGIT:f._0<=w&&w<=f._9?l.numberNode+=String.fromCharCode(w):w===f.period?(l.numberNode.indexOf(".")!==-1&&x(l,"Invalid number has two dots"),l.numberNode+="."):w===f.e||w===f.E?((l.numberNode.indexOf("e")!==-1||l.numberNode.indexOf("E")!==-1)&&x(l,"Invalid number has two exponential"),l.numberNode+="e"):w===f.plus||w===f.minus?(O===f.e||O===f.E||x(l,"Invalid symbol in number"),l.numberNode+=String.fromCharCode(w)):(E(l),C--,$=!0,l.state=l.stack.pop()||t.VALUE);continue;default:x(l,"Unknown state: "+l.state)}return l.position>=l.bufferCheckPosition&&m(l),l}})(typeof gt>"u"?clarinet={}:gt)});var wr=Te(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.stringify=Be.parse=void 0;var gn=(br(),cn(Er)),mn=gn.__importDefault(Ar());function yn(i){let e=yt(),r,n;function t(s){try{let f=e.next(s);f.done&&(r=f.value)}catch(f){n=f}}let a=mn.default.parser();if(a.onopenobject=s=>t({type:"openobject",key:s}),a.onopenarray=()=>t({type:"openarray"}),a.onkey=s=>t({type:"key",key:s}),a.onvalue=s=>t({type:"value",value:s}),a.oncloseobject=()=>t({type:"closeobject"}),a.onclosearray=()=>t({type:"closearray"}),a.onerror=s=>t({type:"error",err:s}),e.next(),a.write(i).close(),n)throw n;return r}Be.parse=yn;function mt(i){return Array.isArray(i)?`[${i.map(mt).join(",")}]`:i instanceof Map?`{${[...i].map(([e,r])=>JSON.stringify(e)+":"+mt(r)).join(",")}}`:JSON.stringify(i)}Be.stringify=mt;var Nr=Symbol();function*yt(){let i=yield;switch(i.type){case"value":return i.value;case"openobject":let e=new Map,r=i.key;for(r===void 0&&(yield);r!==void 0;)e.set(r,yield*yt()),r=(yield).key;return e;case"openarray":let n=[],t;for(;;){if(t=yield*yt(),t===Nr)return n;n.push(t)}case"closearray":return Nr;case"error":throw i.err;default:throw Error(`Unexpected ParseEvent ${i.type}`)}}});var _r=Te((Xn,Tr)=>{var Sr=wr().parse;Tr.exports=class{constructor(e=!1){let r=this;if(this.indentation=4,[!0,!1,void 0].indexOf(e)==-1)throw new Error("@param {Boolean} pedantic");this.pedantic=e}template(e){let r=this;var n=e.raw[0];for(let a=1;a<e.raw.length;a++)typeof arguments[a]=="string"?n+='"'+arguments[a]+'"':n+=arguments[a],n+=e.raw[a];return r._treeToMap(r._damonToTree(n))}damonToMap(e,r=0,n=!1){let t=this,a=t._damonToTree(e,r);return a===!0||a===!1||a===null||typeof a=="string"||typeof a=="number"?a:t._treeToMap(t._damonToTree(e,r),r,n)}damonToJSON(e){let r=this;return r.mapToJSON(r.damonToMap(e))}jsonToDamon(e){let r=this;return r.mapToDamon(r.jsonToMap(e),!1)}jsonToMap(e){var n=this._getLines(e,"JSON");if(n=n.filter(t=>!/^ *\/\//.test(t)),n=n.filter(t=>t!=""),n=n.filter(t=>!/^[ \t]+$/.test(t)),n.length==1){if(["true","false","null"].indexOf(n[0].trim())>-1)return JSON.parse(n[0]);if(/^".*"$/.test(n[0].trim()))try{return JSON.parse(n[0].trim())}catch(t){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),t.line=1,t.language="JSON",t.type="string",t}else if(isFinite(n[0])&&!isNaN(parseFloat(n[0]))&&Number.isFinite(n[0]*1)&&!Number.isNaN(n[0]*1)){if(n[0].indexOf(0)==0&&n[0].length>1&&n[0].indexOf(".")!==1){let t=new Error("Error line number 1: leading 0");throw t.line=1,t.language="DAMON",t}if(n[0].indexOf("_")>-1){let t=new Error("Error line number 1: numeric separator");throw t.line=1,t.language="DAMON",t}try{return JSON.parse(n[0]*1)}catch(t){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),t.line=1,t.language="JSON",t.type="number",t}}else if(n[0]*1===1/0)try{JSON.parse(n[0]*1)}catch(t){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),t.line=1,t.language="JSON",t.type="infinity",t}else return Sr(e)}else return Sr(e)}_getLines(e,r="DAMON",n=0){if(["DAMON","JSON"].indexOf(r)==-1)throw new Error("Bad language argument, expected 'DAMON' or 'JSON'");if(e===""){let s=new Error("Error line "+(n+1)+": empty string");throw s.line=n+1,s.language=r,s}if(/[\s]/.test(e)&&e.match(new RegExp(/[\s]/))[0].length==e.length){let s=new Error("Error line "+(n+1)+": string only contains whitespace");throw s.line=n+1,s.language=r,s}var t=/\r\n/.test(e)?`\r
`:`
`,a=e.split(t);if(t==`
`&&/\\*\n/.test(e)){if(/[^\\]\\(\\\\)*\n/.test(e)){let m=e.split(/[^\\]\\(\\\\)*\n/)[0].split(`
`).length,c=new Error("Error line "+(n+m)+": oddly escaped newline");throw c.line=n+m,c.language=r,c}a=e.split("").reverse().join("").split(/\n/).map(m=>m.split("").reverse().join("")).reverse()}return a}_damonToTree(e,r){let n=this,t=n._getLines(e,"DAMON",r),a=t.slice(0);if(t=t.filter(N=>!/^ *\/\//.test(N)),t=t.filter(N=>N!=""),t=t.filter(N=>!/^[ \t]+$/.test(N)),t.length==1){if(["true","false","null"].indexOf(t[0].trim())>-1)return JSON.parse(t[0]);if(/^".*"$/.test(t[0].trim()))try{return JSON.parse(t[0].trim())}catch(N){throw console.error("Error line number "+(r+1)+": not JSON-compliant, detailed error follows"),N.line=r+1,N.language="JSON",N.type="string",N}else if(isFinite(t[0])&&!isNaN(parseFloat(t[0]))&&Number.isFinite(t[0]*1)&&!Number.isNaN(t[0]*1)){if(t[0].indexOf(0)==0&&t[0].length>1&&t[0].indexOf(".")!==1){let N=new Error("Error line number "+(r+1)+": leading 0");throw N.line=r+1,N.language="DAMON",N}if(t[0].indexOf("_")>-1){let N=new Error("Error line number "+(r+1)+": numeric separator");throw N.line=r+1,N.language="DAMON",N}try{return JSON.parse(t[0]*1)}catch(N){throw console.error("Error line number "+(r+1)+": not JSON-compliant, detailed error follows"),N.line=r+1,N.language="JSON",N.type="number",N}}else if(t[0]*1===1/0)try{JSON.parse(t[0]*1)}catch(N){throw console.error("Error line number "+(r+1)+": not JSON-compliant, detailed error follows"),N.line=r+1,N.language="JSON",N.type="infinity",N}}let s=0,f=[];for(let N=0,E=a.length;N<E;N++)t.slice(s).indexOf(a[N])>-1?f[N]=t.slice(s).indexOf(a[N]):f[N]=null;let m=new RegExp("^(\\t)+");for(let N=0,E=t.length;N<E;N++){if(m.test(t[N])){let g=t[N].match(m)[0].length;for(let x=0,S=g;x<S;x++)t[N]=t[N].replace("	"," ".repeat(n.indentation))}if(!/^ *- $/.test(t[N])&&/[ \t]+$/.test(t[N])){let g=new Error("Error line "+(r+f.indexOf(N)+1)+": trailing whitespace");throw g.line=r+f.indexOf(N)+1,g.language="DAMON",g}}let c=new RegExp("^("+" ".repeat(n.indentation)+")+");if(c.test(t[0])){let N=t[0].match(c)[0].length,E=!0;for(let g=0,x=t.length;g<x;g++)c.test(t[g])&&t[g].match(c)[0].length>=N?t[g]=t[g].slice(N):E=!1;if(!E){let g=new Error("Error line "+(r+1)+": bad formatting");throw g.line=r+1,g.language="DAMON",g}}else if(c.test(t[1])&&t[1].match(c)[0].length>n.indentation){let N=t[1].match(c)[0].length-n.indentation,E=!0;for(let g=1,x=t.length;g<x;g++)c.test(t[g])&&t[g].match(c)[0].length>=N?t[g]=t[g].slice(N):E=!1;if(!E){let g=new Error("Error line "+(r+2)+": bad formatting");throw g.line=r+2,g.language="DAMON",g}}let h=!1;if(t.length>1)for(let N=0,E=t.length;N<E;N++)N!==0&&/^- /.test(t[N])&&(h=!0);if(!/^- \{\}$/.test(t[0])&&!/^- \[\]$/.test(t[0])&&(h=!0),h){for(let N=0,E=t.length;N<E;N++)t[N]=" ".repeat(n.indentation)+t[N];t.unshift("- {}")}var u={content:t[0],level:0,id:0,children:[],headless:h,damonOriginalLinesMapping:f},y=u;if(!/^- /.test(t[0].trimStart())||/^ +/.test(t[0])&&(t[0].match(/^ +/)[0].length%n.indentation!=0||t[0].match(/^ +/)[0].length!=n.indentation)){let N=new Error("Error line "+(r+(h*1+1))+": bad formatting");throw N.line=r+h*1+1,N.language="DAMON",N}t.shift();for(let N=0,E=t.length;N<E;N++){if(!/^- /.test(t[N].trimStart())||/^ +/.test(t[N])&&(t[N].match(/^ +/)[0].length%n.indentation!=0||N==0&&t[N].match(/^ +/)[0].length!=n.indentation||N!=0&&/^- /.test(t[N-1])&&t[N].match(/^ +/)[0].length!=n.indentation||N!=0&&!/^- /.test(t[N-1])&&t[N].match(/^ +/)[0].length>t[N-1].match(/^ +/)[0].length+n.indentation)){let x=new Error("Error line "+(r+f.indexOf(N)+1)+": bad formatting");throw x.line=r+f.indexOf(N)+1,x.language="DAMON",x}let g={content:t[N].trimStart().slice(2),level:1+t[N].match(/^ +/)[0].length/n.indentation,id:"",children:[]};if(y===u)g.id=u.children.length+1,u.children.push(g);else if(y.level===g.level){var d=n._findListItemCommonDirectParent(y,u);d.level==0?g.id=d.children.length+1:g.id=d.id+"-"+(d.children.length+1),d.children.push(g)}else if(y.level>g.level){var A=n._findListItemCommonAncestor(y,u,g.level);A.level==0?g.id=A.children.length+1:g.id=A.id+"-"+(A.children.length+1),A.children.push(g)}else if(y.level<g.level){var b=n._findListItemCommonDirectParent(y,u);let x=b.children.indexOf(y),S=b.children[x].id,_=b.children[x].children.length+1;g.id=S+"-"+_,b.children[x].children.push(g)}y=g}return u}_findListItemCommonDirectParent(e,r){let n=this;if(r.children.indexOf(e)>-1)return r;var t;for(let a=r.children.length-1,s=0;a>=s;a--)if(t=n._findListItemCommonDirectParent(e,r.children[a]),t)return t}_findListItemCommonAncestor(e,r,n){let t=this;var a=t._findListItemCommonDirectParent(e,r);return a.level<n?a:t._findListItemCommonAncestor(a,r,n)}_treeToMap(e,r,n=!1){let t=this;var a=0;if(e.content=="- {}"){let c=new Map;return c.damonOriginalLinesMapping=e.damonOriginalLinesMapping,e.headless&&(c.headless=!0),s(e,c)}else if(e.content=="- []"){let c=[];return c.damonOriginalLinesMapping=e.damonOriginalLinesMapping,s(e,c)}function s(c,h){if(typeof c!="object"||c==null||Array.isArray(c)){let u=e.headless*-1+e.damonOriginalLinesMapping.indexOf(a-1)+2,y=new Error("Error line number "+(r+u)+": @param { {} } tree");throw y.line=r+u,y.language="DAMON",y}if(typeof h=="object"&&h!==null&&!Array.isArray(h)&&h instanceof Map&&h.constructor===Map)f(c,h);else if(Array.isArray(h))m(c,h);else{let u=e.headless*-1+e.damonOriginalLinesMapping.indexOf(a-1)+2,y=new Error("Error line number "+(r+u)+": @param { {} | [] } jsonMap");throw y.line=r+u,y.language="DAMON",y}return h}function f(c,h){for(let u=0,y=c.children.length;u<y;u++)if(a++,c.children[u].content.length==0){let d="";c.children[u].children.length>0?(d="implicit map key",n?h.set(u+"-",new Map):h.set("",new Map),h.implicitMaps===void 0&&(h.implicitMaps=[]),h.implicitMaps.push(""),s(c.children[u],h.get(""))):(d="implicit null key",n?h.set(u+"-",null):h.set("",null),h.implicitNulls===void 0&&(h.implicitNulls=[]),h.implicitNulls.push(""))}else{let d=c.children[u].content,A="key";try{if(/^.*: +\[/.test(d)&&d[d.length-1]=="]")if(/: +\[ *\]$/.test(d)){let b=JSON.parse(`["${d.slice(0,-1*d.match(/: +\[ *\]$/)[0].length)}"]`)[0];n?h.set(u+"-"+b,[]):h.set(b,[]),c.children[u].children.length>0&&(n?s(c.children[u],h.get(u+"-"+b)):s(c.children[u],h.get(b)))}else{let b=new RegExp(/: +\[/g),N=d.slice(0,-1).split(b),E=d.match(b).concat([""]),g=N.map((p,o)=>p+E[o]),x="",S=[];for(let p=0,o=N.length;p<o;p++)try{let l;if(p==0?l=N[0]:l=g.slice(0,p).join("")+N[p],x=JSON.parse(`["${l}"]`)[0],A="list",S=JSON.parse(`[${g.slice(p+1).join("")}]`),Array.isArray(S))break}catch{if(p==o-2){let C=e.headless*-1+e.damonOriginalLinesMapping.indexOf(a-1)+2,w=new Error("Error line number "+(r+C)+": invalid inline list");throw w.line=r+C,w.language="DAMON",w}}if(S.every(function(p){return p===!0||p===!1||p===null||typeof p=="string"?!0:!!(isFinite(p)&&!isNaN(parseFloat(p))&&Number.isFinite(p*1)&&!Number.isNaN(p*1))}))n?h.set(u+"-"+x,S):h.set(x,S),h.damonInlineArrays===void 0&&(h.damonInlineArrays=[]),n?h.damonInlineArrays.push(u+"-"+x):h.damonInlineArrays.push(x);else{let p=+(e.headless*-1)+e.damonOriginalLinesMapping.indexOf(a-1)+2,o=new Error("Error line number "+(r+p)+": no nesting in inline lists");throw o.line=r+p,o.language="DAMON",o}if(c.children[u].children.length>0){let p=e.headless*-1+e.damonOriginalLinesMapping.indexOf(a-1)+3,o=new Error("Error line number "+(r+p)+": inline lists can't have children");throw o.line=r+p,o.language="DAMON",o}}else if(/: +\{ *\}$/.test(d)){let b=JSON.parse(`["${d.slice(0,-1*d.match(/: +\{ *\}$/)[0].length)}"]`)[0];n?(h.set(u+"-"+b,new Map),s(c.children[u],h.get(u+"-"+b))):(h.set(b,new Map),s(c.children[u],h.get(b)))}else{let b=!1;if(/^.*: /.test(d)&&d.split(new RegExp(/: +/))[d.split(new RegExp(/: +/)).length-1]==="true"){let N=d.match(new RegExp(/: +/g))[d.match(new RegExp(/: +/g)).length-1],E=JSON.parse(`["${d.slice(0,-1*N.length-4)}"]`)[0];n?h.set(u+"-"+E,!0):h.set(E,!0)}else if(/^.*: /.test(d)&&d.split(new RegExp(/: +/))[d.split(new RegExp(/: +/)).length-1]==="false"){let N=d.match(new RegExp(/: +/g))[d.match(new RegExp(/: +/g)).length-1],E=JSON.parse(`["${d.slice(0,-1*N.length-5)}"]`)[0];n?h.set(u+"-"+E,!1):h.set(E,!1)}else if(/^.*: /.test(d)&&d.split(new RegExp(/: +/))[d.split(new RegExp(/: +/)).length-1]==="null"){let N=d.match(new RegExp(/: +/g))[d.match(new RegExp(/: +/g)).length-1],E=JSON.parse(`["${d.slice(0,-1*N.length-4)}"]`)[0];n?h.set(u+"-"+E,null):h.set(E,null)}else if(/^.*: +"/.test(d)&&d[d.length-1]=='"'){let N=d.match(new RegExp(/: +"/g));if(N.length==1){let E=JSON.parse(`["${d.split(N[0])[0]}"]`)[0];A="string";let g=JSON.parse(`["${d.split(N[0]).slice(1).join("").slice(0,-1)}"]`)[0];n?h.set(u+"-"+E,g):h.set(E,g)}else if(N.length==2&&/: +"$/.test(d)){let E=JSON.parse(`["${d.split(N[0])[0]}"]`)[0];A="string";let g=JSON.parse(`["${d.split(N[0]).slice(1).join("")+": "}"]`)[0];n?h.set(u+"-"+E,g):h.set(E,g)}else{let E=+(e.headless*-1)+e.damonOriginalLinesMapping.indexOf(a-1)+2,g=new Error("Error line number "+(r+E)+": unescaped double quote");throw g.line=r+E,g.language="DAMON",g}}else if(/^.*: /.test(d)&&isFinite(d.split(": ")[d.split(": ").length-1])&&!isNaN(parseFloat(d.split(": ")[d.split(": ").length-1]))&&Number.isFinite(d.split(": ")[d.split(": ").length-1]*1)&&!Number.isNaN(d.split(": ")[d.split(": ").length-1]*1)){let N=JSON.parse(`["${d.split(": ").slice(0,-1).join(": ")}"]`)[0];A="number";let E=d.match(new RegExp(/: +/g)),g=E[E.length-1],x=d.split(g)[d.split(g).length-1];if(x.indexOf(0)==0&&x.length>1&&x.indexOf(".")!==1){let _=e.headless*-1+e.damonOriginalLinesMapping.indexOf(a-1)+2,p=new Error("Error line number "+(r+_)+": leading 0");throw p.line=r+_,p.language="DAMON",p}if(x.indexOf("_")>-1){let _=e.headless*-1+e.damonOriginalLinesMapping.indexOf(a-1)+2,p=new Error("Error line number "+(r+_)+": Numeric separator");throw p.line=r+_,p.language="DAMON",p}let S=JSON.parse(`[${d.split(": ")[d.split(": ").length-1]*1}]`)[0];n?h.set(u+"-"+N,S):h.set(N,S)}else if(/^.*: /.test(d)&&d.split(new RegExp(/: +/))[d.split(new RegExp(/: +/)).length-1]*1===1/0){let N=JSON.parse(`["${d.split(": ").slice(0,-1).join(": ")}"]`)[0];A="infinity";let E=JSON.parse(`[${d.split(": ")[d.split(": ").length-1]*1}]`)}else{let N=!1,E=0;if(/\[ *\]$/.test(d)&&(N=!0,E=d.match(new RegExp(/\[ *\]$/g))[0].length),/\{ *\}$/.test(d)&&(N=!0,E=d.match(new RegExp(/\{ *\}$/g))[0].length),/true$/.test(d)&&(N=!0,E=4),/false$/.test(d)&&(N=!0,E=5),/null$/.test(d)&&(N=!0,E=4),/".*"$/.test(d)&&(N=!0,E=d.match(new RegExp(/".*"$/g))[0].length),!N){let g="";for(let x=d.length-1;x>-1&&(g=d[x].concat(g),isFinite(g)&&!isNaN(parseFloat(g))&&Number.isFinite(g*1)&&!Number.isNaN(g*1));x--){if(!/[ \t]/.test(d[x]))break;(g.indexOf(0)==0&&g.length>1&&g.indexOf(".")!==1||g.indexOf("_")>-1)&&(N=!0,E=g.length)}}if(N)if(JSON.parse(`["${d.slice(0,-1*E)}"]`)[0],t.pedantic){let g=e.headless*-1+e.damonOriginalLinesMapping.indexOf(a),x=new Error("Error line number "+(r+g)+": missing separator");throw x.line=r+g,x.language="DAMON",x.errorType="pedantic",x}else if(b=!0,c.children[u].children.length>0){A="implicit map key";let g=JSON.parse(`["${d}"]`)[0];n?h.set(u+"-"+g,new Map):h.set(g,new Map),h.implicitMaps===void 0&&(h.implicitMaps=[]),n?(h.implicitMaps.push(u+"-"+g),s(c.children[u],h.get(u+"-"+g))):(h.implicitMaps.push(g),s(c.children[u],h.get(g)))}else{A="implicit null key";let g=JSON.parse(`["${d}"]`)[0];n?h.set(u+"-"+g,null):h.set(g,null),h.implicitNulls===void 0&&(h.implicitNulls=[]),n?h.implicitNulls.push(u+"-"+g):h.implicitNulls.push(g)}else{let g=JSON.parse(`["${d.slice(0,-1*E)}"]`)[0];if(t.pedantic)if(/: +$/.test(g)){let x=e.headless*-1+e.damonOriginalLinesMapping.indexOf(a),S=new Error("Error line number "+(r+x)+": bad value");throw S.line=r+x,S.language="DAMON",S.errorType="pedantic",S}else{let x=e.headless*-1+e.damonOriginalLinesMapping.indexOf(a),S=new Error("Error line number "+(r+x)+": missing separator");throw S.line=r+x,S.language="DAMON",S.errorType="pedantic",S}else if(b=!0,c.children[u].children.length>0){A="implicit map key";let x=JSON.parse(`["${d}"]`)[0];n?h.set(u+"-"+x,new Map):h.set(x,new Map),h.implicitMaps===void 0&&(h.implicitMaps=[]),n?(h.implicitMaps.push(u+"-"+x),s(c.children[u],h.get(u+"-"+x))):(h.implicitMaps.push(x),s(c.children[u],h.get(x)))}else{A="implicit null key";let x=JSON.parse(`["${d}"]`)[0];n?h.set(u+"-"+x,null):h.set(x,null),h.implicitNulls===void 0&&(h.implicitNulls=[]),n?h.implicitNulls.push(u+"-"+x):h.implicitNulls.push(x)}}}if(!b&&c.children[u].children.length>0){let N=e.headless*-1+e.damonOriginalLinesMapping.indexOf(a-1)+3,E=new Error("Error line number "+(r+N)+": missing container or excess indentation");throw E.line=r+N,E.language="DAMON",E}}}catch(b){if(b.language===void 0){let N=e.headless*-1+e.damonOriginalLinesMapping.indexOf(a-1)+2;console.error("Error line number "+(r+N)+": not JSON-compliant, detailed error follows"),b.line=r+N,b.language="JSON",b.type=A}throw b}}}function m(c,h){for(let u=0,y=c.children.length;u<y;u++)if(a++,c.children[u].content.length){let d=c.children[u].content;if(/^[ \t]*\[/.test(d)&&d[d.length-1]=="]")if(/^[ \t]*\[ *\]$/.test(d))h.push([]),s(c.children[u],h[h.length-1]);else{let A;try{A=JSON.parse(d)}catch{let E=e.headless*-1+e.damonOriginalLinesMapping.indexOf(a-1)+2,g=new Error("Error line number "+(r+E)+": invalid inline lists");throw g.line=r+E,g.language="JSON",g.type="list",g}if(A.every(function(N){return N===!0||N===!1||N===null||typeof N=="string"?!0:!!(isFinite(N)&&!isNaN(parseFloat(N))&&Number.isFinite(N*1)&&!Number.isNaN(N*1))}))h.push(A),h.damonInlineArrays===void 0&&(h.damonInlineArrays=[]),h.damonInlineArrays.push(u);else{let N=e.headless*-1+e.damonOriginalLinesMapping.indexOf(a-1)+2,E=new Error("Error line number "+(r+N)+": no nesting in inline lists");throw E.line=r+N,E.language="DAMON",E}if(c.children[u].children.length>0){let N=e.headless*-1+e.damonOriginalLinesMapping.indexOf(a-1)+3,E=new Error("Error line number "+(r+N)+": inline lists can't have children");throw E.line=r+N,E.language="DAMON",E}}else if(/^[ \t]*\{\}$/.test(d))h.push(new Map),s(c.children[u],h[h.length-1]);else if(/^[ \t]*true$/.test(d))h.push(!0);else if(/^[ \t]*false$/.test(d))h.push(!1);else if(/^[ \t]*null$/.test(d))h.push(null);else if(/^[ \t]*".*"$/.test(d))try{h.push(JSON.parse(`[${d.trimStart()}]`)[0])}catch(A){let b=e.headless*-1+e.damonOriginalLinesMapping.indexOf(a-1)+2;throw console.error("Error line number "+(r+b)+": not JSON-compliant, detailed error follows"),A.line=r+b,A.language="JSON",A.type="string",A}else if(isFinite(d)&&!isNaN(parseFloat(d))&&Number.isFinite(d*1)&&!Number.isNaN(d*1)){if(d.indexOf(0)==0&&d.length>1&&d.indexOf(".")!==1){let A=e.headless*-1+e.damonOriginalLinesMapping.indexOf(a-1)+2,b=new Error("Error line number "+(r+A)+": leading 0");throw b.line=r+A,b.language="DAMON",b}if(d.indexOf("_")>-1){let A=e.headless*-1+e.damonOriginalLinesMapping.indexOf(a-1)+2,b=new Error("Error line number "+(r+A)+": leading 0");throw b.line=r+A,b.language="DAMON",b}try{h.push(JSON.parse(`[${d*1}]`)[0])}catch(A){let b=e.headless*-1+e.damonOriginalLinesMapping.indexOf(a-1)+2;throw console.error("Error line number "+(r+b)+": not JSON-compliant, detailed error follows"),A.line=r+b,A.language="JSON",A.type="number",A}}else if(d*1===1/0)try{JSON.parse(d*1)}catch(A){let b=e.headless*-1+e.damonOriginalLinesMapping.indexOf(a-1)+2;throw console.error("Error line number "+(r+b)+": not JSON-compliant, detailed error follows"),A.line=r+b,A.language="JSON",A.type="infinity",A}else{let A=e.headless*-1+e.damonOriginalLinesMapping.indexOf(a-1)+2,b=new Error("Error line number "+(r+A)+": list items can't have a key");throw b.line=r+A,b.language="DAMON",b}}else{let d=e.headless*-1+e.damonOriginalLinesMapping.indexOf(a-1)+2,A=new Error("Error line number "+(r+d)+": empty list node");throw A.line=r+d,A.language="DAMON",A}}}mapToDamon(e,r,n){let t=this;var a="";if(Array.isArray(e))a+=`- []
`;else if(typeof e=="object"&&e!==null&&e instanceof Map&&e.constructor===Map)a+=`- {}
`;else return typeof e=="string"&&(e='"'+e+'"'),JSON.parse(e),e;if(s(e),t.damonToMap(a.slice(0,-1)),e.headless){let f=t._getLines(a);f=f.slice(1);for(let m=0,c=f.length;m<c;m++)f[m]=f[m].slice(4);return f.join(`
`).slice(0,-1)}return a.slice(0,-1);function s(f,m=1){if(typeof f=="object"&&f!==null&&!Array.isArray(f)&&f instanceof Map&&f.constructor===Map){let u=Array.from(f.keys()),y=!1;f.implicitNulls!==void 0&&f.implicitNulls.length===u.length&&(y=!0);for(let[d,A]of f){let b=d;if(n&&(b=b.split("-").slice(1).join("-")),typeof A=="object"&&A!==null)if(Array.isArray(A)){let N=0,E=A.filter(function(g){return g===!0||g===!1?!0:g===null?(N++,!0):typeof g=="string"?!0:!!(isFinite(g)&&!isNaN(parseFloat(g))&&Number.isFinite(g*1)&&!Number.isNaN(g*1))});if(A.length==E.length&&m*4+2+A.join(", ").length+N*4<=80||r&&f.damonInlineArrays!==void 0&&f.damonInlineArrays.indexOf(b)>-1){let g="["+A.map(function(x){return typeof x=="string"&&(x=JSON.stringify(x)),x}).join(", ")+"]";a+="    ".repeat(m)+"- "+JSON.stringify(b).slice(1,-1)+": "+g+`
`}else a+="    ".repeat(m)+"- "+JSON.stringify(b).slice(1,-1)+`: []
`,s(A,m+1)}else a+="    ".repeat(m)+"- "+JSON.stringify(b).slice(1,-1)+`: {}
`,s(A,m+1);else y?a+="    ".repeat(m)+"- "+JSON.stringify(b).slice(1,-1)+`
`:(a+="    ".repeat(m)+"- "+JSON.stringify(b).slice(1,-1)+": ",A===!0?a+=`true
`:A===!1?a+=`false
`:A===null?a+=`null
`:Number.isFinite(A)&&!Number.isNaN(A)?a+=A+`
`:a+=JSON.stringify(A)+`
`)}}else if(Array.isArray(f))for(var c=0,h=f.length;c<h;c++)if(typeof f[c]=="object"&&f[c]!==null)if(Array.isArray(f[c])){let u=0,y=f[c].filter(function(d){return d===!0||d===!1?!0:d===null?(u++,!0):typeof d=="string"?!0:!!(isFinite(d)&&!isNaN(parseFloat(d))&&Number.isFinite(d*1)&&!Number.isNaN(d*1))});if(f[c].length==y.length&&m*4+2+f[c].join(", ").length+u*4<=80||r&&f.damonInlineArrays!==void 0&&f.damonInlineArrays.indexOf(c)>-1){let d="["+f[c].map(function(A){return typeof A=="string"&&(A=JSON.stringify(A)),A}).join(", ")+"]";a+="    ".repeat(m)+"- "+d+`
`}else a+="    ".repeat(m)+`- []
`,s(f[c],m+1)}else a+="    ".repeat(m)+`- {}
`,s(f[c],m+1);else f[c]===!0?a+="    ".repeat(m)+`- true
`:f[c]===!1?a+="    ".repeat(m)+`- false
`:f[c]===null?a+="    ".repeat(m)+`- null
`:Number.isFinite(f[c])&&!Number.isNaN(f[c])?a+="    ".repeat(m)+"- "+f[c]+`
`:a+="    ".repeat(m)+"- "+JSON.stringify(f[c])+`
`}}mapToJSON(e){let r=this;var n="";if(Array.isArray(e))return n+=`[\r
`,t(e),n+="]",JSON.parse(n),n;return typeof e=="object"&&e!==null&&e instanceof Map&&e.constructor===Map?(n+=`{\r
`,t(e),n+="}",JSON.parse(n),n):(typeof e=="string"&&(e=JSON.stringify(e)),JSON.parse(e),e);function t(a,s=1){if(typeof a=="object"&&a!==null&&!Array.isArray(a)&&a instanceof Map&&a.constructor===Map)for(let[c,h]of a)typeof h=="object"&&h!==null?Array.isArray(h)?h.length>0?(n+="    ".repeat(s)+`${JSON.stringify(c)}: [\r
`,t(h,s+1),n+="    ".repeat(s)+"]"):n+="    ".repeat(s)+`${JSON.stringify(c)}: []`:Array.from(h.keys()).length>0?(n+="    ".repeat(s)+`${JSON.stringify(c)}: {\r
`,t(h,s+1),n+="    ".repeat(s)+"}"):n+="    ".repeat(s)+`${JSON.stringify(c)}: {}`:h===!0?n+="    ".repeat(s)+`${JSON.stringify(c)}: true`:h===!1?n+="    ".repeat(s)+`${JSON.stringify(c)}: false`:h===null?n+="    ".repeat(s)+`${JSON.stringify(c)}: null`:Number.isFinite(h)&&!Number.isNaN(h)?n+="    ".repeat(s)+`${JSON.stringify(c)}: `+h:n+="    ".repeat(s)+`${JSON.stringify(c)}: `+JSON.stringify(h),c!=Array.from(a.keys())[Array.from(a.keys()).length-1]?n+=`,\r
`:n+=`\r
`;else if(Array.isArray(a))for(var f=0,m=a.length;f<m;f++)typeof a[f]=="object"&&a[f]!==null?Array.isArray(a[f])?a[f].length>0?(n+="    ".repeat(s)+`[\r
`,t(a[f],s+1),n+="    ".repeat(s)+"]"):n+="    ".repeat(s)+"[]":Array.from(a[f].keys()).length>0?(n+="    ".repeat(s)+`{\r
`,t(a[f],s+1),n+="    ".repeat(s)+"}"):n+="    ".repeat(s)+"{}":a[f]===!0?n+="    ".repeat(s)+"true":a[f]===!1?n+="    ".repeat(s)+"false":a[f]===null?n+="    ".repeat(s)+"null":Number.isFinite(a[f])&&!Number.isNaN(a[f])?n+="    ".repeat(s)+a[f]:n+="    ".repeat(s)+JSON.stringify(a[f]),f!=m-1?n+=`,\r
`:n+=`\r
`}}getPathsList(e){let n=this.damonToMap(e),t=[];return a(n),t;function a(s,f=[]){if(typeof s=="object"&&s!==null&&!Array.isArray(s)&&s instanceof Map&&s.constructor===Map)for(let[m,c]of s)typeof c=="object"&&c!==null&&!Array.isArray(c)&&c instanceof Map&&c.constructor===Map&&Array.from(c.keys()).length?(t.push(f.concat(m)),a(c,f.concat([m]))):Array.isArray(c)&&(s.damonInlineArrays==null||s.damonInlineArrays.indexOf(m)===-1)&&c.length?(t.push(f.concat(m)),a(c,f.concat([m]))):t.push(f.concat(m).concat(c));else for(let m=0,c=s.length;m<c;m++)typeof s[m]=="object"&&s[m]!==null&&!Array.isArray(s[m])&&s[m]instanceof Map&&s[m].constructor===Map&&Array.from(s[m].keys()).length?(t.push(f.concat(m)),a(s[m],f.concat([m]))):Array.isArray(s[m])&&(s.damonInlineArrays==null||s.damonInlineArrays.indexOf(m)===-1)&&s[m].length?(t.push(f.concat(m)),a(s[m],f.concat([m]))):t.push(f.concat(s[m]))}}getRangeFromPath(e,r,n=0,t=!1,a=!1){let s=this,f=s.damonToMap(e,0,a),m=-1,c=!1;A(f,r);let h=s.mapIndexToLine(f,m),u=s._getLines(e)[h],y=0,d=u.length;if(a)for(let b=0,N=r.length;b<N;b++)typeof r[b]=="string"&&(r[b]=r[b].split("-").slice(1).join("-"));if(r.length===1)typeof r[r.length-1]=="string"?y=u.length-u.trimStart().slice(2+r[r.length-1].length+2).trimStart().length:y=u.length-u.trimStart().slice(2).length;else if(typeof r[r.length-2]=="string")if(typeof r[r.length-1]=="string")y=u.length-u.trimStart().slice(2+r[r.length-1].length+2).trimStart().length;else if(t){let b=u.trimStart().slice(2+r[r.length-2].length+2),N=JSON.parse(b),E="^( *\\[ *";for(let _=0,p=r[r.length-1]+1;_<p;_++){let o=""+N[_];typeof N[_]=="string"&&(o='"'+o+'"'),E+=o,_<p-1&&(E+=", *")}E+=")";let g=b.match(new RegExp(E))[1],x=N[r[r.length-1]],S=(""+x).length;typeof x=="string"&&(S+=2),y=u.length-b.length+g.length-S,d=y+S}else y=u.length-u.trimStart().slice(2).length;else if(typeof r[r.length-1]=="string")y=u.length-u.trimStart().slice(2+r[r.length-1].length+2).trimStart().length;else if(t){let b=u.trimStart().slice(2),N=JSON.parse(b),E="^( *\\[ *";for(let _=0,p=r[r.length-1]+1;_<p;_++){let o=""+N[_];typeof N[_]=="string"&&(o='"'+o+'"'),E+=o,_<p-1&&(E+=", *")}E+=")";let g=b.match(new RegExp(E))[1],x=N[r[r.length-1]],S=(""+x).length;typeof x=="string"&&(S+=2),y=u.length-b.length+g.length-S,d=y+S}else y=u.length-u.trimStart().slice(2).length;return[[h+n,y],[h+n,d]];function A(b,N,E=[]){if(m+=1,typeof b=="object"&&b!==null&&!Array.isArray(b)&&b instanceof Map&&b.constructor===Map)for(let[g,x]of b){if(c===!0)return;if(m+=1,JSON.stringify(N)===JSON.stringify(E.concat([g]))){c=!0;return}if(typeof x=="object"&&x!==null&&!Array.isArray(x)&&x instanceof Map&&x.constructor===Map&&Array.from(x.keys()).length)m-=1,A(x,N,E.concat([g]));else if(Array.isArray(x)&&x.length){if(b.damonInlineArrays==null||b.damonInlineArrays.indexOf(g)===-1)m-=1,A(x,N,E.concat([g]));else if(JSON.stringify(N.slice(0,-1))===JSON.stringify(E.concat([g]))){c=!0;return}}}else for(let g=0,x=b.length;g<x;g++){if(c==!0)return;if(m+=1,JSON.stringify(N)===JSON.stringify(E.concat([g]))){c=!0;return}if(typeof b[g]=="object"&&b[g]!==null&&!Array.isArray(b[g])&&b[g]instanceof Map&&b[g].constructor===Map&&Array.from(b[g].keys()).length)m-=1,A(b[g],N,E.concat([g]));else if(Array.isArray(b[g])&&b[g].length){if(b.damonInlineArrays==null||b.damonInlineArrays.indexOf(g)===-1)m-=1,A(b[g],N,E.concat([g]));else if(JSON.stringify(N.slice(0,-1))===JSON.stringify(E.concat([g]))){c=!0;return}}}}}getTokenFromCoordinates(e,r){let n=this,t={},a=n._getLines(e).slice(0,r[0]);if(a[r[0]-1]=="")return t.type="newline",t.path=null,t.range=[r,r],t;if(/^[ \t]+$/.test(a[r[0]-1]))return t.type="indentation",t.path=null,t.range=[[r[0],1],[r[0],a[a.length-1].length]],t;if(/^[ \t]+/.test(a[r[0]-1].slice(0,r[1]-1))&&(t.type="indentation",t.range=[[r[0],1],[r[0],a[r[0]-1].match(/^[ \t]+/)[0].length]]),/^ *\/\//.test(a[r[0]-1]))return t.type=="indentation"?(t.path=null,t):(t.type="comment",t.path=null,t.range=[[[r[0],a[r[0]-1].split("//")[0].length]],[[r[0],a[r[0]-1].length]]],t);if(a.length==1)try{let y=JSON.parse(e);if(y===!0||y===!1||y===null||typeof y=="string"||typeof y=="number"){let d=e.match(/^ */)[0].length,A=e.match(/ *$/)[0].length;return t.type="null",typeof y!="object"&&(t.type=typeof y),t.path=null,t.range=[[0,d],[0,e.length-A]],t}}catch{}let s=n.damonToMap(a.join(`
`)),f=Array.from(s.keys()),m=[],c=[];for(;f.length;){let y=f[f.length-1];if(m.push(y),typeof s=="object"&&s!==null&&!Array.isArray(s)&&s instanceof Map&&s.constructor===Map?(c.push(s),s=s.get(y)):Array.isArray(s)&&(c.push(s),s=s[y]),s===!0||s===!1||s===null||typeof s=="string"||typeof s=="number")break;f=Array.from(s.keys())}t.path=m;let h=[],u=c[c.length-2];if(u&&u.damonInlineArrays.length&&u.damonInlineArrays.indexOf(m[m.length-2])!==-1?h=n.getRangeFromPath(e,m,0,!0):h=n.getRangeFromPath(e,m),typeof m[m.length-1]=="string")if(r[1]<h[0][1]){let y=a[r[0]-1].slice(0,-1*(h[1][1]-h[0][1])-1).length;if(r[1]<y){let d=a[r[0]-1].match(/^[ \t]+/)[0].length+3;r[1]>=d?(t.type="property",t.range=[[r[0],d],[r[0],y]]):(t.type="hyphen",t.range=[[r[0],d-2],[r[0],d-1]])}else t.type="separator",t.range=[[r[0],y+1],[r[0],h[0][1]-1]]}else t.type="?",t.range=h;else if(r[1]<h[0][1]){t.type="hyphen";let y=a[r[0]-1].match(/^[ \t]+/)[0].length+1;t.range=[[r[0],y],[r[0],y+1]]}else t.type="?",t.range=h;return t}mapIndexToLine(e,r){let n=0,t=0;e.headless&&(r-=1);for(let a=0,s=e.damonOriginalLinesMapping.length;a<s;a++)if(e.damonOriginalLinesMapping[a]!==null&&t++,t==r){n=a+1;break}return n}getRangesMap(e,r,n=0,t=!1){let a=this,s=a._getLines(e),f=new Map;return m(r,[],f),f;function m(c,h=[],u,y=!1){if(typeof c=="object"&&c!==null&&!Array.isArray(c)&&c instanceof Map&&c.constructor===Map)for(let[d,A]of c)if(typeof A=="object"&&A!==null&&!Array.isArray(A)&&A instanceof Map&&A.constructor===Map&&Array.from(A.keys()).length){let b=a.getRangeFromPath(e,h.concat(d),n,!1,t),N=s[b[0][0]-n].match("^([ 	]*)")[1].length+2,E=t?d.length-(d.split("-")[0].length+1):d.length,g=[[b[0][0],N],[b[0][0],N+E]],x=JSON.stringify(g);u.set(x,new Map),m(A,h.concat([d]),u.get(x))}else if(Array.isArray(A)&&A.length){let b=[];b=a.getRangeFromPath(e,h.concat(d),n,!1,t);let N=s[b[0][0]-n].match("^([ 	]*)")[1].length+2,E=t?d.length-(d.split("-")[0].length+1):d.length,g=[[b[0][0],N],[b[0][0],N+E]],x=JSON.stringify(g);u.set(x,new Map),c.damonInlineArrays!==void 0&&c.damonInlineArrays.indexOf(d)>-1?m(A,h.concat([d]),u.get(x),!0):m(A,h.concat([d]),u.get(x))}else if(y){let b=a.getRangeFromPath(e,h.concat(d),n,!1),N=s[b[0][0]-n].match("^([ 	]*)")[1].length+2,E=t?d.length-(d.split("-")[0].length+1):d.length,g=[[b[0][0],N],[b[0][0],N+E]],x=JSON.stringify(g);u.set(x,JSON.stringify(a.getRangeFromPath(e,h.concat(d),n,!1,t)))}else{let b=a.getRangeFromPath(e,h.concat(d),n,!1,t),N=s[b[0][0]-n].match("^([ 	]*)")[1].length+2,E=t?d.length-(d.split("-")[0].length+1):d.length,g=[[b[0][0],N],[b[0][0],N+E]],x=JSON.stringify(g);u.set(x,JSON.stringify(a.getRangeFromPath(e,h.concat(d),n,!1,t)))}else for(let d=0,A=c.length;d<A;d++)if(typeof c[d]=="object"&&c[d]!==null&&!Array.isArray(c[d])&&c[d]instanceof Map&&c[d].constructor===Map&&Array.from(c[d].keys()).length){let b=JSON.stringify(a.getRangeFromPath(e,h.concat(d),n,!1,t));u.set(b,new Map),m(c[d],h.concat([d]),u.get(b))}else if(Array.isArray(c[d])&&c[d].length){let b="";b=JSON.stringify(a.getRangeFromPath(e,h.concat(d),n,!1,t)),u.set(b,new Map),c.damonInlineArrays!==void 0&&c.damonInlineArrays.indexOf(d)>-1?m(c[d],h.concat([d]),u.get(b),!0):m(c[d],h.concat([d]),u.get(b))}else if(y){let b=JSON.stringify(a.getRangeFromPath(e,h.concat(d),n,!0,t));u.set(b,JSON.stringify(a.getRangeFromPath(e,h.concat(d),n,!0,t)))}else{let b=JSON.stringify(a.getRangeFromPath(e,h.concat(d),n,!1,t));u.set(b,JSON.stringify(a.getRangeFromPath(e,h.concat(d),n,!1,t)))}}}damonToIJSON(e){let r=this;return r.mapToJSON(r.damonToMap(e,0,!0))}ijsonToDamon(e){let r=this;return r.mapToDamon(r.ijsonToMap(e))}ijsonToMap(e){let r=this,n=JSON.parse(e),t={};if(Array.isArray(n))t=[];else if(typeof n=="object"&&n!==null)t=new Map;else return n;a(n,t);function a(s,f){if(Array.isArray(s))for(let m=0,c=s.length;m<c;m++)Array.isArray(s[m])?(f[m]=[],a(s[m],f[m])):typeof s[m]=="object"&&s[m]!==null?(f[m]=new Map,a(s[m],f[m])):f[m]=s[m];else if(typeof s=="object"&&s!==null){let m=Object.keys(s),c=new Array(m.length);for(let h=0,u=m.length;h<u;h++){let y=m[h].split("-"),d=y[0]*1;c[d]=y.slice(1).join("-")}m=c;for(let h=0,u=m.length;h<u;h++){let y=s[h+"-"+m[h]],d=m[h];Array.isArray(y)?(f.set(d,[]),a(y,f.get(d))):typeof y=="object"&&y!==null?(f.set(d,new Map),a(y,f.get(d))):f.set(d,y)}}}return t}}});var xt=Te((Zn,Cr)=>{Cr.exports=class{constructor(e){let r=this;this.parent=e,this.itemHeight=parseFloat(getComputedStyle(this.parent.editor).getPropertyValue("--fontSize"))*parseFloat(getComputedStyle(this.parent.editor).getPropertyValue("--lineHeight")),this.viewportHeight=this.parent.editor.getBoundingClientRect().height,this.viewable=Math.ceil(r.viewportHeight/r.itemHeight),this.maxCounter=this.parent.textarea.value.split(`
`).length,this.buffer=r.viewable*2,this.visibleNodesCount=r.viewable+r.buffer,this.lastScrollTop=void 0,this.lastStart=void 0,this.active=!1}inputHandler(e){let r=this;r.parent.textarea.value.split(`
`).length<=r.visibleNodesCount?(r.parent.gutter.innerHTML="",r.init(0)):(r.parent.gutter.innerHTML="",r.init(r.getStartNode(r.parent.textarea.value.split(`
`).length)))}scrollHandler(){let e=this;e.maxCounter<e.visibleNodesCount?e.lastScrollTop!==e.parent.editor.scrollTop?(e.parent.editor.style.setProperty("--scrollbarPadding","0px"),e.init(0)):(e.parent.editor.style.setProperty("--scrollbarPadding","0px"),e.parent.gutter.style.transform="translate("+e.parent.editor.scrollLeft+"px, "+0*e.itemHeight+"px)",e.parent.overlay.firstElementChild.style.transform="translate(0px, "+0*e.itemHeight+"px)"):e.lastScrollTop!==e.parent.editor.scrollTop?(e.active=!0,e.parent.editor.style.setProperty("--scrollbarPadding","var(--textareaPadding) * 4"),e.update(e.getStartNode(e.maxCounter))):(e.parent.gutter.style.transform="translate("+e.parent.editor.scrollLeft+"px, "+e.getStartNode(e.maxCounter)*e.itemHeight+"px)",e.parent.overlay.firstElementChild.style.transform="translate(0px, "+e.getStartNode(e.maxCounter)*e.itemHeight+"px)")}init(e){let r=this;r.parent.textarea.style.height=(r.parent.textarea.value.split(`
`).length+1)*r.itemHeight+"px",r.resetProperties(),e>r.maxCounter-r.visibleNodesCount&&(r.maxCounter-r.visibleNodesCount>0?e=r.maxCounter-r.visibleNodesCount:e=0);let n=Math.max(1,Math.min(r.maxCounter-e,r.visibleNodesCount));if(r.parent.gutter.innerHTML==="")for(let m=e;m<e+n;m++){let c=document.createElement("div"),h=document.createElement("span"),u=(r.maxCounter+"").length,y=(m+1+"").length,d=u-y;h.textContent=" ".repeat(d)+(m+1),c.appendChild(h),r.parent.gutter.appendChild(c)}else{let m=0;for(let c=e;c<e+n;c++){let h=document.createElement("div"),u=document.createElement("span"),y=(r.maxCounter+"").length,d=(c+1+"").length,A=y-d;u.textContent=" ".repeat(A)+(c+1),h.appendChild(u),h.outerHTML!==r.parent.gutter.children[m].outerHTML&&r.parent.gutter.children[m].replaceWith(h),m++}}r.parent.gutter.style.transform="translate("+r.parent.editor.scrollLeft+"px, "+e*r.itemHeight+"px)",r.parent.overlay.firstElementChild.style.transform="translate(0px, "+e*r.itemHeight+"px)",r.lastStart=e,r.lastScrollTop=r.parent.editor.scrollTop,r.maxCounter>=r.visibleNodesCount&&(r.active=!0),r.setGutterWidth(),r.parent.updateCurrentLine(!0);let t=r.parent.textarea.value.split(`
`);r.parent.textarea.rows=t.length+1,r.parent.textarea.cols=t.map(m=>m.length).reduce(function(m,c){return Math.max(m,c)});let a=r.parent.textarea.value.replaceAll(/&amp;/g,"&").replaceAll(/&lt;/g,"<").replaceAll(/&gt;/g,">"),s=[`<span class="token lf">
</span>`],f=r.parent.lastTextareaValue.split(`
`);a!=""&&(s=r.parent.prism.highlight(a+`
`,r.parent.prism.languages.damon,"damon").replace(/<span>\n<\/span>$/,"").split(`
`).map(m=>m.replace(/^<\/span>/,"")+`
</span>`));for(let m=e,c=e+n;m<c;m++){let h=document.createElement("span"),u=0;h.classList.add("space-line"),h.innerHTML=s[m];for(let y=0,d=h.childNodes.length;y<d;y++)if(h.childNodes[y].tagName&&h.childNodes[y].textContent==" ")u++,u==4&&(u=0,h.children[y-3].classList.add("indent-guide"));else{u=0;break}(!r.parent.initialized||f[m]==null||f[m]!=t[m]||r.parent.overlay.firstElementChild.children[m-e]!=null&&h.innerHTML!=r.parent.overlay.firstElementChild.children[m-e].innerHTML)&&(f[m]==null||!r.parent.initialized?(r.parent.overlay.firstElementChild.appendChild(h),r.parent.overlay.firstElementChild.children.length>n+1&&r.parent.overlay.firstElementChild.firstElementChild.remove()):r.parent.overlay.firstElementChild.replaceChild(h,r.parent.overlay.firstElementChild.children[m-e]))}if(r.parent.overlay.firstElementChild.children.length>n)for(let m=n,c=r.parent.overlay.firstElementChild.children.length;m<c;m++)r.parent.overlay.firstElementChild.lastElementChild.remove()}getStartNode(e){let r=this,n=Math.floor(r.parent.editor.scrollTop/r.itemHeight)-r.viewable;return n=Math.min(Math.max(0,n),Math.max(0,e-r.buffer)),n}resetProperties(){let e=this;e.viewportHeight=e.parent.editor.getBoundingClientRect().height,e.viewable=Math.ceil(e.viewportHeight/e.itemHeight),e.maxCounter=e.parent.textarea.value.split(`
`).length,e.buffer=e.viewable*2,e.visibleNodesCount=e.viewable+e.buffer,e.active=!1}update(e){let r=this;requestAnimationFrame((function(){if(r.resetProperties(),r.parent.gutter.firstElementChild)if(r.lastScrollTop!=r.parent.editor.scrollTop)e>r.maxCounter-r.visibleNodesCount&&(r.maxCounter-r.visibleNodesCount>0?e=r.maxCounter-r.visibleNodesCount:e=0),r.diffItems(e,r.visibleNodesCount),r.parent.gutter.style.transform="translate("+r.parent.editor.scrollLeft+"px, "+e*r.itemHeight+"px)",r.parent.overlay.firstElementChild.style.transform="translate(0px, "+e*r.itemHeight+"px)",r.lastScrollTop=r.parent.editor.scrollTop;else if(/^translate\(.+px, .+px\)$/.test(r.parent.gutter.style.transform))r.parent.gutter.style.transform="translate("+r.parent.editor.scrollLeft+"px, "+r.parent.gutter.style.transform.split(", ")[1];else throw new Error("You need to update this regex.");r.setGutterWidth(),r.parent.updateCurrentLine(!0)}))}diffItems(e,r){let n=this;if(n.lastStart!=e){if(n.lastStart<e){let t=Math.min(r,Math.abs(e-n.lastStart));for(let c=0,h=t;c<h;c++)n.parent.gutter.firstElementChild.remove();for(let c=e+r-t;c<e+r;c++){let h=document.createElement("div"),u=document.createElement("span"),y=(n.maxCounter+"").length,d=(c+1+"").length,A=y-d;u.textContent=" ".repeat(A)+(c+1),h.appendChild(u),n.parent.gutter.appendChild(h)}let a=n.parent.textarea.value.split(`
`);n.parent.textarea.rows=a.length+1,n.parent.textarea.cols=a.map(c=>c.length).reduce(function(c,h){return Math.max(c,h)});let s=n.parent.textarea.value.replaceAll(/&amp;/g,"&").replaceAll(/&lt;/g,"<").replaceAll(/&gt;/g,">"),f=n.parent.prism.highlight(s+`
`,n.parent.prism.languages.damon,"damon").replace(/<span>\n<\/span>$/,"").split(`
`).map(c=>c.replace(/^<\/span>/,"")+`
</span>`),m=n.parent.lastTextareaValue.split(`
`);for(let c=0,h=t;c<h;c++)n.parent.overlay.firstElementChild.firstElementChild.remove();for(let c=e+r-t;c<e+r;c++){let h=document.createElement("span"),u=0;h.classList.add("space-line"),h.innerHTML=f[c];for(let y=0,d=h.childNodes.length;y<d;y++)if(h.childNodes[y].tagName&&h.childNodes[y].textContent==" ")u++,u==4&&(u=0,h.children[y-3].classList.add("indent-guide"));else{u=0;break}n.parent.overlay.firstElementChild.appendChild(h)}}else{let t=Math.min(r,Math.abs(n.lastStart-e));for(let u=0,y=t;u<y;u++)n.parent.gutter.lastElementChild.remove();let a=document.createDocumentFragment();for(let u=e;u<e+t;u++){let y=document.createElement("div"),d=document.createElement("span"),A=(n.maxCounter+"").length,b=(u+1+"").length,N=A-b;d.textContent=" ".repeat(N)+(u+1),y.appendChild(d),a.appendChild(y)}n.parent.gutter.insertBefore(a,n.parent.gutter.firstElementChild);let s=n.parent.textarea.value.split(`
`);n.parent.textarea.rows=s.length+1,n.parent.textarea.cols=s.map(u=>u.length).reduce(function(u,y){return Math.max(u,y)});let f=n.parent.textarea.value.replaceAll(/&amp;/g,"&").replaceAll(/&lt;/g,"<").replaceAll(/&gt;/g,">"),m=n.parent.prism.highlight(f+`
`,n.parent.prism.languages.damon,"damon").replace(/<span>\n<\/span>$/,"").split(`
`).map(u=>u.replace(/^<\/span>/,"")+`
</span>`),c=n.parent.lastTextareaValue.split(`
`);for(let u=0,y=t;u<y;u++)n.parent.overlay.firstElementChild.lastElementChild.remove();let h=document.createDocumentFragment();for(let u=e;u<e+t;u++){let y=document.createElement("span"),d=0;y.classList.add("space-line"),y.innerHTML=m[u];for(let A=0,b=y.childNodes.length;A<b;A++)if(y.childNodes[A].tagName&&y.childNodes[A].textContent==" ")d++,d==4&&(d=0,y.children[A-3].classList.add("indent-guide"));else{d=0;break}h.appendChild(y)}n.parent.overlay.firstElementChild.insertBefore(h,n.parent.overlay.firstElementChild.firstElementChild)}n.lastStart=e}}setGutterWidth(){let e=this,r=e.parent.gutter.children[0].children[0].getBoundingClientRect().width,n=parseFloat(getComputedStyle(e.parent.editor).getPropertyValue("--gutterWidth"));r>n?(e.parent.gutter.style.width=r+"px",e.parent.container.style.left=r+"px"):(e.parent.gutter.style.width="",e.parent.container.style.left="")}}});var Br=Te((Qn,Pr)=>{"use strict";var{entries:$r,setPrototypeOf:Or,isFrozen:xn,getPrototypeOf:En,getOwnPropertyDescriptor:bn}=Object,{freeze:xe,seal:we,create:Tt}=Object,{apply:_t,construct:Ct}=typeof Reflect<"u"&&Reflect;xe||(xe=function(e){return e});we||(we=function(e){return e});_t||(_t=function(e,r){for(var n=arguments.length,t=new Array(n>2?n-2:0),a=2;a<n;a++)t[a-2]=arguments[a];return e.apply(r,t)});Ct||(Ct=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),t=1;t<r;t++)n[t-1]=arguments[t];return new e(...n)});var nt=Ee(Array.prototype.forEach),An=Ee(Array.prototype.lastIndexOf),vr=Ee(Array.prototype.pop),Ve=Ee(Array.prototype.push),Nn=Ee(Array.prototype.splice),lt=Ee(String.prototype.toLowerCase),Et=Ee(String.prototype.toString),bt=Ee(String.prototype.match),qe=Ee(String.prototype.replace),wn=Ee(String.prototype.indexOf),Sn=Ee(String.prototype.trim),_e=Ee(Object.prototype.hasOwnProperty),ye=Ee(RegExp.prototype.test),We=Tn(TypeError);function Ee(i){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),t=1;t<r;t++)n[t-1]=arguments[t];return _t(i,e,n)}}function Tn(i){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Ct(i,r)}}function V(i,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:lt;Or&&Or(i,null);let n=e.length;for(;n--;){let t=e[n];if(typeof t=="string"){let a=r(t);a!==t&&(xn(e)||(e[n]=a),t=a)}i[t]=!0}return i}function _n(i){for(let e=0;e<i.length;e++)_e(i,e)||(i[e]=null);return i}function Ie(i){let e=Tt(null);for(let[r,n]of $r(i))_e(i,r)&&(Array.isArray(n)?e[r]=_n(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=Ie(n):e[r]=n);return e}function Ke(i,e){for(;i!==null;){let n=bn(i,e);if(n){if(n.get)return Ee(n.get);if(typeof n.value=="function")return Ee(n.value)}i=En(i)}function r(){return null}return r}var Lr=xe(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),At=xe(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Nt=xe(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Cn=xe(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),wt=xe(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),On=xe(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Rr=xe(["#text"]),kr=xe(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),St=xe(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Dr=xe(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),it=xe(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),vn=we(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ln=we(/<%[\w\W]*|[\w\W]*%>/gm),Rn=we(/\$\{[\w\W]*/gm),kn=we(/^data-[\-\w.\u00B7-\uFFFF]+$/),Dn=we(/^aria-[\-\w]+$/),Hr=we(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),In=we(/^(?:\w+script|data):/i),Mn=we(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Fr=we(/^html$/i),$n=we(/^[a-z][.\w]*(-[.\w]+)+$/i),Ir=Object.freeze({__proto__:null,ARIA_ATTR:Dn,ATTR_WHITESPACE:Mn,CUSTOM_ELEMENT:$n,DATA_ATTR:kn,DOCTYPE_NAME:Fr,ERB_EXPR:Ln,IS_ALLOWED_URI:Hr,IS_SCRIPT_OR_DATA:In,MUSTACHE_EXPR:vn,TMPLIT_EXPR:Rn}),Ye={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Hn=function(){return typeof window>"u"?null:window},Fn=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null,t="data-tt-policy-suffix";r&&r.hasAttribute(t)&&(n=r.getAttribute(t));let a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},Mr=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Ur(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Hn(),e=F=>Ur(F);if(e.version="3.3.0",e.removed=[],!i||!i.document||i.document.nodeType!==Ye.document||!i.Element)return e.isSupported=!1,e;let{document:r}=i,n=r,t=n.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:f,Element:m,NodeFilter:c,NamedNodeMap:h=i.NamedNodeMap||i.MozNamedAttrMap,HTMLFormElement:u,DOMParser:y,trustedTypes:d}=i,A=m.prototype,b=Ke(A,"cloneNode"),N=Ke(A,"remove"),E=Ke(A,"nextSibling"),g=Ke(A,"childNodes"),x=Ke(A,"parentNode");if(typeof s=="function"){let F=r.createElement("template");F.content&&F.content.ownerDocument&&(r=F.content.ownerDocument)}let S,_="",{implementation:p,createNodeIterator:o,createDocumentFragment:l,getElementsByTagName:C}=r,{importNode:w}=n,O=Mr();e.isSupported=typeof $r=="function"&&typeof x=="function"&&p&&p.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:$,ERB_EXPR:K,TMPLIT_EXPR:I,DATA_ATTR:v,ARIA_ATTR:k,IS_SCRIPT_OR_DATA:L,ATTR_WHITESPACE:U,CUSTOM_ELEMENT:M}=Ir,{IS_ALLOWED_URI:P}=Ir,D=null,ne=V({},[...Lr,...At,...Nt,...wt,...Rr]),G=null,oe=V({},[...kr,...St,...Dr,...it]),Y=Object.seal(Tt(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),J=null,q=null,Z=Object.seal(Tt(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}})),z=!0,Q=!0,se=!1,te=!0,W=!1,B=!0,ie=!1,X=!1,ee=!1,re=!1,Se=!1,me=!1,Me=!0,ce=!1,Ne="user-content-",ae=!0,fe=!1,pe={},Ce=null,Je=V({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ve=null,Ae=V({},["audio","video","img","source","image","track"]),Le=null,ze=V({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xe="http://www.w3.org/1998/Math/MathML",je="http://www.w3.org/2000/svg",Re="http://www.w3.org/1999/xhtml",He=Re,at=!1,st=null,Xr=V({},[Xe,je,Re],Et),Ze=V({},["mi","mo","mn","ms","mtext"]),Qe=V({},["annotation-xml"]),jr=V({},["title","style","font","a","script"]),Ge=null,Zr=["application/xhtml+xml","text/html"],Qr="text/html",de=null,Fe=null,en=r.createElement("form"),Rt=function(T){return T instanceof RegExp||T instanceof Function},ot=function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Fe&&Fe===T)){if((!T||typeof T!="object")&&(T={}),T=Ie(T),Ge=Zr.indexOf(T.PARSER_MEDIA_TYPE)===-1?Qr:T.PARSER_MEDIA_TYPE,de=Ge==="application/xhtml+xml"?Et:lt,D=_e(T,"ALLOWED_TAGS")?V({},T.ALLOWED_TAGS,de):ne,G=_e(T,"ALLOWED_ATTR")?V({},T.ALLOWED_ATTR,de):oe,st=_e(T,"ALLOWED_NAMESPACES")?V({},T.ALLOWED_NAMESPACES,Et):Xr,Le=_e(T,"ADD_URI_SAFE_ATTR")?V(Ie(ze),T.ADD_URI_SAFE_ATTR,de):ze,ve=_e(T,"ADD_DATA_URI_TAGS")?V(Ie(Ae),T.ADD_DATA_URI_TAGS,de):Ae,Ce=_e(T,"FORBID_CONTENTS")?V({},T.FORBID_CONTENTS,de):Je,J=_e(T,"FORBID_TAGS")?V({},T.FORBID_TAGS,de):Ie({}),q=_e(T,"FORBID_ATTR")?V({},T.FORBID_ATTR,de):Ie({}),pe=_e(T,"USE_PROFILES")?T.USE_PROFILES:!1,z=T.ALLOW_ARIA_ATTR!==!1,Q=T.ALLOW_DATA_ATTR!==!1,se=T.ALLOW_UNKNOWN_PROTOCOLS||!1,te=T.ALLOW_SELF_CLOSE_IN_ATTR!==!1,W=T.SAFE_FOR_TEMPLATES||!1,B=T.SAFE_FOR_XML!==!1,ie=T.WHOLE_DOCUMENT||!1,re=T.RETURN_DOM||!1,Se=T.RETURN_DOM_FRAGMENT||!1,me=T.RETURN_TRUSTED_TYPE||!1,ee=T.FORCE_BODY||!1,Me=T.SANITIZE_DOM!==!1,ce=T.SANITIZE_NAMED_PROPS||!1,ae=T.KEEP_CONTENT!==!1,fe=T.IN_PLACE||!1,P=T.ALLOWED_URI_REGEXP||Hr,He=T.NAMESPACE||Re,Ze=T.MATHML_TEXT_INTEGRATION_POINTS||Ze,Qe=T.HTML_INTEGRATION_POINTS||Qe,Y=T.CUSTOM_ELEMENT_HANDLING||{},T.CUSTOM_ELEMENT_HANDLING&&Rt(T.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Y.tagNameCheck=T.CUSTOM_ELEMENT_HANDLING.tagNameCheck),T.CUSTOM_ELEMENT_HANDLING&&Rt(T.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Y.attributeNameCheck=T.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),T.CUSTOM_ELEMENT_HANDLING&&typeof T.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Y.allowCustomizedBuiltInElements=T.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),W&&(Q=!1),Se&&(re=!0),pe&&(D=V({},Rr),G=[],pe.html===!0&&(V(D,Lr),V(G,kr)),pe.svg===!0&&(V(D,At),V(G,St),V(G,it)),pe.svgFilters===!0&&(V(D,Nt),V(G,St),V(G,it)),pe.mathMl===!0&&(V(D,wt),V(G,Dr),V(G,it))),T.ADD_TAGS&&(typeof T.ADD_TAGS=="function"?Z.tagCheck=T.ADD_TAGS:(D===ne&&(D=Ie(D)),V(D,T.ADD_TAGS,de))),T.ADD_ATTR&&(typeof T.ADD_ATTR=="function"?Z.attributeCheck=T.ADD_ATTR:(G===oe&&(G=Ie(G)),V(G,T.ADD_ATTR,de))),T.ADD_URI_SAFE_ATTR&&V(Le,T.ADD_URI_SAFE_ATTR,de),T.FORBID_CONTENTS&&(Ce===Je&&(Ce=Ie(Ce)),V(Ce,T.FORBID_CONTENTS,de)),ae&&(D["#text"]=!0),ie&&V(D,["html","head","body"]),D.table&&(V(D,["tbody"]),delete J.tbody),T.TRUSTED_TYPES_POLICY){if(typeof T.TRUSTED_TYPES_POLICY.createHTML!="function")throw We('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof T.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw We('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=T.TRUSTED_TYPES_POLICY,_=S.createHTML("")}else S===void 0&&(S=Fn(d,t)),S!==null&&typeof _=="string"&&(_=S.createHTML(""));xe&&xe(T),Fe=T}},kt=V({},[...At,...Nt,...Cn]),Dt=V({},[...wt,...On]),tn=function(T){let R=x(T);(!R||!R.tagName)&&(R={namespaceURI:He,tagName:"template"});let H=lt(T.tagName),le=lt(R.tagName);return st[T.namespaceURI]?T.namespaceURI===je?R.namespaceURI===Re?H==="svg":R.namespaceURI===Xe?H==="svg"&&(le==="annotation-xml"||Ze[le]):!!kt[H]:T.namespaceURI===Xe?R.namespaceURI===Re?H==="math":R.namespaceURI===je?H==="math"&&Qe[le]:!!Dt[H]:T.namespaceURI===Re?R.namespaceURI===je&&!Qe[le]||R.namespaceURI===Xe&&!Ze[le]?!1:!Dt[H]&&(jr[H]||!kt[H]):!!(Ge==="application/xhtml+xml"&&st[T.namespaceURI]):!1},Oe=function(T){Ve(e.removed,{element:T});try{x(T).removeChild(T)}catch{N(T)}},$e=function(T,R){try{Ve(e.removed,{attribute:R.getAttributeNode(T),from:R})}catch{Ve(e.removed,{attribute:null,from:R})}if(R.removeAttribute(T),T==="is")if(re||Se)try{Oe(R)}catch{}else try{R.setAttribute(T,"")}catch{}},It=function(T){let R=null,H=null;if(ee)T="<remove></remove>"+T;else{let ue=bt(T,/^[\r\n\t ]+/);H=ue&&ue[0]}Ge==="application/xhtml+xml"&&He===Re&&(T='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+T+"</body></html>");let le=S?S.createHTML(T):T;if(He===Re)try{R=new y().parseFromString(le,Ge)}catch{}if(!R||!R.documentElement){R=p.createDocument(He,"template",null);try{R.documentElement.innerHTML=at?_:le}catch{}}let ge=R.body||R.documentElement;return T&&H&&ge.insertBefore(r.createTextNode(H),ge.childNodes[0]||null),He===Re?C.call(R,ie?"html":"body")[0]:ie?R.documentElement:ge},Mt=function(T){return o.call(T.ownerDocument||T,T,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},ft=function(T){return T instanceof u&&(typeof T.nodeName!="string"||typeof T.textContent!="string"||typeof T.removeChild!="function"||!(T.attributes instanceof h)||typeof T.removeAttribute!="function"||typeof T.setAttribute!="function"||typeof T.namespaceURI!="string"||typeof T.insertBefore!="function"||typeof T.hasChildNodes!="function")},$t=function(T){return typeof f=="function"&&T instanceof f};function ke(F,T,R){nt(F,H=>{H.call(e,T,R,Fe)})}let Ht=function(T){let R=null;if(ke(O.beforeSanitizeElements,T,null),ft(T))return Oe(T),!0;let H=de(T.nodeName);if(ke(O.uponSanitizeElement,T,{tagName:H,allowedTags:D}),B&&T.hasChildNodes()&&!$t(T.firstElementChild)&&ye(/<[/\w!]/g,T.innerHTML)&&ye(/<[/\w!]/g,T.textContent)||T.nodeType===Ye.progressingInstruction||B&&T.nodeType===Ye.comment&&ye(/<[/\w]/g,T.data))return Oe(T),!0;if(!(Z.tagCheck instanceof Function&&Z.tagCheck(H))&&(!D[H]||J[H])){if(!J[H]&&Ut(H)&&(Y.tagNameCheck instanceof RegExp&&ye(Y.tagNameCheck,H)||Y.tagNameCheck instanceof Function&&Y.tagNameCheck(H)))return!1;if(ae&&!Ce[H]){let le=x(T)||T.parentNode,ge=g(T)||T.childNodes;if(ge&&le){let ue=ge.length;for(let be=ue-1;be>=0;--be){let De=b(ge[be],!0);De.__removalCount=(T.__removalCount||0)+1,le.insertBefore(De,E(T))}}}return Oe(T),!0}return T instanceof m&&!tn(T)||(H==="noscript"||H==="noembed"||H==="noframes")&&ye(/<\/no(script|embed|frames)/i,T.innerHTML)?(Oe(T),!0):(W&&T.nodeType===Ye.text&&(R=T.textContent,nt([$,K,I],le=>{R=qe(R,le," ")}),T.textContent!==R&&(Ve(e.removed,{element:T.cloneNode()}),T.textContent=R)),ke(O.afterSanitizeElements,T,null),!1)},Ft=function(T,R,H){if(Me&&(R==="id"||R==="name")&&(H in r||H in en))return!1;if(!(Q&&!q[R]&&ye(v,R))){if(!(z&&ye(k,R))){if(!(Z.attributeCheck instanceof Function&&Z.attributeCheck(R,T))){if(!G[R]||q[R]){if(!(Ut(T)&&(Y.tagNameCheck instanceof RegExp&&ye(Y.tagNameCheck,T)||Y.tagNameCheck instanceof Function&&Y.tagNameCheck(T))&&(Y.attributeNameCheck instanceof RegExp&&ye(Y.attributeNameCheck,R)||Y.attributeNameCheck instanceof Function&&Y.attributeNameCheck(R,T))||R==="is"&&Y.allowCustomizedBuiltInElements&&(Y.tagNameCheck instanceof RegExp&&ye(Y.tagNameCheck,H)||Y.tagNameCheck instanceof Function&&Y.tagNameCheck(H))))return!1}else if(!Le[R]){if(!ye(P,qe(H,U,""))){if(!((R==="src"||R==="xlink:href"||R==="href")&&T!=="script"&&wn(H,"data:")===0&&ve[T])){if(!(se&&!ye(L,qe(H,U,"")))){if(H)return!1}}}}}}}return!0},Ut=function(T){return T!=="annotation-xml"&&bt(T,M)},Pt=function(T){ke(O.beforeSanitizeAttributes,T,null);let{attributes:R}=T;if(!R||ft(T))return;let H={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:G,forceKeepAttr:void 0},le=R.length;for(;le--;){let ge=R[le],{name:ue,namespaceURI:be,value:De}=ge,Ue=de(ue),ut=De,he=ue==="value"?ut:Sn(ut);if(H.attrName=Ue,H.attrValue=he,H.keepAttr=!0,H.forceKeepAttr=void 0,ke(O.uponSanitizeAttribute,T,H),he=H.attrValue,ce&&(Ue==="id"||Ue==="name")&&($e(ue,T),he=Ne+he),B&&ye(/((--!?|])>)|<\/(style|title|textarea)/i,he)){$e(ue,T);continue}if(Ue==="attributename"&&bt(he,"href")){$e(ue,T);continue}if(H.forceKeepAttr)continue;if(!H.keepAttr){$e(ue,T);continue}if(!te&&ye(/\/>/i,he)){$e(ue,T);continue}W&&nt([$,K,I],Jt=>{he=qe(he,Jt," ")});let Bt=de(T.nodeName);if(!Ft(Bt,Ue,he)){$e(ue,T);continue}if(S&&typeof d=="object"&&typeof d.getAttributeType=="function"&&!be)switch(d.getAttributeType(Bt,Ue)){case"TrustedHTML":{he=S.createHTML(he);break}case"TrustedScriptURL":{he=S.createScriptURL(he);break}}if(he!==ut)try{be?T.setAttributeNS(be,ue,he):T.setAttribute(ue,he),ft(T)?Oe(T):vr(e.removed)}catch{$e(ue,T)}}ke(O.afterSanitizeAttributes,T,null)},rn=function F(T){let R=null,H=Mt(T);for(ke(O.beforeSanitizeShadowDOM,T,null);R=H.nextNode();)ke(O.uponSanitizeShadowNode,R,null),Ht(R),Pt(R),R.content instanceof a&&F(R.content);ke(O.afterSanitizeShadowDOM,T,null)};return e.sanitize=function(F){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=null,H=null,le=null,ge=null;if(at=!F,at&&(F="<!-->"),typeof F!="string"&&!$t(F))if(typeof F.toString=="function"){if(F=F.toString(),typeof F!="string")throw We("dirty is not a string, aborting")}else throw We("toString is not a function");if(!e.isSupported)return F;if(X||ot(T),e.removed=[],typeof F=="string"&&(fe=!1),fe){if(F.nodeName){let De=de(F.nodeName);if(!D[De]||J[De])throw We("root node is forbidden and cannot be sanitized in-place")}}else if(F instanceof f)R=It("<!---->"),H=R.ownerDocument.importNode(F,!0),H.nodeType===Ye.element&&H.nodeName==="BODY"||H.nodeName==="HTML"?R=H:R.appendChild(H);else{if(!re&&!W&&!ie&&F.indexOf("<")===-1)return S&&me?S.createHTML(F):F;if(R=It(F),!R)return re?null:me?_:""}R&&ee&&Oe(R.firstChild);let ue=Mt(fe?F:R);for(;le=ue.nextNode();)Ht(le),Pt(le),le.content instanceof a&&rn(le.content);if(fe)return F;if(re){if(Se)for(ge=l.call(R.ownerDocument);R.firstChild;)ge.appendChild(R.firstChild);else ge=R;return(G.shadowroot||G.shadowrootmode)&&(ge=w.call(n,ge,!0)),ge}let be=ie?R.outerHTML:R.innerHTML;return ie&&D["!doctype"]&&R.ownerDocument&&R.ownerDocument.doctype&&R.ownerDocument.doctype.name&&ye(Fr,R.ownerDocument.doctype.name)&&(be="<!DOCTYPE "+R.ownerDocument.doctype.name+`>
`+be),W&&nt([$,K,I],De=>{be=qe(be,De," ")}),S&&me?S.createHTML(be):be},e.setConfig=function(){let F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ot(F),X=!0},e.clearConfig=function(){Fe=null,X=!1},e.isValidAttribute=function(F,T,R){Fe||ot({});let H=de(F),le=de(T);return Ft(H,le,R)},e.addHook=function(F,T){typeof T=="function"&&Ve(O[F],T)},e.removeHook=function(F,T){if(T!==void 0){let R=An(O[F],T);return R===-1?void 0:Nn(O[F],R,1)[0]}return vr(O[F])},e.removeHooks=function(F){O[F]=[]},e.removeAllHooks=function(){O=Mr()},e}var Un=Ur();Pr.exports=Un});var Jr=Te((Ot,vt)=>{((i,e)=>{typeof define=="function"&&define.amd?define([],e):typeof vt=="object"&&typeof Ot<"u"?vt.exports=e():i.Papa=e()})(Ot,function i(){var e=typeof self<"u"?self:typeof window<"u"?window:e!==void 0?e:{},r,n=!e.document&&!!e.postMessage,t=e.IS_PAPA_WORKER||!1,a={},s=0,f={};function m(p){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(o){var l=x(o);l.chunkSize=parseInt(l.chunkSize),o.step||o.chunk||(l.chunkSize=null),this._handle=new d(l),(this._handle.streamer=this)._config=l}.call(this,p),this.parseChunk=function(o,l){var C=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<C){let O=this._config.newline;O||(w=this._config.quoteChar||'"',O=this._handle.guessLineEndings(o,w)),o=[...o.split(O).slice(C)].join(O)}this.isFirstChunk&&_(this._config.beforeFirstChunk)&&(w=this._config.beforeFirstChunk(o))!==void 0&&(o=w),this.isFirstChunk=!1,this._halted=!1;var C=this._partialLine+o,w=(this._partialLine="",this._handle.parse(C,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(o=w.meta.cursor,C=(this._finished||(this._partialLine=C.substring(o-this._baseIndex),this._baseIndex=o),w&&w.data&&(this._rowCount+=w.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),t)e.postMessage({results:w,workerId:f.WORKER_ID,finished:C});else if(_(this._config.chunk)&&!l){if(this._config.chunk(w,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=w=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(w.data),this._completeResults.errors=this._completeResults.errors.concat(w.errors),this._completeResults.meta=w.meta),this._completed||!C||!_(this._config.complete)||w&&w.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),C||w&&w.meta.paused||this._nextChunk(),w}this._halted=!0},this._sendError=function(o){_(this._config.error)?this._config.error(o):t&&this._config.error&&e.postMessage({workerId:f.WORKER_ID,error:o,finished:!1})}}function c(p){var o;(p=p||{}).chunkSize||(p.chunkSize=f.RemoteChunkSize),m.call(this,p),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(l){this._input=l,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(o=new XMLHttpRequest,this._config.withCredentials&&(o.withCredentials=this._config.withCredentials),n||(o.onload=S(this._chunkLoaded,this),o.onerror=S(this._chunkError,this)),o.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var l,C=this._config.downloadRequestHeaders;for(l in C)o.setRequestHeader(l,C[l])}var w;this._config.chunkSize&&(w=this._start+this._config.chunkSize-1,o.setRequestHeader("Range","bytes="+this._start+"-"+w));try{o.send(this._config.downloadRequestBody)}catch(O){this._chunkError(O.message)}n&&o.status===0&&this._chunkError()}},this._chunkLoaded=function(){o.readyState===4&&(o.status<200||400<=o.status?this._chunkError():(this._start+=this._config.chunkSize||o.responseText.length,this._finished=!this._config.chunkSize||this._start>=(l=>(l=l.getResponseHeader("Content-Range"))!==null?parseInt(l.substring(l.lastIndexOf("/")+1)):-1)(o),this.parseChunk(o.responseText)))},this._chunkError=function(l){l=o.statusText||l,this._sendError(new Error(l))}}function h(p){(p=p||{}).chunkSize||(p.chunkSize=f.LocalChunkSize),m.call(this,p);var o,l,C=typeof FileReader<"u";this.stream=function(w){this._input=w,l=w.slice||w.webkitSlice||w.mozSlice,C?((o=new FileReader).onload=S(this._chunkLoaded,this),o.onerror=S(this._chunkError,this)):o=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var w=this._input,O=(this._config.chunkSize&&(O=Math.min(this._start+this._config.chunkSize,this._input.size),w=l.call(w,this._start,O)),o.readAsText(w,this._config.encoding));C||this._chunkLoaded({target:{result:O}})},this._chunkLoaded=function(w){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(w.target.result)},this._chunkError=function(){this._sendError(o.error)}}function u(p){var o;m.call(this,p=p||{}),this.stream=function(l){return o=l,this._nextChunk()},this._nextChunk=function(){var l,C;if(!this._finished)return l=this._config.chunkSize,o=l?(C=o.substring(0,l),o.substring(l)):(C=o,""),this._finished=!o,this.parseChunk(C)}}function y(p){m.call(this,p=p||{});var o=[],l=!0,C=!1;this.pause=function(){m.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){m.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(w){this._input=w,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){C&&o.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),o.length?this.parseChunk(o.shift()):l=!0},this._streamData=S(function(w){try{o.push(typeof w=="string"?w:w.toString(this._config.encoding)),l&&(l=!1,this._checkIsFinished(),this.parseChunk(o.shift()))}catch(O){this._streamError(O)}},this),this._streamError=S(function(w){this._streamCleanUp(),this._sendError(w)},this),this._streamEnd=S(function(){this._streamCleanUp(),C=!0,this._streamData("")},this),this._streamCleanUp=S(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function d(p){var o,l,C,w,O=Math.pow(2,53),$=-O,K=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,I=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,v=this,k=0,L=0,U=!1,M=!1,P=[],D={data:[],errors:[],meta:{}};function ne(J){return p.skipEmptyLines==="greedy"?J.join("").trim()==="":J.length===1&&J[0].length===0}function G(){if(D&&C&&(Y("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),C=!1),p.skipEmptyLines&&(D.data=D.data.filter(function(Q){return!ne(Q)})),oe()){let Q=function(se,te){_(p.transformHeader)&&(se=p.transformHeader(se,te)),P.push(se)};var z=Q;if(D)if(Array.isArray(D.data[0])){for(var J=0;oe()&&J<D.data.length;J++)D.data[J].forEach(Q);D.data.splice(0,1)}else D.data.forEach(Q)}function q(Q,se){for(var te=p.header?{}:[],W=0;W<Q.length;W++){var B=W,ie=Q[W],ie=((X,ee)=>(re=>(p.dynamicTypingFunction&&p.dynamicTyping[re]===void 0&&(p.dynamicTyping[re]=p.dynamicTypingFunction(re)),(p.dynamicTyping[re]||p.dynamicTyping)===!0))(X)?ee==="true"||ee==="TRUE"||ee!=="false"&&ee!=="FALSE"&&((re=>{if(K.test(re)&&(re=parseFloat(re),$<re&&re<O))return 1})(ee)?parseFloat(ee):I.test(ee)?new Date(ee):ee===""?null:ee):ee)(B=p.header?W>=P.length?"__parsed_extra":P[W]:B,ie=p.transform?p.transform(ie,B):ie);B==="__parsed_extra"?(te[B]=te[B]||[],te[B].push(ie)):te[B]=ie}return p.header&&(W>P.length?Y("FieldMismatch","TooManyFields","Too many fields: expected "+P.length+" fields but parsed "+W,L+se):W<P.length&&Y("FieldMismatch","TooFewFields","Too few fields: expected "+P.length+" fields but parsed "+W,L+se)),te}var Z;D&&(p.header||p.dynamicTyping||p.transform)&&(Z=1,!D.data.length||Array.isArray(D.data[0])?(D.data=D.data.map(q),Z=D.data.length):D.data=q(D.data,0),p.header&&D.meta&&(D.meta.fields=P),L+=Z)}function oe(){return p.header&&P.length===0}function Y(J,q,Z,z){J={type:J,code:q,message:Z},z!==void 0&&(J.row=z),D.errors.push(J)}_(p.step)&&(w=p.step,p.step=function(J){D=J,oe()?G():(G(),D.data.length!==0&&(k+=J.data.length,p.preview&&k>p.preview?l.abort():(D.data=D.data[0],w(D,v))))}),this.parse=function(J,q,Z){var z=p.quoteChar||'"',z=(p.newline||(p.newline=this.guessLineEndings(J,z)),C=!1,p.delimiter?_(p.delimiter)&&(p.delimiter=p.delimiter(J),D.meta.delimiter=p.delimiter):((z=((Q,se,te,W,B)=>{var ie,X,ee,re;B=B||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var Se=0;Se<B.length;Se++){for(var me,Me=B[Se],ce=0,Ne=0,ae=0,fe=(ee=void 0,new b({comments:W,delimiter:Me,newline:se,preview:10}).parse(Q)),pe=0;pe<fe.data.length;pe++)te&&ne(fe.data[pe])?ae++:(me=fe.data[pe].length,Ne+=me,ee===void 0?ee=me:0<me&&(ce+=Math.abs(me-ee),ee=me));0<fe.data.length&&(Ne/=fe.data.length-ae),(X===void 0||ce<=X)&&(re===void 0||re<Ne)&&1.99<Ne&&(X=ce,ie=Me,re=Ne)}return{successful:!!(p.delimiter=ie),bestDelimiter:ie}})(J,p.newline,p.skipEmptyLines,p.comments,p.delimitersToGuess)).successful?p.delimiter=z.bestDelimiter:(C=!0,p.delimiter=f.DefaultDelimiter),D.meta.delimiter=p.delimiter),x(p));return p.preview&&p.header&&z.preview++,o=J,l=new b(z),D=l.parse(o,q,Z),G(),U?{meta:{paused:!0}}:D||{meta:{paused:!1}}},this.paused=function(){return U},this.pause=function(){U=!0,l.abort(),o=_(p.chunk)?"":o.substring(l.getCharIndex())},this.resume=function(){v.streamer._halted?(U=!1,v.streamer.parseChunk(o,!0)):setTimeout(v.resume,3)},this.aborted=function(){return M},this.abort=function(){M=!0,l.abort(),D.meta.aborted=!0,_(p.complete)&&p.complete(D),o=""},this.guessLineEndings=function(Q,z){Q=Q.substring(0,1048576);var z=new RegExp(A(z)+"([^]*?)"+A(z),"gm"),Z=(Q=Q.replace(z,"")).split("\r"),z=Q.split(`
`),Q=1<z.length&&z[0].length<Z[0].length;if(Z.length===1||Q)return`
`;for(var se=0,te=0;te<Z.length;te++)Z[te][0]===`
`&&se++;return se>=Z.length/2?`\r
`:"\r"}}function A(p){return p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(p){var o=(p=p||{}).delimiter,l=p.newline,C=p.comments,w=p.step,O=p.preview,$=p.fastMode,K=null,I=!1,v=p.quoteChar==null?'"':p.quoteChar,k=v;if(p.escapeChar!==void 0&&(k=p.escapeChar),(typeof o!="string"||-1<f.BAD_DELIMITERS.indexOf(o))&&(o=","),C===o)throw new Error("Comment character same as delimiter");C===!0?C="#":(typeof C!="string"||-1<f.BAD_DELIMITERS.indexOf(C))&&(C=!1),l!==`
`&&l!=="\r"&&l!==`\r
`&&(l=`
`);var L=0,U=!1;this.parse=function(M,P,D){if(typeof M!="string")throw new Error("Input must be a string");var ne=M.length,G=o.length,oe=l.length,Y=C.length,J=_(w),q=[],Z=[],z=[],Q=L=0;if(!M)return ce();if($||$!==!1&&M.indexOf(v)===-1){for(var se=M.split(l),te=0;te<se.length;te++){if(z=se[te],L+=z.length,te!==se.length-1)L+=l.length;else if(D)return ce();if(!C||z.substring(0,Y)!==C){if(J){if(q=[],re(z.split(o)),Ne(),U)return ce()}else re(z.split(o));if(O&&O<=te)return q=q.slice(0,O),ce(!0)}}return ce()}for(var W=M.indexOf(o,L),B=M.indexOf(l,L),ie=new RegExp(A(k)+A(v),"g"),X=M.indexOf(v,L);;)if(M[L]===v)for(X=L,L++;;){if((X=M.indexOf(v,X+1))===-1)return D||Z.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:q.length,index:L}),me();if(X===ne-1)return me(M.substring(L,X).replace(ie,v));if(v===k&&M[X+1]===k)X++;else if(v===k||X===0||M[X-1]!==k){W!==-1&&W<X+1&&(W=M.indexOf(o,X+1));var ee=Se((B=B!==-1&&B<X+1?M.indexOf(l,X+1):B)===-1?W:Math.min(W,B));if(M.substr(X+1+ee,G)===o){z.push(M.substring(L,X).replace(ie,v)),M[L=X+1+ee+G]!==v&&(X=M.indexOf(v,L)),W=M.indexOf(o,L),B=M.indexOf(l,L);break}if(ee=Se(B),M.substring(X+1+ee,X+1+ee+oe)===l){if(z.push(M.substring(L,X).replace(ie,v)),Me(X+1+ee+oe),W=M.indexOf(o,L),X=M.indexOf(v,L),J&&(Ne(),U))return ce();if(O&&q.length>=O)return ce(!0);break}Z.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:q.length,index:L}),X++}}else if(C&&z.length===0&&M.substring(L,L+Y)===C){if(B===-1)return ce();L=B+oe,B=M.indexOf(l,L),W=M.indexOf(o,L)}else if(W!==-1&&(W<B||B===-1))z.push(M.substring(L,W)),L=W+G,W=M.indexOf(o,L);else{if(B===-1)break;if(z.push(M.substring(L,B)),Me(B+oe),J&&(Ne(),U))return ce();if(O&&q.length>=O)return ce(!0)}return me();function re(ae){q.push(ae),Q=L}function Se(ae){var fe=0;return fe=ae!==-1&&(ae=M.substring(X+1,ae))&&ae.trim()===""?ae.length:fe}function me(ae){return D||(ae===void 0&&(ae=M.substring(L)),z.push(ae),L=ne,re(z),J&&Ne()),ce()}function Me(ae){L=ae,re(z),z=[],B=M.indexOf(l,L)}function ce(ae){if(p.header&&!P&&q.length&&!I){var fe=q[0],pe=Object.create(null),Ce=new Set(fe);let Je=!1;for(let ve=0;ve<fe.length;ve++){let Ae=fe[ve];if(pe[Ae=_(p.transformHeader)?p.transformHeader(Ae,ve):Ae]){let Le,ze=pe[Ae];for(;Le=Ae+"_"+ze,ze++,Ce.has(Le););Ce.add(Le),fe[ve]=Le,pe[Ae]++,Je=!0,(K=K===null?{}:K)[Le]=Ae}else pe[Ae]=1,fe[ve]=Ae;Ce.add(Ae)}Je&&console.warn("Duplicate headers found and renamed."),I=!0}return{data:q,errors:Z,meta:{delimiter:o,linebreak:l,aborted:U,truncated:!!ae,cursor:Q+(P||0),renamedHeaders:K}}}function Ne(){w(ce()),q=[],Z=[]}},this.abort=function(){U=!0},this.getCharIndex=function(){return L}}function N(p){var o=p.data,l=a[o.workerId],C=!1;if(o.error)l.userError(o.error,o.file);else if(o.results&&o.results.data){var w={abort:function(){C=!0,E(o.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:g,resume:g};if(_(l.userStep)){for(var O=0;O<o.results.data.length&&(l.userStep({data:o.results.data[O],errors:o.results.errors,meta:o.results.meta},w),!C);O++);delete o.results}else _(l.userChunk)&&(l.userChunk(o.results,w,o.file),delete o.results)}o.finished&&!C&&E(o.workerId,o.results)}function E(p,o){var l=a[p];_(l.userComplete)&&l.userComplete(o),l.terminate(),delete a[p]}function g(){throw new Error("Not implemented.")}function x(p){if(typeof p!="object"||p===null)return p;var o,l=Array.isArray(p)?[]:{};for(o in p)l[o]=x(p[o]);return l}function S(p,o){return function(){p.apply(o,arguments)}}function _(p){return typeof p=="function"}return f.parse=function(p,o){var l=(o=o||{}).dynamicTyping||!1;if(_(l)&&(o.dynamicTypingFunction=l,l={}),o.dynamicTyping=l,o.transform=!!_(o.transform)&&o.transform,!o.worker||!f.WORKERS_SUPPORTED)return l=null,f.NODE_STREAM_INPUT,typeof p=="string"?(p=(C=>C.charCodeAt(0)!==65279?C:C.slice(1))(p),l=new(o.download?c:u)(o)):p.readable===!0&&_(p.read)&&_(p.on)?l=new y(o):(e.File&&p instanceof File||p instanceof Object)&&(l=new h(o)),l.stream(p);(l=(()=>{var C;return!!f.WORKERS_SUPPORTED&&(C=(()=>{var w=e.URL||e.webkitURL||null,O=i.toString();return f.BLOB_URL||(f.BLOB_URL=w.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",O,")();"],{type:"text/javascript"})))})(),(C=new e.Worker(C)).onmessage=N,C.id=s++,a[C.id]=C)})()).userStep=o.step,l.userChunk=o.chunk,l.userComplete=o.complete,l.userError=o.error,o.step=_(o.step),o.chunk=_(o.chunk),o.complete=_(o.complete),o.error=_(o.error),delete o.worker,l.postMessage({input:p,config:o,workerId:l.id})},f.unparse=function(p,o){var l=!1,C=!0,w=",",O=`\r
`,$='"',K=$+$,I=!1,v=null,k=!1,L=((()=>{if(typeof o=="object"){if(typeof o.delimiter!="string"||f.BAD_DELIMITERS.filter(function(P){return o.delimiter.indexOf(P)!==-1}).length||(w=o.delimiter),typeof o.quotes!="boolean"&&typeof o.quotes!="function"&&!Array.isArray(o.quotes)||(l=o.quotes),typeof o.skipEmptyLines!="boolean"&&typeof o.skipEmptyLines!="string"||(I=o.skipEmptyLines),typeof o.newline=="string"&&(O=o.newline),typeof o.quoteChar=="string"&&($=o.quoteChar),typeof o.header=="boolean"&&(C=o.header),Array.isArray(o.columns)){if(o.columns.length===0)throw new Error("Option columns is empty");v=o.columns}o.escapeChar!==void 0&&(K=o.escapeChar+$),o.escapeFormulae instanceof RegExp?k=o.escapeFormulae:typeof o.escapeFormulae=="boolean"&&o.escapeFormulae&&(k=/^[=+\-@\t\r].*$/)}})(),new RegExp(A($),"g"));if(typeof p=="string"&&(p=JSON.parse(p)),Array.isArray(p)){if(!p.length||Array.isArray(p[0]))return U(null,p,I);if(typeof p[0]=="object")return U(v||Object.keys(p[0]),p,I)}else if(typeof p=="object")return typeof p.data=="string"&&(p.data=JSON.parse(p.data)),Array.isArray(p.data)&&(p.fields||(p.fields=p.meta&&p.meta.fields||v),p.fields||(p.fields=Array.isArray(p.data[0])?p.fields:typeof p.data[0]=="object"?Object.keys(p.data[0]):[]),Array.isArray(p.data[0])||typeof p.data[0]=="object"||(p.data=[p.data])),U(p.fields||[],p.data||[],I);throw new Error("Unable to serialize unrecognized input");function U(P,D,ne){var G="",oe=(typeof P=="string"&&(P=JSON.parse(P)),typeof D=="string"&&(D=JSON.parse(D)),Array.isArray(P)&&0<P.length),Y=!Array.isArray(D[0]);if(oe&&C){for(var J=0;J<P.length;J++)0<J&&(G+=w),G+=M(P[J],J);0<D.length&&(G+=O)}for(var q=0;q<D.length;q++){var Z=(oe?P:D[q]).length,z=!1,Q=oe?Object.keys(D[q]).length===0:D[q].length===0;if(ne&&!oe&&(z=ne==="greedy"?D[q].join("").trim()==="":D[q].length===1&&D[q][0].length===0),ne==="greedy"&&oe){for(var se=[],te=0;te<Z;te++){var W=Y?P[te]:te;se.push(D[q][W])}z=se.join("").trim()===""}if(!z){for(var B=0;B<Z;B++){0<B&&!Q&&(G+=w);var ie=oe&&Y?P[B]:B;G+=M(D[q][ie],B)}q<D.length-1&&(!ne||0<Z&&!Q)&&(G+=O)}}return G}function M(P,D){var ne,G;return P==null?"":P.constructor===Date?JSON.stringify(P).slice(1,25):(G=!1,k&&typeof P=="string"&&k.test(P)&&(P="'"+P,G=!0),ne=P.toString().replace(L,K),(G=G||l===!0||typeof l=="function"&&l(P,D)||Array.isArray(l)&&l[D]||((oe,Y)=>{for(var J=0;J<Y.length;J++)if(-1<oe.indexOf(Y[J]))return!0;return!1})(ne,f.BAD_DELIMITERS)||-1<ne.indexOf(w)||ne.charAt(0)===" "||ne.charAt(ne.length-1)===" ")?$+ne+$:ne)}},f.RECORD_SEP="",f.UNIT_SEP="",f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!n&&!!e.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=b,f.ParserHandle=d,f.NetworkStreamer=c,f.FileStreamer=h,f.StringStreamer=u,f.ReadableStreamStreamer=y,e.jQuery&&((r=e.jQuery).fn.parse=function(p){var o=p.config||{},l=[];return this.each(function(O){if(!(r(this).prop("tagName").toUpperCase()==="INPUT"&&r(this).attr("type").toLowerCase()==="file"&&e.FileReader)||!this.files||this.files.length===0)return!0;for(var $=0;$<this.files.length;$++)l.push({file:this.files[$],inputElem:this,instanceConfig:r.extend({},o)})}),C(),this;function C(){if(l.length===0)_(p.complete)&&p.complete();else{var O,$,K,I,v=l[0];if(_(p.before)){var k=p.before(v.file,v.inputElem);if(typeof k=="object"){if(k.action==="abort")return O="AbortError",$=v.file,K=v.inputElem,I=k.reason,void(_(p.error)&&p.error({name:O},$,K,I));if(k.action==="skip")return void w();typeof k.config=="object"&&(v.instanceConfig=r.extend(v.instanceConfig,k.config))}else if(k==="skip")return void w()}var L=v.instanceConfig.complete;v.instanceConfig.complete=function(U){_(L)&&L(U,v.file,v.inputElem),w()},f.parse(v.file,v.instanceConfig)}}function w(){l.splice(0,1),C()}}),t&&(e.onmessage=function(p){p=p.data,f.WORKER_ID===void 0&&p&&(f.WORKER_ID=p.workerId),typeof p.input=="string"?e.postMessage({workerId:f.WORKER_ID,results:f.parse(p.input,p.config),finished:!0}):(e.File&&p.input instanceof File||p.input instanceof Object)&&(p=f.parse(p.input,p.config))&&e.postMessage({workerId:f.WORKER_ID,results:p,finished:!0})}),(c.prototype=Object.create(m.prototype)).constructor=c,(h.prototype=Object.create(m.prototype)).constructor=h,(u.prototype=Object.create(u.prototype)).constructor=u,(y.prototype=Object.create(m.prototype)).constructor=y,f})});var Vr=Te((ti,Gr)=>{var j=Br(),zr=Jr();Gr.exports=class{constructor(e){let r=this;r.damon=e,r.domPurify=j,r.websiteRegex=/^(https?:\/\/)?[-a-zA-Z0-9]*[a-zA-Z0-9]+(\.[-a-zA-Z0-9]*[a-zA-Z0-9]+)+/,r.httpRegex=/^https?:\/\//,r.pathRegex=/^\.*\//}damonToHtmlTable(e){let r=this;return r.mapToHtmlTable(r.damon.damonToMap(e,0,!0))}damonToSExpression(e){let r=this;return r.prefixedKeysMapToSExpression(r.damon.damonToMap(e,0,!0))}sExpressionToDamon(e){let r=this;return r.damon.mapToDamon(r.sExpressionToPrefixedKeysMap(e),!1,!0)}escape(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}mapToHtmlList(e,r=!1,n=void 0){let t=this;try{t.damon.mapToJSON(e)}catch(c){throw console.log(c),new Error("Provided map value doesn't passes JSON.parse()")}var a=0,s=document.createElement("ul"),f;return n!==void 0&&(f=JSON.parse(n)),s.className="DAMON-List",m(e,s),s;function m(c,h,u=[]){if(typeof h!="object"||h==null||Array.isArray(h))throw new Error("Error List Item number "+a+": @param { {} } list");if(typeof c=="object"&&c!==null&&!Array.isArray(c)&&c instanceof Map&&c.constructor===Map){if(h.tagName=="UL")for(let[A,b]of c){let N=document.createElement("ul"),E=document.createElement("code"),g=document.createElement("span"),x=document.createElement("li");if(x.dataset.graphArbo=Array.from(c.keys()).indexOf(A),u.length>0&&(x.dataset.graphArbo=u.join("-")+"-"+Array.from(c.keys()).indexOf(A)),g.className="type-key",t.websiteRegex.test(A)||t.pathRegex.test(A)){let S=A;t.websiteRegex.test(A)&&!t.httpRegex.test(A)&&(S="https://"+A);let _=j.sanitize(`<a href="${S}"><span>${S}</span></a>`);g.innerHTML=_}else n!==void 0&&A in f["@context"]?g.innerHTML=j.sanitize(`<a href="${f["@context"][A]["@id"]}"><span>${A}</span></a>`):g.textContent=A;if(typeof b=="object"&&b!==null)if(Array.isArray(b))if(c.damonInlineArrays!==void 0&&c.damonInlineArrays.indexOf(A)>-1){E.innerHTML=g.outerHTML+'<span class="operator">: </span>[';for(let S=0,_=b.length;S<_;S++){let p=document.createElement("span"),o=b[S];if(o===!0)p.textContent="true",p.className="type-boolean";else if(o===!1)p.textContent="false",p.className="type-boolean";else if(o===null)p.textContent="null",p.className="type-null";else if(Number.isFinite(o)&&!Number.isNaN(o))p.textContent=o+"",p.className="type-number";else{if(r)if(t.websiteRegex.test(o)||t.pathRegex.test(o)){let l=o;t.websiteRegex.test(o)&&!t.httpRegex.test(o)&&(l="https://"+o),p.innerHTML=j.sanitize(`<a href="${l}">"${l}"</a>`)}else p.innerHTML=`"${o}"`;else if(t.websiteRegex.test(o)||t.pathRegex.test(o)){let l=o;!t.httpRegex.test(o)&&t.websiteRegex.test(o)&&(l="https://"+o),p.innerHTML=j.sanitize(`<a href="${l}">"${l}"</a>`)}else p.textContent=`"${o}"`;p.className="type-string"}S!==0&&(E.innerHTML+=", "),E.appendChild(p)}E.innerHTML+="]",x.appendChild(E),x.appendChild(N),h.appendChild(x)}else E.innerHTML=g.outerHTML+'<span class="operator">: </span>[]',x.appendChild(E),x.appendChild(N),h.appendChild(x),m(b,N,u.concat([Array.from(c.keys()).indexOf(A)]));else c.implicitMaps!==void 0&&c.implicitMaps.indexOf(A)>-1?E.innerHTML=g.outerHTML:E.innerHTML=g.outerHTML+'<span class="operator">: </span>{}',x.appendChild(E),x.appendChild(N),h.appendChild(x),m(b,N,u.concat([Array.from(c.keys()).indexOf(A)]));else{a++,E.innerHTML=g.outerHTML+'<span class="operator">: </span>';let S=document.createElement("span"),_=b;if(_===!0)S.textContent="true",S.className="type-boolean";else if(_===!1)S.textContent="false",S.className="type-boolean";else if(_===null)S.textContent="null",S.className="type-null";else if(Number.isFinite(_)&&!Number.isNaN(_))S.textContent=_+"",S.className="type-number";else{if(r)if(t.websiteRegex.test(_)||t.pathRegex.test(_)){let p=_;!t.httpRegex.test(_)&&t.websiteRegex.test(_)&&(p="https://"+_),S.innerHTML=j.sanitize(`<a href="${p}">"${p}"</a>`)}else S.innerHTML=`"${_}"`;else if(t.websiteRegex.test(_)||t.pathRegex.test(_)){let p=_;!t.httpRegex.test(_)&&t.websiteRegex.test(_)&&(p="https://"+_),S.innerHTML=j.sanitize(`<a href="${p}">"${p}"</a>`)}else S.textContent=`"${_}"`;S.className="type-string"}c.implicitNulls===void 0||c.implicitNulls.indexOf(A)==-1?E.appendChild(S):E.innerHTML=E.innerHTML.slice(0,-2),x.appendChild(E),h.appendChild(x)}}}else if(Array.isArray(c))for(var y=0,d=c.length;y<d;y++){let A=document.createElement("ul"),b=document.createElement("code"),N=document.createElement("li");if(N.dataset.graphArbo=y,u.length>0&&(N.dataset.graphArbo=u.join("-")+"-"+y),typeof c[y]=="object"&&c[y]!==null)if(Array.isArray(c[y]))if(c.damonInlineArrays!==void 0&&c.damonInlineArrays.indexOf(y)>-1){b.innerHTML+="[";for(let E=0,g=c[y].length;E<g;E++){let x=document.createElement("span"),S=c[y][E];if(S===!0)x.textContent="true",x.className="type-boolean";else if(S===!1)x.textContent="false",x.className="type-boolean";else if(S===null)x.textContent="null",x.className="type-null";else if(Number.isFinite(S)&&!Number.isNaN(S))x.textContent=S+"",x.className="type-number";else{if(r)if(t.websiteRegex.test(S)||t.pathRegex.test(S)){let _=S;!t.httpRegex.test(S)&&t.websiteRegex.test(S)&&(_="https://"+S),x.innerHTML=j.sanitize(`<a href="${_}">"${_}"</a>`)}else x.innerHTML=`"${S}"`;else if(t.websiteRegex.test(S)||t.pathRegex.test(S)){let _=S;!t.httpRegex.test(S)&&t.websiteRegex.test(S)&&(_="https://"+S),x.innerHTML=j.sanitize(`<a href="${_}">"${_}"</a>`)}else x.textContent=`"${S}"`;x.className="type-string"}E!==0&&(b.innerHTML+=", "),b.appendChild(x)}b.innerHTML+="]",N.appendChild(b),N.appendChild(A),h.appendChild(N)}else b.textContent="[]",N.appendChild(b),N.appendChild(A),h.appendChild(N),m(c[y],A,u.concat(y));else b.textContent="{}",N.appendChild(b),N.appendChild(A),h.appendChild(N),m(c[y],A,u.concat(y));else{a++;let E=c[y];if(E===!0)b.textContent="true",b.className="type-boolean";else if(E===!1)b.textContent="false",b.className="type-boolean";else if(E===null)b.textContent="null",b.className="type-null";else if(Number.isFinite(E)&&!Number.isNaN(E))b.textContent=E+"",b.className="type-number";else{if(r)if(t.websiteRegex.test(E)||t.pathRegex.test(E)){let g=E;!t.httpRegex.test(E)&&t.websiteRegex.test(E)&&(g="https://"+E),b.innerHTML=j.sanitize(`<a href="${g}">"${g}"</a>`)}else b.innerHTML=`"${E}"`;else if(t.websiteRegex.test(E)||t.pathRegex.test(E)){let g=E;!t.httpRegex.test(E)&&t.websiteRegex.test(E)&&(g="https://"+E),b.innerHTML=j.sanitize(`<a href="${g}">"${g}"</a>`)}else b.textContent=`"${E}"`;b.className="type-string"}N.appendChild(b),N.appendChild(A),h.appendChild(N)}}}}mapToHtmlTable(e,r=!1){let n=this;try{n.damon.mapToJSON(e)}catch{throw new Error("Provided value doesn't passes JSON.parse().")}var t=0,a=document.createElement("table"),s=document.createElement("thead"),f=document.createElement("tbody"),m=!1,c=0;if(a.className="DAMON-Table",typeof e!="object"||e==null||Array.isArray(e)||!(e instanceof Map)||e.constructor!==Map)throw new Error("Error: expected an Object value, saw otherwise.");for(let[h,u]of e){if(typeof u=="object"&&u!==null&&!Array.isArray(u)&&u instanceof Map&&u.constructor===Map)if(t==0){let y=document.createElement("tr");c=u.length;for(let[d,A]of u){let b=d.slice(d.match(/^[0-9]+-/)[0].length);if(A===null){let N=document.createElement("th");N.dataset.graphArbo=t+"-"+y.children.length,r?n.websiteRegex.test(b)||n.pathRegex.test(b)?N.innerHTML=j.sanitize(`<a href="${b}">${b}</a>`):N.innerHTML=`${b}`:n.websiteRegex.test(b)||n.pathRegex.test(b)?N.innerHTML=j.sanitize(`<a href="${b}">${b}</a>`):N.textContent=`${b}`,y.appendChild(N)}else throw new Error("Error row "+t+": expected implicit null property, saw otherwise.")}s.appendChild(y),m=!0}else{if(u.length!=c)throw new Error("Error row "+t+": cells total doesn't match the header's.");let y=document.createElement("tr");for(let[d,A]of u){let b=d.slice(d.match(/^[0-9]+-/)[0].length);if(A===null){let N=document.createElement("td");N.dataset.graphArbo=t+"-"+y.children.length,r?n.websiteRegex.test(b)||n.pathRegex.test(b)?N.innerHTML=j.sanitize(`<a href="${b}">${b}</a>`):N.innerHTML=`${b}`:n.websiteRegex.test(b)||n.pathRegex.test(b)?N.innerHTML=j.sanitize(`<a href="${b}">${b}</a>`):N.textContent=`${b}`,y.appendChild(N)}else throw new Error("Error row "+t+": expected implicit null property, saw otherwise.")}f.appendChild(y)}else throw new Error("Error row "+t+": expected an Object value, saw otherwise.");t++}return m&&a.appendChild(s),a.appendChild(f),a}prefixedKeysMapToSExpression(e){let r=this;var n="";if(typeof e=="object"&&e!==null&&e instanceof Map&&e.constructor===Map)return n+=`[\r
`,t(e),n+="]",JSON.parse(n),n;return typeof e=="string"&&(e='"'+e+'"'),JSON.parse(e),e;function t(a,s=1){if(typeof a=="object"&&a!==null&&!Array.isArray(a)&&a instanceof Map&&a.constructor===Map){let c=-1;for(let[h,u]of a){c++;let y=h.slice(h.match(/^[0-9]+-/)[0].length);if(typeof u=="object"&&u!==null)if(Array.isArray(u))u.length>0?(n+="    ".repeat(s)+`${JSON.stringify(y)}, [\r
`,t(u,s+1),n+="    ".repeat(s)+"]"):n+="    ".repeat(s)+`${JSON.stringify(y)}, []`;else if(Array.from(u.keys()).length>0){if(s==1)if(c==0)n="";else throw new Error("Multiple S-Expression roots");n+="    ".repeat(s)+`[${JSON.stringify(y)}, \r
`,t(u,s+1),s!=1&&(n+="    ".repeat(s)+"]")}else n+="    ".repeat(s)+`${JSON.stringify(y)}, []`;else{if(u===!0)throw new Error("Booleans require quotes");if(u===!1)throw new Error("Booleans require quotes");u===null?n+="    ".repeat(s)+`${JSON.stringify(y)}`:Number.isFinite(u)&&!Number.isNaN(u)?n+="    ".repeat(s)+`${JSON.stringify(y)}, `+u:n+="    ".repeat(s)+`${JSON.stringify(y)}, `+JSON.stringify(u)}h!=Array.from(a.keys())[Array.from(a.keys()).length-1]?n+=`,\r
`:n+=`\r
`}}else if(Array.isArray(a))for(var f=0,m=a.length;f<m;f++){if(typeof a[f]=="object"&&a[f]!==null)Array.isArray(a[f])?a[f].length>0?(n+="    ".repeat(s)+`[\r
`,t(a[f],s+1),n+="    ".repeat(s)+"]"):n+="    ".repeat(s)+"[]":Array.from(a[f].keys()).length>0?(n+="    ".repeat(s)+`[\r
`,t(a[f],s+1),n+="    ".repeat(s)+"]"):n+="    ".repeat(s)+"[]";else{if(a[f]===!0)throw new Error("Booleans require quotes");if(a[f]===!1)throw new Error("Booleans require quotes");if(a[f]===null)throw new Error("Array-nulls require quotes");Number.isFinite(a[f])&&!Number.isNaN(a[f])?n+="    ".repeat(s)+a[f]:n+="    ".repeat(s)+JSON.stringify(a[f])}f!=m-1?n+=`,\r
`:n+=`\r
`}}}sExpressionToPrefixedKeysMap(e){let r=this,n=new Map;return n.headless=!0,t(JSON.parse(e),n,0),n;function t(a,s,f){let m=new Map;s.set(f+"-"+a[0],m);for(let c=1,h=a.length;c<h;c++)if(Array.isArray(a[c]))t(a[c],m,c-1);else{let u=c-1+"-"+a[c];m.set(u,null)}}}prefixedKeysMapToMathJs(e){let r=this,n="";if(Array.isArray(e))return a(e),n.slice(0,-1);return typeof e=="object"&&e!==null&&e instanceof Map&&e.constructor===Map?(a(e),n.slice(0,-1)):(typeof e=="string"&&(e=JSON.stringify(e)),JSON.parse(e),e);function t(s){return s[0].toLowerCase()+s.slice(1)}function a(s,f=0){if(typeof s=="object"&&s!==null&&!Array.isArray(s)&&s instanceof Map&&s.constructor===Map)for(let[h,u]of s){let y=h.slice(h.match(/^[0-9]+-/)[0].length);y=="Power"&&(y="Pow"),y=="e"&&(y="2.718281828459045"),y=="i"&&(y="sqrt(-1)"),y=="LN2"&&(y="0.6931471805599453"),y=="LN10"&&(y="2.302585092994046"),y=="LOG2E"&&(y="1.4426950408889634"),y=="LOG10E"&&(y="0.4342944819032518"),y=="phi"&&(y="1.618033988749895"),y=="pi"&&(y="3.141592653589793"),y=="SQRT1_2"&&(y="0.7071067811865476"),y=="SQRT2"&&(y="1.4142135623730951"),y=="tau"&&(y="6.283185307179586"),typeof u=="object"&&u!==null?Array.isArray(u)?u.length>0?(n+="    ".repeat(f)+`${JSON.stringify(t(y)).slice(1,-1)}(
`,a(u,f+1),n+="    ".repeat(f)+")"):n+="    ".repeat(f)+`${JSON.stringify(t(y)).slice(1,-1)}()`:Array.from(u.keys()).length>0?(n+="    ".repeat(f)+`${JSON.stringify(t(y)).slice(1,-1)}(
`,a(u,f+1),n+="    ".repeat(f)+")"):n+="    ".repeat(f)+`${JSON.stringify(t(y)).slice(1,-1)}()`:u===!0?n+="    ".repeat(f)+`${JSON.stringify(t(y)).slice(1,-1)}(true)`:u===!1?n+="    ".repeat(f)+`${JSON.stringify(t(y)).slice(1,-1)}(false)`:u===null?n+="    ".repeat(f)+`${JSON.stringify(t(y)).slice(1,-1)}`:Number.isFinite(u)&&!Number.isNaN(u)?n+="    ".repeat(f)+`${JSON.stringify(t(y)).slice(1,-1)}(`+u+")":n+="    ".repeat(f)+`${JSON.stringify(t(y)).slice(1,-1)}(`+JSON.stringify(u)+")",h!=Array.from(s.keys())[Array.from(s.keys()).length-1]?n+=`,
`:n+=`
`}else if(Array.isArray(s))for(var m=0,c=s.length;m<c;m++)typeof s[m]=="object"&&s[m]!==null?Array.isArray(s[m])?s[m].length>0?s.damonInlineArrays!==void 0&&s.damonInlineArrays.indexOf(m)>-1?s[m]===!0?n+="    ".repeat(f)+"true":s[m]===!1?n+="    ".repeat(f)+"false":s[m]===null?n+="    ".repeat(f)+"null":Number.isFinite(s[m])&&!Number.isNaN(s[m])?n+="    ".repeat(f)+s[m]:n+="    ".repeat(f)+JSON.stringify(s[m]).slice(1,-1):(n+="    ".repeat(f)+`(
`,a(s[m],f+1),n+="    ".repeat(f)+")"):n+="    ".repeat(f)+"()":Array.from(s[m].keys()).length>0?(n+="    ".repeat(f)+`(
`,a(s[m],f+1),n+="    ".repeat(f)+")"):n+="    ".repeat(f)+"()":s[m]===!0?n+="    ".repeat(f)+"true":s[m]===!1?n+="    ".repeat(f)+"false":s[m]===null?n+="    ".repeat(f)+"null":Number.isFinite(s[m])&&!Number.isNaN(s[m])?n+="    ".repeat(f)+s[m]:n+="    ".repeat(f)+JSON.stringify(s[m]).slice(1,-1),m!=c-1?n+=`,
`:n+=`
`}}_mapsDiff(e,r){let n=this;try{n.damon.mapToJSON(e),n.damon.mapToJSON(r)}catch{throw new Error("Provided map value doesn't passes JSON.parse()")}if(typeof e!=typeof r||typeof e=="object"&&e!==null&&!Array.isArray(e)&&e instanceof Map&&e.constructor===Map&&(r==null||Array.isArray(r)||!(r instanceof Map)||r.constructor!==Map))throw new Error("Different root types.");var t;if(typeof e=="object"&&e!==null&&!Array.isArray(e)&&e instanceof Map&&e.constructor===Map)return t=new Map,a(e),t;if(Array.isArray(e))return t=[],a(e),t;function a(s,f=[]){if(typeof s=="object"&&s!==null&&!Array.isArray(s)&&s instanceof Map&&s.constructor===Map){let m="",c=null,h=r;for(let d=0,A=f.length;d<A;d++)typeof h=="object"&&h!==null&&!Array.isArray(h)&&h instanceof Map&&h.constructor===Map?h=h.get(Array.from(h.keys())[f[d]]):h=h[f[d]];let u=t;for(let d=0,A=f.length;d<A;d++)typeof u=="object"&&u!==null&&!Array.isArray(u)&&u instanceof Map&&u.constructor===Map&&Array.from(u.keys()).length?u=u.get(Array.from(u.keys())[f[d]]):u=u[f[d]];let y=0;for(let[d,A]of s)y>Array.from(h.keys()).length-1?typeof A=="object"&&A!==null&&!Array.isArray(A)&&A instanceof Map&&A.constructor===Map?Array.from(h.keys()).indexOf(d)!==-1&&typeof h.get(d)=="object"&&h.get(d)!==null&&!Array.isArray(h.get(d))&&h.get(d)instanceof Map&&h.get(d).constructor===Map?u.set(y+"-yellow",null):u.set(y+"-red",null):Array.isArray(A)?Array.from(h.keys()).indexOf(d)!==-1&&Array.isArray(h.get(d))?u.set(y+"-yellow",null):u.set(y+"-red",null):Array.from(h.keys()).indexOf(d)!==-1&&A===h.get(d)?u.set(y+"-yellow",null):u.set(y+"-red",null):(m=Array.from(h.keys())[y],c=h.get(m),typeof A=="object"&&A!==null&&!Array.isArray(A)&&A instanceof Map&&A.constructor===Map?typeof c=="object"&&c!==null&&!Array.isArray(c)&&c instanceof Map&&c.constructor===Map&&d===m?(u.set(y+"-green",new Map),Array.from(A.keys()).length>0&&a(A,f.concat([y]))):u.set(y+"-red",null):Array.isArray(A)?Array.isArray(c)&&d===m?(u.set(y+"-green",[]),A.length>0&&a(A,f.concat([y]))):u.set(y+"-red",null):A===c&&d===m?u.set(y+"-green","green"):u.set(y+"-red",null)),y++;if(Array.from(s.keys()).length<Array.from(h.keys()).length){let d=0;for(let[A,b]of h){if(d<=y-1){d++;continue}typeof b=="object"&&b!==null&&!Array.isArray(b)&&b instanceof Map&&b.constructor===Map?Array.from(s.keys()).indexOf(A)!==-1&&typeof s.get(A)=="object"&&s.get(A)!==null&&!Array.isArray(s.get(A))&&s.get(A)instanceof Map&&s.get(A).constructor===Map?u.set(y+"-yellow",null):u.set(y+"-red",null):Array.isArray(b)?Array.from(s.keys()).indexOf(A)!==-1&&Array.isArray(s.get(A))?u.set(y+"-yellow",null):u.set(y+"-red",null):Array.from(s.keys()).indexOf(A)!==-1&&b===s.get(A)?u.set(y+"-yellow",null):u.set(y+"-red",null),d++}}}else{let m=null,c=r;for(let u=0,y=f.length;u<y;u++)typeof c=="object"&&c!==null&&!Array.isArray(c)&&c instanceof Map&&c.constructor===Map&&Array.from(c.keys()).length?c=c.get(Array.from(c.keys())[f[u]]):c=c[f[u]];let h=t;for(let u=0,y=f.length;u<y;u++)typeof h=="object"&&h!==null&&!Array.isArray(h)&&h instanceof Map&&h.constructor===Map&&Array.from(h.keys()).length?h=h.get(Array.from(h.keys())[f[u]]):h=h[f[u]];for(let u=0,y=s.length;u<y;u++)u>c.length-1?h[u]="red":(m=c[u],typeof s[u]=="object"&&s[u]!==null&&!Array.isArray(s[u])&&s[u]instanceof Map&&s[u].constructor===Map?typeof m=="object"&&m!==null&&!Array.isArray(m)&&m instanceof Map&&m.constructor===Map?(h[u]=new Map,Array.from(s[u].keys()).length>0&&a(s[u],f.concat([u]))):h[u]="red":Array.isArray(s[u])?Array.isArray(m)?(h[u]=[],s[u].length>0&&a(s[u],f.concat([u]))):h[u]="red":s[u]===m?h[u]="green":h[u]="red");if(s.length<c.length)for(let u=0,y=c.length;u<y;u++)u<=s.length-1||(h[u]="red")}}}sortMap(e,r){let n=this,t=Array.from(e.keys()),a=Array.from(r.keys()),s=new Map;for(let f=0,m=t.length;f<m;f++)r.get(t[f])!==void 0&&s.set(t[f],r.get(t[f]));for(let f=0,m=a.length;f<m;f++)t.indexOf(a[f])==-1&&s.set(a[f],r.get(a[f]));return s}renderDiff(e,r,n=!1){let t=this,a=document.createElement("div"),s=document.createElement("div"),f=document.createElement("ul"),m=t._mapsDiff(e,r);return a.className="DAMON-Diff",s.className="DAMON-Diff-legend",f.className="DAMON-List",s.innerHTML='<span id="damonDiffRed"><span>Red</span>: Difference</span>; <span id="damonDiffBlue"><span>Blue</span>: Addition</span>; <span id="damonDiffGreen"><span>Green</span>: Displacement</span>',c(m,f),a.appendChild(s),a.appendChild(f),a;function c(u,y,d=[],A="green"){if(A==="green"){if(typeof y!="object"||y==null||Array.isArray(y))throw new Error("Error List Item "+d.concat("-")+": @param { {} } list");if(typeof u=="object"&&u!==null&&!Array.isArray(u)&&u instanceof Map&&u.constructor===Map){if(y.tagName=="UL"){let E="",g=null,x=e;for(let l=0,C=d.length;l<C;l++)typeof x=="object"&&x!==null&&!Array.isArray(x)&&x instanceof Map&&x.constructor===Map?x=x.get(Array.from(x.keys())[d[l]]):x=x[d[l]];let S="",_=null,p=r;for(let l=0,C=d.length;l<C;l++)typeof p=="object"&&p!==null&&!Array.isArray(p)&&p instanceof Map&&p.constructor===Map?p=p.get(Array.from(p.keys())[d[l]]):p=p[d[l]];let o=0;for(let[l,C]of u){let w=Array.from(u.keys())[o].split("-")[1],O=u.get(Array.from(u.keys())[o]),$=document.createElement("ul"),K=document.createElement("code"),I=document.createElement("span"),v=document.createElement("li");if(I.className="type-key",v.className=w+"-diff",v.className==="red-diff"&&o<=Array.from(x.keys()).length-1?o>Array.from(p.keys()).length-1?(l="",C=""):(o>Array.from(x.keys()).length-1&&(v.className="blue-diff",v.setAttribute("aria-describedby","damonDiffBlue")),S=Array.from(p.keys())[o],_=p.get(S),l=S,C=_):v.className==="green-diff"?(v.dataset.graphArbo=o,d.length>0&&(v.dataset.graphArbo=d.join("-")+"-"+o),v.className="",E=Array.from(p.keys())[o],g=p.get(E),l=E,C=g):v.className==="yellow-diff"?o>Array.from(x.keys()).length-1?(v.className="green-diff",v.setAttribute("aria-describedby","damonDiffGreen"),E=Array.from(p.keys())[o],g=p.get(E),l=E,C=g):(l="",C="",v.className="red-diff",v.setAttribute("aria-describedby","damonDiffRed")):(v.className="blue-diff",v.setAttribute("aria-describedby","damonDiffBlue"),E=Array.from(p.keys())[o],g=p.get(E),l=E,C=g),v.className==="red-diff"&&v.setAttribute("aria-describedby","damonDiffRed"),t.websiteRegex.test(l)||t.pathRegex.test(l)){let k=l;!t.httpRegex.test(l)&&t.websiteRegex.test(l)&&(k="https://"+l);let L=j.sanitize(`<a href="${k}"><span>${k}</span></a>`);I.innerHTML=L}else I.textContent=l;if(typeof C=="object"&&C!==null)if(Array.isArray(C))if(e.damonInlineArrays!==void 0&&e.damonInlineArrays.indexOf(l)>-1){K.innerHTML=I.outerHTML+'<span class="operator">: </span>[';for(let k=0,L=C.length;k<L;k++){let U=document.createElement("span"),M=C[k];if(M===!0)U.textContent="true",U.className="type-boolean";else if(M===!1)U.textContent="false",U.className="type-boolean";else if(M===null)U.textContent="null",U.className="type-null";else if(Number.isFinite(M)&&!Number.isNaN(M))U.textContent=M+"",U.className="type-number";else{if(n)if(t.websiteRegex.test(M)||t.pathRegex.test(M)){let P=M;!t.httpRegex.test(M)&&t.websiteRegex.test(M)&&(P="https://"+M),U.innerHTML=j.sanitize(`<a href="${P}">"${P}"</a>`)}else U.innerHTML=`"${M}"`;else if(t.websiteRegex.test(M)||t.pathRegex.test(M)){let P=M;!t.httpRegex.test(M)&&t.websiteRegex.test(M)&&(P="https://"+M),U.innerHTML=j.sanitize(`<a href="${P}">"${P}"</a>`)}else U.textContent=`"${M}"`;U.className="type-string"}k!==0&&(K.innerHTML+=", "),K.appendChild(U)}K.innerHTML+="]",v.appendChild(K),v.appendChild($),y.appendChild(v)}else K.innerHTML=I.outerHTML+'<span class="operator">: </span>[]',v.appendChild(K),v.appendChild($),y.appendChild(v),w=="green"?c(O,$,d.concat([o]),w):c(O,$,d.concat([o]),w);else e.implicitMaps!==void 0&&e.implicitMaps.indexOf(l)>-1?K.innerHTML=I.outerHTML:K.innerHTML=I.outerHTML+'<span class="operator">: </span>{}',v.appendChild(K),v.appendChild($),y.appendChild(v),w=="green"?c(O,$,d.concat([o]),w):c(O,$,d.concat([o]),w);else{K.innerHTML=I.outerHTML+'<span class="operator">: </span>';let k=document.createElement("span"),L=C;if(L===!0)k.textContent="true",k.className="type-boolean";else if(L===!1)k.textContent="false",k.className="type-boolean";else if(L===null)k.textContent="null",k.className="type-null";else if(Number.isFinite(L)&&!Number.isNaN(L))k.textContent=L+"",k.className="type-number";else{if(n)if(t.websiteRegex.test(L)||t.pathRegex.test(L)){let U=L;!t.httpRegex.test(L)&&t.websiteRegex.test(L)&&(U="https://"+L),k.innerHTML=j.sanitize(`<a href="${U}">"${U}"</a>`)}else k.innerHTML=`"${L}"`;else if(t.websiteRegex.test(L)||t.pathRegex.test(L)){let U=L;!t.httpRegex.test(L)&&t.websiteRegex.test(L)&&(U="https://"+L),k.innerHTML=j.sanitize(`<a href="${U}">"${U}"</a>`)}else k.textContent=`"${L}"`;k.className="type-string"}e.implicitNulls===void 0||e.implicitNulls.indexOf(l)==-1?K.appendChild(k):K.innerHTML=K.innerHTML.slice(0,-2),v.appendChild(K),y.appendChild(v)}o++}}}else if(Array.isArray(u)){let E=e;for(let x=0,S=d.length;x<S;x++)typeof E=="object"&&E!==null&&!Array.isArray(E)&&E instanceof Map&&E.constructor===Map&&Array.from(E.keys()).length?E=E.get(Array.from(E.keys())[d[x]]):E=E[d[x]];let g=r;for(let x=0,S=d.length;x<S;x++)typeof g=="object"&&g!==null&&!Array.isArray(g)&&g instanceof Map&&g.constructor===Map&&Array.from(g.keys()).length?g=g.get(Array.from(g.keys())[d[x]]):g=g[d[x]];for(var b=0,N=u.length;b<N;b++){let x=document.createElement("ul"),S=document.createElement("code"),_=document.createElement("li"),p="green",o;if(_.className="green-diff",typeof u[b]=="string"&&(p=u[b],_.className=u[b]+"-diff"),_.className==="red-diff"&&b<=E.length-1?b>g.length-1?o="":(b>E.length-1&&(_.className=="red-diff"?(_.className="blue-diff",_.setAttribute("aria-describedby","damonDiffBlue")):(_.className="green-diff",_.setAttribute("aria-describedby","damonDiffGreen"))),o=g[b]):(_.className==="green-diff"?(_.dataset.graphArbo=b,d.length>0&&(_.dataset.graphArbo=d.join("-")+"-"+b),_.className=""):(_.className="blue-diff",_.setAttribute("aria-describedby","damonDiffBlue")),o=E[b]),_.className==="red-diff"&&_.setAttribute("aria-describedby","damonDiffRed"),typeof o=="object"&&o!==null)if(Array.isArray(o))if(e.damonInlineArrays!==void 0&&e.damonInlineArrays.indexOf(b)>-1){S.innerHTML+="[";for(let l=0,C=o.length;l<C;l++){let w=document.createElement("span"),O=o[l];if(O===!0)w.textContent="true",w.className="type-boolean";else if(O===!1)w.textContent="false",w.className="type-boolean";else if(O===null)w.textContent="null",w.className="type-null";else if(Number.isFinite(O)&&!Number.isNaN(O))w.textContent=O+"",w.className="type-number";else{if(n)if(t.websiteRegex.test(O)||t.pathRegex.test(O)){let $=O;!t.httpRegex.test(O)&&t.websiteRegex.test(O)&&($="https://"+O),w.innerHTML=j.sanitize(`<a href="${$}">"${$}"</a>`)}else w.innerHTML=`"${O}"`;else if(t.websiteRegex.test(O)||t.pathRegex.test(O)){let $=O;!t.httpRegex.test(O)&&t.websiteRegex.test(O)&&($="https://"+O),w.innerHTML=j.sanitize(`<a href="${$}">"${$}"</a>`)}else w.textContent=`"${O}"`;w.className="type-string"}l!==0&&(S.innerHTML+=", ")}S.innerHTML+="]",_.appendChild(S),_.appendChild(x),y.appendChild(_)}else S.textContent="[]",_.appendChild(S),_.appendChild(x),y.appendChild(_),c(u[b],x,d.concat([b]),p);else S.textContent="{}",_.appendChild(S),_.appendChild(x),y.appendChild(_),c(u[b],x,d.concat([b]),p);else{let l=o;if(l===!0)S.textContent="true",S.className="type-boolean";else if(l===!1)S.textContent="false",S.className="type-boolean";else if(l===null)S.textContent="null",S.className="type-null";else if(Number.isFinite(l)&&!Number.isNaN(l))S.textContent=l+"",S.className="type-number";else{if(n)if(t.websiteRegex.test(l)||t.pathRegex.test(l)){let C=l;!t.httpRegex.test(l)&&t.websiteRegex.test(l)&&(C="https://"+l),S.innerHTML=j.sanitize(`<a href="${C}">"${C}"</a>`)}else S.innerHTML=`"${l}"`;else if(t.websiteRegex.test(l)||t.pathRegex.test(l)){let C=l;!t.httpRegex.test(l)&&t.websiteRegex.test(l)&&(C="https://"+l),S.innerHTML=j.sanitize(`<a href="${C}">"${C}"</a>`)}else S.textContent=`"${l}"`;S.className="type-string"}_.appendChild(S),_.appendChild(x),y.appendChild(_)}}}}else if(["red","yellow"].indexOf(A)>-1){let E=r;for(let g=0,x=d.length;g<x;g++)typeof E=="object"&&E!==null&&!Array.isArray(E)&&E instanceof Map&&E.constructor===Map?E=E.get(Array.from(E.keys())[d[g]]):E=E[d[g]];h(E,y,d,A)}}function h(u,y,d,A){if(typeof y!="object"||y==null||Array.isArray(y))throw new Error("Error List Item "+d.concat("-")+": @param { {} } list");if(typeof u=="object"&&u!==null&&!Array.isArray(u)&&u instanceof Map&&u.constructor===Map){if(y.tagName=="UL"){let E=0;for(let[g,x]of u){let S=document.createElement("ul"),_=document.createElement("code"),p=document.createElement("span"),o=document.createElement("li");if(p.className="type-key",o.className="red-diff",o.setAttribute("aria-describedby","damonDiffRed"),t.websiteRegex.test(g)||t.pathRegex.test(g)){let l=g;!t.httpRegex.test(g)&&t.websiteRegex.test(g)&&(l="https://"+g);let C=j.sanitize(`<a href="${l}">${l}</a>`);p.innerHTML=C}else p.textContent=g;if(typeof x=="object"&&x!==null)if(Array.isArray(x))if(u.damonInlineArrays!==void 0&&u.damonInlineArrays.indexOf(g)>-1){_.innerHTML=p.outerHTML+'<span class="operator">: </span>[';for(let l=0,C=x.length;l<C;l++){let w=document.createElement("span"),O=x[l];if(O===!0)w.textContent="true",w.className="type-boolean";else if(O===!1)w.textContent="false",w.className="type-boolean";else if(O===null)w.textContent="null",w.className="type-null";else if(Number.isFinite(O)&&!Number.isNaN(O))w.textContent=O+"",w.className="type-number";else{if(n)if(t.websiteRegex.test(O)||t.pathRegex.test(O)){let $=O;!t.httpRegex.test(O)&&t.websiteRegex.test(O)&&($="https://"+O),w.innerHTML=j.sanitize(`<a href="${$}">"${$}"</a>`)}else w.innerHTML=`"${O}"`;else if(t.websiteRegex.test(O)||t.pathRegex.test(O)){let $=O;!t.httpRegex.test(O)&&t.websiteRegex.test(O)&&($="https://"+O),w.innerHTML=j.sanitize(`<a href="${$}">"${$}"</a>`)}else w.textContent=`"${O}"`;w.className="type-string"}l!==0&&(_.innerHTML+=", "),_.appendChild(w)}_.innerHTML+="]",o.appendChild(_),o.appendChild(S),y.appendChild(o)}else _.innerHTML=p.outerHTML+'<span class="operator">: </span>[]',o.appendChild(_),o.appendChild(S),y.appendChild(o),h(x,S,d.concat([E]),A);else u.implicitMaps!==void 0&&u.implicitMaps.indexOf(g)>-1?_.innerHTML=p.outerHTML:_.innerHTML=p.outerHTML+'<span class="operator">: </span>{}',o.appendChild(_),o.appendChild(S),y.appendChild(o),h(x,S,d.concat([E]),A);else{_.innerHTML=p.outerHTML+'<span class="operator">: </span>';let l=document.createElement("span"),C=x;if(C===!0)l.textContent="true",l.className="type-boolean";else if(C===!1)l.textContent="false",l.className="type-boolean";else if(C===null)l.textContent="null",l.className="type-null";else if(Number.isFinite(C)&&!Number.isNaN(C))l.textContent=C+"",l.className="type-number";else{if(n)if(t.websiteRegex.test(C)||t.pathRegex.test(C)){let w=C;!t.httpRegex.test(C)&&t.websiteRegex.test(C)&&(w="https://"+C),l.innerHTML=j.sanitize(`<a href="${w}">"${w}"</a>`)}else l.innerHTML=`"${C}"`;else if(t.websiteRegex.test(C)||t.pathRegex.test(C)){let w=C;!t.httpRegex.test(C)&&t.websiteRegex.test(C)&&(w="https://"+C),l.innerHTML=j.sanitize(`<a href="${w}">"${w}"</a>`)}else l.textContent=`"${C}"`;l.className="type-string"}u.implicitNulls===void 0||u.implicitNulls.indexOf(g)==-1?_.appendChild(l):_.innerHTML=_.innerHTML.slice(0,-2),o.appendChild(_),y.appendChild(o)}E++}}}else if(Array.isArray(u))for(var b=0,N=u.length;b<N;b++){let E=document.createElement("ul"),g=document.createElement("code"),x=document.createElement("li");if(x.className=u[b]+"-diff",x.setAttribute("aria-describedby","damonDiffRed"),typeof u[b]=="object"&&u[b]!==null)if(Array.isArray(u[b]))if(u.damonInlineArrays!==void 0&&u.damonInlineArrays.indexOf(b)>-1){g.innerHTML+="[";for(let S=0,_=u[b].length;S<_;S++){let p=document.createElement("span"),o=u[b][S];if(o===!0)p.textContent="true",p.className="type-boolean";else if(o===!1)p.textContent="false",p.className="type-boolean";else if(o===null)p.textContent="null",p.className="type-null";else if(Number.isFinite(o)&&!Number.isNaN(o))p.textContent=o+"",p.className="type-number";else{if(n)if(t.websiteRegex.test(o)||t.pathRegex.test(o)){let l=o;!t.httpRegex.test(o)&&t.websiteRegex.test(o)&&(l="https://"+o),p.innerHTML=j.sanitize(`<a href="${l}">"${l}"</a>`)}else p.innerHTML=`"${o}"`;else if(t.websiteRegex.test(o)||t.pathRegex.test(o)){let l=o;!t.httpRegex.test(o)&&t.websiteRegex.test(o)&&(l="https://"+o),p.innerHTML=j.sanitize(`<a href="${l}">"${l}"</a>`)}else p.textContent=`"${o}"`;p.className="type-string"}S!==0&&(g.innerHTML+=", "),g.appendChild(p)}g.innerHTML+="]",x.appendChild(g),x.appendChild(E),y.appendChild(x)}else g.textContent="[]",x.appendChild(g),x.appendChild(E),y.appendChild(x),h(u[b],E,d.concat([b]),A);else g.textContent="{}",x.appendChild(g),x.appendChild(E),y.appendChild(x),h(u[b],E,d.concat([b]),A);else{let S=u[b];if(S===!0)g.textContent="true",g.className="type-boolean";else if(S===!1)g.textContent="false",g.className="type-boolean";else if(S===null)g.textContent="null",g.className="type-null";else if(Number.isFinite(S)&&!Number.isNaN(S))g.textContent=S+"",g.className="type-number";else{if(n)if(t.websiteRegex.test(S)||t.pathRegex.test(S)){let _=S;!t.httpRegex.test(S)&&t.websiteRegex.test(S)&&(_="https://"+S),g.innerHTML=j.sanitize(`<a href="${_}">"${_}"</a>`)}else g.innerHTML=`"${S}"`;else if(t.websiteRegex.test(S)||t.pathRegex.test(S)){let _=S;!t.httpRegex.test(S)&&t.websiteRegex.test(S)&&(_="https://"+S),g.innerHTML=j.sanitize(`<a href="${_}">"${_}"</a>`)}else g.textContent=`"${S}"`;g.className="type-string"}x.appendChild(g),x.appendChild(E),y.appendChild(x)}}}}damonTableMapToCSV(e){let r=this,n="";for(let[t,a]of e){let s=Array.from(a.keys());for(let f=0,m=s.length;f<m;f++){let c=s[f].slice(s[f].match(/^[0-9]+-/)[0].length);n+=zr.unparse([[c]],{quotes:!0}),f!=m-1&&(n+=",")}n+=`
`}return n.slice(0,-1)}damonTableMapToJSON(e,r="array-rows"){let n=this;if(r=="array-rows"){let t=`[
`;for(let[a,s]of e){t+="    [";let f=Array.from(s.keys());for(let m=0,c=f.length;m<c;m++){let h=f[m].slice(f[m].match(/^[0-9]+-/)[0].length);t+=JSON.stringify(h),m!=c-1&&(t+=", ")}t+=`],
`}return t=t.slice(0,-2)+`
]`,t}else{let t=`[
`,a=-1,s=new Map;for(let[f,m]of e)if(a++,a===0)for(let[c,h]of m)s.set(c.slice(c.match(/^[0-9]+-/)[0].length),null);else{let c=-1,h=Array.from(m.keys());for(let[u,y]of s)c++,h[c]?s.set(u,h[c].slice(h[c].match(/^[0-9]+-/)[0].length)):s.set(u,null);t+=n.damon.mapToJSON(s).split(`
`).map(u=>"   "+u).join(`
`),t+=`,
`}return t=t.slice(0,-2)+`
]`,t}}csvToDamonTable(e,r=!1){let n=this,t=zr.parse(e);if(t.meta.aborted)throw new Error("CSV parsing failed");return n.jsonToDamonTable(JSON.stringify(t.data))}jsonToDamonTable(e,r="array-rows"){let n=this,t=new Map;if(r==="array-rows"){let a=JSON.parse(e);for(let s=0,f=a.length;s<f;s++){let m=new Map,c=s+"-"+(s+"");m.implicitNulls=[],t.set(c,m);let h=a[s];for(let u=0,y=h.length;u<y;u++)t.get(c).set(u+"-"+h[u],null),t.get(c).implicitNulls.push(h[u])}}else{let a=n.damon.jsonToMap(e);t.set("0-0",new Map);let s=-1;for(let[f,m]of a[0])s++,t.get("0-0").set(s+"-"+f,null);for(let f=0,m=a.length;f<m;f++){let c=f+1+"-"+(f+1);t.set(c,new Map);let h=-1;for(let[u,y]of a[f])h++,t.get(c).set(h+"-"+y,null)}}return t.headless=!0,n.damon.mapToDamon(t,!1,!0)}wrapListContentsForStyling(e){let r=this;for(let n=0,t=e.length;n<t;n++){let a=document.createElement("div");for(let s=e[n].childNodes.length-1;s>=0;s--)(e[n].childNodes[s].tagName&&e[n].childNodes[s].tagName!=="UL"&&e[n].childNodes[s].tagName!=="OL"||e[n].childNodes[s].nodeType==3&&e[n].childNodes[s].data!=`
`&&e[n].childNodes[s].data!=`\r
`)&&(a.childNodes.length==0?a.appendChild(e[n].childNodes[s]):a.insertBefore(e[n].childNodes[s],a.childNodes[0]));e[n].firstElementChild?e[n].insertBefore(a,e[n].firstElementChild):e[n].appendChild(a)}}addLineNumbers(e,r,n=0){let t=this,a=r.querySelectorAll("li[data-graph-arbo]");for(let s=0,f=a.length;s<f;s++){let m=document.createElement("div");m.className="damon-line-number";let c=t.damon.damonToMap(e),h=a[s].dataset.graphArbo.split("-"),u=[];for(let y=0,d=h.length;y<d;y++)typeof c=="object"&&c!==null&&!Array.isArray(c)&&c instanceof Map&&c.constructor===Map?(u.push(Array.from(c.keys())[h[y]]),c=c.get(u[y])):(u.push(parseInt(h[y])),c=c[u[y]]);m.textContent=t.damon.getRangeFromPath(e,u)[0][0]+1+n,m.id="damonLine"+m.textContent,a[s].setAttribute("aria-labelledBy",m.id),m.style.top=r.scrollTop+a[s].firstElementChild.getBoundingClientRect().top-r.getBoundingClientRect().top+"px",r.appendChild(m)}}addTableLineNumbers(e,r,n=0){let t=this,a=r.querySelectorAll("th[data-graph-arbo]:first-child, td[data-graph-arbo]:first-child");for(let s=0,f=a.length;s<f;s++){let m=document.createElement("div");m.className="damon-line-number",m.textContent=t.damon.getRangeFromPath(e,[Array.from(t.damon.damonToMap(e).keys())[s]])[0][0]+1+n,m.id="damonLine"+m.textContent,a[s].setAttribute("aria-labelledBy",m.id),m.style.top=r.scrollTop+a[s].getBoundingClientRect().top-r.getBoundingClientRect().top+"px",r.appendChild(m)}}damonGraphMapToMermaid(e,r=0){let n=this,t="";if(typeof e!="object"||e===null||Array.isArray(e)||!(e instanceof Map)||e.constructor!==Map)throw new Error("Error: input does not conform to Map type");let a=0;for(let[s,f]of e){if(a++,f===null){t+=s+`\r
`;continue}if(typeof f!="object"||Array.isArray(f)||!(f instanceof Map)||f.constructor!==Map)throw new Error("Error line "+n.damon.mapIndexToLine(e,a)+r+": value does not conform to Map type");if(Array.from(f.keys()).length)for(let[m,c]of f){if(a++,typeof c!="string")throw new Error("Error line "+n.damon.mapIndexToLine(e,a)+r+": value does not conform to String type");let h=c.split(",");for(let u=0,y=h.length;u<y;u++)t+=s+" "+m+" "+h[u]+`\r
`}else t+=s+`\r
`}return t.slice(0,-2)}}});var Wr=Te((ni,qr)=>{var ri=xt();qr.exports=(function(i){i.editor.addEventListener("focusin",e),i.editor.addEventListener("focusout",r),i.gutter.addEventListener("click",n),document.addEventListener("mousedown",a),document.addEventListener("mousemove",s),document.addEventListener("mouseup",f),document.addEventListener("selectionchange",m),i.textarea.addEventListener("beforeinput",c),i.textarea.addEventListener("keydown",h),i.textarea.addEventListener("cut",u),i.textarea.addEventListener("copy",y),i.textarea.addEventListener("paste",d);function e(E){i.utils.addDataState(i.editor,"focused")}function r(E){i.editor.contains(E.target)||i.utils.removeDataState(i.editor,"focused")}function n(E){(Array.from(i.gutter.children).indexOf(E.target)>-1||Array.from(i.gutter.children).indexOf(E.target.parentNode)>-1)&&i.setCarretAt(parseInt(E.target.textContent.trim())-1)}var t;function a(E){if(E.target==i.container){t=E.target,E.preventDefault();let g=i.gutter.children,x="0";for(let S=0,_=g.length;S<_;S++)E.clientY>g[S].getBoundingClientRect().y&&(x=g[S].textContent.trim());x-1<0&&(x=1),i.setCarretAt(x-1),i.textarea.focus()}}function s(E){if(t==i.container&&E.buttons==1){let g=i.gutter.children,x="0";for(let S=0,_=g.length;S<_;S++)E.clientY>g[S].getBoundingClientRect().y&&(x=g[S].textContent.trim());i.textarea.focus(),i.textarea.setSelectionRange(i.textarea.value.split(`
`).slice(0,x).join().length,i.textarea.value.length,"backward")}}function f(E){t==i.container&&E.target==i.textarea&&(i.textarea.selectionEnd=i.textarea.value.length,i.textarea.selectionStart=i.textarea.value.length,i.textarea.focus()),t=void 0}function m(E){document.activeElement===i.textarea&&(i.updateCaret(),i.updateCurrentLine(),i.updateHorizontalScroll(),i.lastSelection=i.getTextareaSelection())}function c(E){i.lastTextareaValue=i.textarea.value}function h(E){if(!E.ctrlKey&&!E.shiftKey&&!E.altKey){if(E.key==" "&&i.textarea.selectionStart==i.textarea.selectionEnd&&(!/\n/.test(i.textarea.value.slice(0,i.textarea.selectionStart))&&(/ +$/.test(i.textarea.value.slice(0,i.textarea.selectionStart))||i.textarea.selectionStart===0)||/\n +$/.test(i.textarea.value.slice(0,i.textarea.selectionStart))||i.textarea.selectionStart<i.textarea.value.length&&(/\n +\n$/.test(i.textarea.value.slice(0,i.textarea.selectionStart+1))||/\n$/.test(i.textarea.value.slice(0,i.textarea.selectionStart)))||i.textarea.value.length==i.textarea.selectionStart&&(/\n +$/.test(i.textarea.value)||/\n$/.test(i.textarea.value)))){E.preventDefault();let g=i.textarea.selectionStart+4,x=i.textarea.value.slice(0,i.textarea.selectionStart)+"    "+i.textarea.value.slice(i.textarea.selectionEnd);i.setTextarea(x,g),A()}if(E.key=="Enter"){let g=i.textarea.value,x=g.split(`
`),S=i.getSelectionStartCoordinates(),_=S[0],p=S[1],o=x[_];if(/^    /.test(o)){if(E.preventDefault(),p%4!==0&&p<o.match(/^(    )+/)[0].length){for(let $=p;0<=$;$--)if($%4==0){i.textarea.selectionStart==i.textarea.selectionEnd&&(i.textarea.selectionEnd=x.slice(0,_).join().length+$),i.textarea.selectionStart=x.slice(0,_).join().length+$,p=$;break}}let l=0;p>0&&(l=o.slice(0,p).match(/^(    )+/)[0].length);let C=i.textarea.selectionStart,w=i.textarea.value.slice(i.textarea.selectionEnd);w.split(`
`)[0].trim()==""&&(w=`
`+w.split(`
`).slice(1).join(`
`));let O=i.textarea.value.slice(0,i.textarea.selectionStart)+`
`+" ".repeat(l)+w;i.setTextarea(O,C+l+1),A()}}}else if(!E.ctrlKey&&E.shiftKey&&!E.altKey)E.key==" "&&i.textarea.selectionStart==i.textarea.selectionEnd;else if(E.ctrlKey&&!E.shiftKey&&!E.altKey){if(E.key=="Backspace"){let g=i.textarea.value.split(`
`),x=i.getSelectionStartCoordinates(),S=g[x[0]],_=S.slice(0,x[1]);if(i.textarea.selectionEnd==i.textarea.selectionStart&&/^ +$/.test(_)){E.preventDefault();let p=0;_.length%4==0?(g[x[0]]=S.slice(4),p=4):(g[x[0]]=S.slice(_.length%4),p=_.length%4),i.setTextarea(g.join(`
`)),A(),i.setCarretAt(x[0],x[1]-p)}}if(E.key==" "){let g=i.textarea.value.slice(0,i.textarea.selectionStart)+"	"+i.textarea.value.slice(i.textarea.selectionEnd);i.setTextarea(i.formatIndentation(g),i.textarea.selectionEnd+1),A()}if(E.key=="]"){E.preventDefault();let g=i.textarea.value.split(`
`),x=i.textarea.value.slice(0,i.textarea.selectionStart).split(`
`).length-1,S=i.textarea.value.slice(0,i.textarea.selectionEnd).split(`
`).length-1,_=i.textarea.selectionStart+4,p=i.textarea.selectionEnd+4*(S-x+1);for(let o=0,l=g.length;o<l;o++)o>=x&&o<=S&&(g[o]="    "+g[o]);i.setTextarea(g.join(`
`),_,p),A()}if(E.key=="["){let g=i.textarea.value,x=i.textarea.value.split(`
`),S=i.textarea.value.slice(0,i.textarea.selectionStart).split(`
`).length-1,_=i.textarea.value.slice(0,i.textarea.selectionEnd).split(`
`).length-1,p=i.textarea.selectionStart,o=i.textarea.selectionEnd;for(let l=0,C=x.length;l<C;l++)l>=S&&l<=_&&x[l].startsWith("    ")&&(l==S&&(p-=4),o-=4,x[l]=x[l].slice(4));i.setTextarea(x.join(`
`),p,o),A()}if(E.key=="Enter"){let g=i.textarea.value.split(`
`),x=i.getCurrentLine();x==g.length-1?i.setTextarea(g.join(`
`)+`
`):i.setTextarea(g.slice(0,x+1).join(`
`)+`

`+g.slice(x+1).join(`
`)),A(),i.setCarretAt(x+1)}if(E.key=="z"&&(E.preventDefault(),i.historyPosition>1)){i.historyPosition-=1;let g=i.history[i.historyPosition-1];i.setTextarea(g[0],g[1]),i.update(),i.virtualScroller.inputHandler(!0),i.textarea.blur(),i.textarea.focus()}if(E.key=="y"&&(E.preventDefault(),i.historyPosition<i.history.length)){i.historyPosition+=1;let g=i.history[i.historyPosition-1];i.setTextarea(g[0],g[1]),i.update(),i.virtualScroller.inputHandler(!0),i.textarea.blur(),i.textarea.focus()}}else if(!E.ctrlKey&&E.shiftKey&&E.altKey)E.key=="f"&&i.setTextarea(i.formatIndentation(i.textarea.value),i.textarea.selectionEnd);else if(!E.ctrlKey&&!E.shiftKey&&E.altKey){if(E.key=="ArrowDown")if(i.getSelectionStartCoordinates()[0]==i.getSelectionEndCoordinates()[0]){let g=i.textarea.value.split(`
`),x=i.getCurrentLine(),S=g[i.getCurrentLine()].slice();if(i.getCurrentLine()!==g.length){let _=g[i.getCurrentLine()+1].slice();g[i.getCurrentLine()]=_,g[i.getCurrentLine()+1]=S,i.setTextarea(g.join(`
`)),A(),i.setCarretAt(x+1)}}else{let g=i.textarea.value.split(`
`),x=i.getSelectionStartCoordinates()[0],S=i.getSelectionEndCoordinates()[0];if(S<x&&(x=i.getSelectionEndCoordinates()[0],S=i.getSelectionStartCoordinates()[0]),S!=g.length){let _=g.slice(x,S+1),p=g[S+1].slice();g[x]=p;for(let o=x,l=o+_.length;o<l;o++)g[o+1]=_[o-x];S<x?i.setTextarea(g.join(`
`),i.textarea.selectionEnd+p.length+1,i.textarea.selectionStart+p.length+1):i.setTextarea(g.join(`
`),i.textarea.selectionStart+p.length+1,i.textarea.selectionEnd+p.length+1),A()}}else if(E.key=="ArrowUp")if(i.getSelectionStartCoordinates()[0]==i.getSelectionEndCoordinates()[0]){let g=i.textarea.value.split(`
`),x=i.getCurrentLine(),S=g[i.getCurrentLine()].slice();if(i.getCurrentLine()!==0){let _=g[i.getCurrentLine()-1].slice();g[i.getCurrentLine()]=_,g[i.getCurrentLine()-1]=S,i.setTextarea(g.join(`
`)),A(),i.setCarretAt(x-1)}}else{let g=i.textarea.value.split(`
`),x=i.getSelectionStartCoordinates()[0],S=i.getSelectionEndCoordinates()[0];if(S<x&&(x=i.getSelectionEndCoordinates()[0],S=i.getSelectionStartCoordinates()[0]),x!=0){let _=g.slice(x,S+1),p=g[x-1].slice();g[S]=p;for(let o=x,l=o+_.length;o<l;o++)g[o-1]=_[o-x];S<x?i.setTextarea(g.join(`
`),i.textarea.selectionEnd-p.length-1,i.textarea.selectionStart-p.length-1):i.setTextarea(g.join(`
`),i.textarea.selectionStart-p.length-1,i.textarea.selectionEnd-p.length-1),A()}}}i.debounceLint()}function u(E){if(i.textarea.selectionStart==i.textarea.selectionEnd){E.preventDefault();let g=i.textarea.value.split(`
`),x=i.getCurrentLine(),S=g.slice(0,x).join(`
`).length,_=S+g[x].length+1;i.textarea.setSelectionRange(S,_),i.lastTextareaValue=i.textarea.value,document.execCommand("cut"),A(),b()}}function y(E){if(i.textarea.selectionStart==i.textarea.selectionEnd){E.preventDefault();let g=i.textarea.value.split(`
`),x=i.getCurrentLine(),S=g.slice(0,x).join(`
`).length,_=S+g[x].length+1;i.textarea.setSelectionRange(S,_),document.execCommand("copy")}}function d(E){E.preventDefault();let g=E.clipboardData.getData("text").replace(new RegExp(/\r/g),""),x=i.textarea.value.slice(0,i.textarea.selectionStart),S=i.textarea.value.slice(i.textarea.selectionEnd),_=x+g+S,p=i.textarea.selectionStart+g.length;if(x+S==""||i.textarea.selectionStart==0&&i.textarea.selectionEnd==_.length-1)try{let I=JSON.parse(_);if(Array.isArray(I)&&I.map(v=>Array.isArray(v)).indexOf(!1)==-1&&I.map(v=>v.map(k=>!Array.isArray(k)&&(typeof v!="object"||v==null)).indexOf(!1)==-1).indexOf(!1)==-1)i.setTextarea(i.damonUtils.jsonToDamonTable(_));else if(Array.isArray(I)&&I.map(v=>typeof v=="object"&&!Array.isArray(v)&&v!==null).indexOf(!1)==-1&&I.map(v=>Object.keys(v).map(k=>!(typeof v[k]=="object"&&!Array.isArray(v[k])&&v[k]!==null)&&!Array.isArray(v[k])).indexOf(!1)==-1).indexOf(!1)==-1)i.setTextarea(i.damonUtils.jsonToDamonTable(_,"dict-rows").replaceAll(`: null
`,`
`).slice(0,-6));else if(typeof I=="object"&&!Array.isArray(I)&&I!==null&&Object.keys(I).map(v=>I[v]!==null).indexOf(!0)>-1&&Object.keys(I).map(v=>typeof I[v]=="object"&&!Array.isArray(I[v])&&I[v]!==null||I[v]===null).indexOf(!1)==-1&&Object.keys(I).map(v=>I[v]===null||Object.keys(I[v]).map(k=>!(typeof v[k]=="object"&&!Array.isArray(v[k])&&v[k]!==null)&&!Array.isArray(v[k])).indexOf(!1)==-1).indexOf(!1)==-1){let v=i.damon.jsonToMap(_);v.headless=!0,i.setTextarea(i.damon.mapToDamon(v).replaceAll(`: null
`,`
`).slice(0,-6))}else{let k=function(L){if(typeof L[0]=="string")for(let U=0,M=L.length;U<M;U++)Array.isArray(L[U])?k(L[U]):typeof L[U]=="object"&&!Array.isArray(L[U])&&L[U]!==null&&(v=!1);else v=!1};var K=k;let v=!0;if(Array.isArray(I)?k(I):v=!1,v)i.setTextarea(i.damonUtils.sExpressionToDamon(_).replaceAll(`: null
`,`
`).slice(0,-6));else{let L=i.damon.jsonToMap(_);typeof L=="object"&&L!==null&&!Array.isArray(L)&&L instanceof Map&&L.constructor===Map&&(L.headless=!0),i.setTextarea(i.damon.mapToDamon(L))}}A(),b();return}catch{try{i.damon.damonToMap(_)}catch{let k=_,L=/\r\n/.test(k)?`\r
`:`
`,U=k.split(L);if(L==`
`&&/\\*\n/.test(k)){if(/[^\\]\\(\\\\)*\n/.test(k)){let D=k.split(/[^\\]\\(\\\\)*\n/)[0].split(`
`).length,ne=new Error("Error line "+D+": oddly escaped newline");console.log(ne)}U=k.split("").reverse().join("").split(/\n/).map(D=>D.split("").reverse().join("")).reverse()}try{i.setTextarea(i.damonUtils.csvToDamonTable(_)),A(),b();return}catch(M){console.log(M)}}}let o=_.split(`
`),l=p,C=0,w=0;for(let I=0,v=o.length;I<v;I++)if(C+o[I].length+I<l)C+=o[I].length;else{C+=I,w=I;break}let O=[w,p-C],$=o[w].slice(0);if(_=i.formatIndentation(_),o=_.split(`
`),i.textarea.value!==_){let I=o.slice(0,w+1).join(`
`).length-$.length+O[1];i.setTextarea(_,I),A(),b()}}i.textarea.addEventListener("input",A),i.editor.addEventListener("scroll",b);function A(){document.activeElement==i.textarea&&(i.update(),i.debounceHistoryUpdate(),i.updateCurrentLine(),i.updateHorizontalScroll(),i.updateCaret(),i.debounceLint())}function b(E){i.virtualScroller.scrollHandler()}window.spaceResizeTimeout=null;function N(E){console.log("B"),spaceResizeTimeout&&clearTimeout(spaceResizeTimeout),window.spaceResizeTimeout=setTimeout(function(){let g=i.editor.scrollTop;i.gutter.innerHTML="",i.overlay.firstElementChild.innerHTML="",i.initialized=!1,i.virtualScroller.inputHandler(),i.initialized=!0,i.editor.scrollTop=g},100)}})});var Yr=Te((ai,Kr)=>{var ii=zt(),Lt=Vt(),Pn=_r(),Bn=xt(),Jn=Vr();Kr.exports=class{constructor(e,r){let n=this;n.dom=e,n.innerHTML="",n.editor={},n.gutter={},n.container={},n.overlay={},n.textarea={},n.caretPadding={},n.caret={},n.statusBar={},n.copyButton={},n.diffButton={},n.prism=window.Prism,n.indentation="    ",n.currentLine=0,n.history=[],n.historyPosition=0,n.historyUpdateTimeoutId,n.lintTimeoutId,n.lastTextareaValue="",n.lastSelection="",n.initialized=!1,n.virtualScroller={},n.damon=new Pn,n.damonUtils=new Jn(n.damon),n.utils=Lt}init(){let e=this;e.statusBarHTML=Lt.html`
<div>
    Spaces: <a href="https://github.com/adrianturcev/space/blob/master/bindings.md"><kbd>SPACE</kbd></a>
</div>
<a href="https://github.com/adrianturcev/damon/blob/master/language_reference.md">
    DAMON
    <svg
    viewBox="0 0 24 24"
    xmlns="http://www.w3.org/2000/svg">
        <title>help-circle</title>
        <circle
            style="fill:#FEFEFE;stroke-width:1.04312;fill-opacity:1"
            cx="12"
            cy="12"
            r="9.6854191" />
        <path
            fill="#FEFEFE"
            d="M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"
            style="fill:#4169e1;fill-opacity:1" />
    </svg>
</a>
<button class="space-copyButton">
    JSON
    <svg
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg">
        <title>content-copy</title>
        <path
            fill="#FEFEFE"
            d="M 4,21 H 15 V 7 H 4 M 4,5 h 11 a -2,2 0 0 1 2,2 v 14 a -2,2 0 0 1 -2,2 H 4 A -2,2 0 0 1 2,21 V 7 A -2,2 0 0 1 4,5 M 7,1 h 12 a -2,2 0 0 1 2,2 V 17 H 19 V 3 H 7 Z"/>
    </svg>
</button>
<button class="space-diffButton">
    Diff
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <title>set-left-right</title>
        <path
            fill="#FEFEFE"
            d="M9,5C10.04,5 11.06,5.24 12,5.68C12.94,5.24 13.96,5 15,5A7,7 0 0,1 22,12A7,7 0 0,1 15,19C13.96,19 12.94,18.76 12,18.32C11.06,18.76 10.04,19 9,19A7,7 0 0,1 2,12A7,7 0 0,1 9,5M9,12C9,14.22 10.21,16.16 12,17.2C13.79,16.16 15,14.22 15,12C15,9.78 13.79,7.84 12,6.8C10.21,7.84 9,9.78 9,12Z" />
    </svg>
</button>`,e.innerHTML=Lt.html`
<div class="space-editor" data-state="js-off">
    <div class="space-gutter"></div>
    <div class="space-container">
<pre class="space-dummyTextarea"><span class="space-caretPadding"></span><span class="space-caret">&nbsp;</span></pre>
        <pre class="space-overlay" aria-hidden="true" tabindex="-1">
            <code class="language-damon"></code>
        </pre>
        <textarea
            class="space-textarea"
            placeholder="Paste JSON/CSV or write DAMON"
            spellcheck="false"
            aria-labelledby=""
            aria-controls="space-statusBar0"
            maxlength="500000">
        </textarea>
        <ul class="space-suggestions"></ul>
    </div>
</div>
<div class="space-statusBar" id="space-statusBar0" role="log" aria-live="polite">${e.statusBarHTML}</div>
        `;let r="";e.dom.innerHTML!==e.innerHTML&&(e.dom.getElementsByTagName("textarea")[0]!==void 0&&(r=e.dom.getElementsByTagName("textarea")[0].innerHTML),e.dom.innerHTML=e.innerHTML),e.editor=e.dom.getElementsByClassName("space-editor")[0],e.gutter=e.dom.getElementsByClassName("space-gutter")[0],e.container=e.dom.getElementsByClassName("space-container")[0],e.overlay=e.dom.getElementsByClassName("space-overlay")[0],e.textarea=e.dom.getElementsByClassName("space-textarea")[0],e.textarea.innerHTML=r,e.caretPadding=e.dom.getElementsByClassName("space-caretPadding")[0],e.caret=e.dom.getElementsByClassName("space-caret")[0],e.statusBar=e.dom.getElementsByClassName("space-statusBar")[0],e.copyButton=e.dom.getElementsByClassName("space-copyButton")[0],e.diffButton=e.dom.getElementsByClassName("space-copyButton")[0],e.virtualScroller=new Bn(this),e.editor.dataset.state="",e.textarea.value=e.formatIndentation(e.textarea.value.replaceAll(/\r/g,""));let n=e.prism.languages.damon;e.prism.hooks.run("before-highlight",{grammar:n}),e.historyUpdate(),e.routes=Wr()(this),e.update(),e.updateCurrentLine(),e.lastTextareaValue=e.textarea.value,e.initialized=!0,e.lint()}update(){let e=this;e.initialized&&e.lastTextareaValue==e.textarea.value||(e.gutter.children.length==0?e.virtualScroller.init(0):e.virtualScroller.inputHandler(),e.initialized&&(e.lastTextareaValue=e.textarea.value))}updateHorizontalScroll(){let e=this;if(document.activeElement==e.textarea){let r=e.textarea.value.split(`
`),n=0,t=e.gutter.children[0].children[0].getBoundingClientRect().width;for(let a=0,s=r.length;a<s&&n+r[a].length<e.textarea.selectionEnd;a++)n+=r[a].length+1;(e.textarea.selectionEnd-n)*t-e.gutter.clientWidth<=e.editor.scrollLeft&&(e.editor.scrollLeft=0)}}getCurrentLine(){let e=this,r=e.textarea.value.split(`
`),n=0,t=0,a=0;(e.textarea.selectionDirection=="forward"||e.textarea.selectionStart==e.textarea.selectionEnd)&&(n=e.textarea.selectionEnd),e.textarea.selectionDirection=="backward"&&(n=e.textarea.selectionStart);for(let s=0,f=r.length;s<f;s++)if(t+r[s].length+s<n)t+=r[s].length;else{a=s;break}return a}getSelectionStartCoordinates(){let e=this,r=e.textarea.value.split(`
`),n=e.textarea.selectionStart,t=0,a=0;for(let s=0,f=r.length;s<f;s++)if(t+r[s].length+s<n)t+=r[s].length;else{t+=s,a=s;break}return[a,e.textarea.selectionStart-t]}getSelectionEndCoordinates(){let e=this,r=e.textarea.value.split(`
`),n=e.textarea.selectionEnd,t=0,a=0;for(let s=0,f=r.length;s<f;s++)if(t+r[s].length+s<n)t+=r[s].length;else{t+=s,a=s;break}return[a,e.textarea.selectionEnd-t]}setCarretAt(e,r){let n=this;r==null&&(r=n.textarea.value.split(`
`)[e].length);let t=Math.min(r,n.textarea.value.split(`
`)[e].length);e==0?n.textarea.selectionStart=t:n.textarea.selectionStart=n.textarea.value.split(`
`).slice(0,e).reduce(function(a,s){return a+s}).length+e+t,n.textarea.selectionEnd=n.textarea.selectionStart,n.textarea.focus()}getTextareaSelection(){let e=this;return e.textarea.selectionStart<e.textarea.selectionEnd?e.textarea.value.slice(e.textarea.selectionStart,e.textarea.selectionEnd):e.textarea.selectionStart<e.textarea.selectionEnd?e.textarea.value.slice(e.textarea.selectionEnd,e.textarea.selectionStart):void 0}updateCurrentLine(e){let r=this,n=r.currentLine;if(r.currentLine=r.getCurrentLine(),n!=r.currentLine||!r.initialized||e||r.lastSelection!=null&&r.getTextareaSelection()==null){for(let a=0,s=r.gutter.children.length;a<s;a++)r.gutter.children[a].classList.remove("currentLine"),r.gutter.children[a].classList.remove("selectionEnd");r.gutter.children[r.currentLine-r.gutter.children[0].textContent.trim()+1]&&(r.textarea.selectionEnd==r.textarea.selectionStart?r.gutter.children[r.currentLine-r.gutter.children[0].textContent.trim()+1].classList.add("currentLine"):r.gutter.children[r.currentLine-r.gutter.children[0].textContent.trim()+1].classList.add("selectionEnd"))}}historyUpdate(){let e=this;if(e.history.length==0||e.textarea.value!=e.history[e.historyPosition-1][0]){let n=function(t,a){return t+a[0]+a[1]};var r=n;if(e.history.length==1){let t=e.textarea.selectionStart-(e.textarea.value.length-e.history[0][0].length);e.history[0][0].length>e.textarea.value.length&&(t=e.textarea.selectionStart-(e.history[0][0].length-e.textarea.value.length)),e.history.push([e.history[0][0],t]),e.historyPosition++}if(e.historyPosition!=e.history.length&&(e.history=e.history.slice(0,e.historyPosition)),e.history.push([e.textarea.value,e.textarea.selectionStart]),e.history.reduce(n,"").length*4>1e8){let t=0;for(;e.history.reduce(n,"").length*4>1e8;)t++,e.history.shift();e.historyPosition-=t}e.historyPosition++}}debounceHistoryUpdate(){var e=this,r=arguments;clearTimeout(this.historyUpdateTimeoutId),this.historyUpdateTimeoutId=setTimeout(function(){e.historyUpdateTimeoutId=null,e.historyUpdate.apply(e,r)},200)}formatIndentation(e){let r=this,n=e.split(`
`);for(let t=0,a=n.length;t<a;t++){if(/^ *(\t)+/.test(n[t])){let s=n[t].match(/^ *(\t)+/)[0].length;for(let f=0,m=s;f<m;f++)n[t]=n[t].replace("	","    ")}if(/^( )+/.test(n[t])&&n[t].match(/^( )+/)[0].length%4!==0){for(let s=n[t].match(/^( )+/)[0].length;0<=s;s--)if(s%4==0){n[t].trimStart(),n[t]=" ".repeat(s)+n[t];break}}}return n.join(`
`)}formatHyphens(e){let r=this,n=e.split(`
`);for(let t=0,a=n.length;t<a;t++)if(!/^ *- /.test(n[t])){let s="";/^ /.test(n[t])&&(s=n[t].match(/^( )+/)[0]),n[t]=s+"- "+n[t].slice(s.length)}return n.join(`
`)}updateCaret(){let e=this;e.textarea.selectionDirection=="forward"||e.textarea.selectionStart==e.textarea.selectionEnd?e.caretPadding.textContent=e.textarea.value.slice(0,e.textarea.selectionEnd):e.caretPadding.textContent=e.textarea.value.slice(0,e.textarea.selectionStart)}setTextarea(e,r,n=r){let t=this;t.lastTextareaValue=t.textarea.value,t.textarea.value=e,r!==null&&t.textarea.setSelectionRange(r,n)}lint(){let e=this;try{e.damon.damonToMap(e.textarea.value),e.statusBar.innerHTML=e.statusBarHTML}catch(r){r.language=="JSON"?e.statusBar.innerHTML="<span>( ! ) Error line number "+r.line+": "+r.type+" not JSON-compliant</span>"+e.statusBarHTML:e.statusBar.innerHTML="<span>( ! ) "+r.message+"</span>"+e.statusBarHTML,console.error(r)}e.copyButton=e.dom.getElementsByClassName("space-copyButton")[0],e.copyButton.addEventListener("click",function(r){let n=document.createElement("textarea");n.style.opacity="0";try{n.value=e.damon.damonToJSON(e.textarea.value)}catch{setTimeout(function(){e.copyButton.classList.remove("error")},1100),e.copyButton.classList.add("error");return}document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy")&&(setTimeout(function(){e.copyButton.classList.remove("success")},1100),e.copyButton.classList.add("success"))}catch(t){console.error(t.name,t.message)}document.body.removeChild(n)}),e.diffButton=e.dom.getElementsByClassName("space-diffButton")[0],e.diffButton.addEventListener("click",function(r){try{e.damon.damonToMap(e.textarea.value)}catch{alert("Invalid initial value.");return}e.diff(r)})}diff(e){let r=this;if(r.dom.getElementsByTagName("form").length||r.dom.getElementsByClassName("space-diff").length)return;let n=document.createElement("form"),t=document.createElement("div"),a=document.createElement("input"),s=document.createElement("label"),f=document.createElement("textarea"),m=document.createElement("button");a.type="checkbox",a.id="spaceDiffSortCheckbox",a.name="sort",s.textContent="Sort",s.setAttribute("for","spaceDiffSortCheckbox"),f.className="space-diffTextarea",n.style.position="absolute",f.placeholder="Paste DAMON or JSON.",m.textContent="Close",m.addEventListener("click",function(c){n.remove()}),t.appendChild(a),t.appendChild(s),n.appendChild(t),n.appendChild(f),n.appendChild(m),r.dom.appendChild(n),f.focus(),f.addEventListener("paste",function(c){let h=r.formatIndentation(c.clipboardData.getData("text").replace(new RegExp(/\r/g),"")),u="",y,d;try{y=r.damon.damonToMap(r.textarea.value)}catch{n.remove(),alert("Invalid initial value.");return}try{JSON.parse(h),d=r.damon.jsonToMap(h)}catch{try{d=r.damon.damonToMap(h)}catch{n.remove(),alert("Invalid clipboard value.");return}}a.checked&&(d=r.damonUtils.sortMap(y,d)),u=r.damonUtils.renderDiff(y,d);let A=document.createElement("div"),b=document.createElement("button");A.className="space-diff",A.innerHTML=u.innerHTML,b.textContent="Close",r.damonUtils.wrapListContentsForStyling(A.getElementsByTagName("li")),A.appendChild(b),r.dom.append(A),b.addEventListener("click",function(N){A.remove()}),r.damonUtils.addLineNumbers(r.textarea.value,A),n.remove()})}debounceLint(){var e=this,r=arguments;clearTimeout(this.lintTimeoutId),this.lintTimeoutId=setTimeout(function(){e.lintTimeoutId=null,e.lint.apply(e,r)},200)}}});(function(){window.Space=Yr()})();})();
/*! Bundled license information:

dompurify/dist/purify.cjs.js:
  (*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE *)

papaparse/papaparse.min.js:
  (* @license
  Papa Parse
  v5.5.3
  https://github.com/mholt/PapaParse
  License: MIT
  *)
*/
