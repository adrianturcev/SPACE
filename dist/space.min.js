/* PrismJS 1.28.0
https://prismjs.com/download.html#themes=prism-okaidia&languages=json&plugins=show-invisibles+normalize-whitespace */
var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(e){var n=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,t=0,r={},a={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(n){return n instanceof i?new i(n.type,e(n.content),n.alias):Array.isArray(n)?n.map(e):n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function e(n,t){var r,i;switch(t=t||{},a.util.type(n)){case"Object":if(i=a.util.objId(n),t[i])return t[i];for(var l in r={},t[i]=r,n)n.hasOwnProperty(l)&&(r[l]=e(n[l],t));return r;case"Array":return i=a.util.objId(n),t[i]?t[i]:(r=[],t[i]=r,n.forEach((function(n,a){r[a]=e(n,t)})),r);default:return n}},getLanguage:function(e){for(;e;){var t=n.exec(e.className);if(t)return t[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,t){e.className=e.className.replace(RegExp(n,"gi"),""),e.classList.add("language-"+t)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(r.stack)||[])[1];if(e){var n=document.getElementsByTagName("script");for(var t in n)if(n[t].src==e)return n[t]}return null}},isActive:function(e,n,t){for(var r="no-"+n;e;){var a=e.classList;if(a.contains(n))return!0;if(a.contains(r))return!1;e=e.parentElement}return!!t}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,n){var t=a.util.clone(a.languages[e]);for(var r in n)t[r]=n[r];return t},insertBefore:function(e,n,t,r){var i=(r=r||a.languages)[e],l={};for(var o in i)if(i.hasOwnProperty(o)){if(o==n)for(var s in t)t.hasOwnProperty(s)&&(l[s]=t[s]);t.hasOwnProperty(o)||(l[o]=i[o])}var u=r[e];return r[e]=l,a.languages.DFS(a.languages,(function(n,t){t===u&&n!=e&&(this[n]=l)})),l},DFS:function e(n,t,r,i){i=i||{};var l=a.util.objId;for(var o in n)if(n.hasOwnProperty(o)){t.call(n,o,n[o],r||o);var s=n[o],u=a.util.type(s);"Object"!==u||i[l(s)]?"Array"!==u||i[l(s)]||(i[l(s)]=!0,e(s,t,o,i)):(i[l(s)]=!0,e(s,t,null,i))}}},plugins:{},highlightAll:function(e,n){a.highlightAllUnder(document,e,n)},highlightAllUnder:function(e,n,t){var r={callback:t,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),a.hooks.run("before-all-elements-highlight",r);for(var i,l=0;i=r.elements[l++];)a.highlightElement(i,!0===n,r.callback)},highlightElement:function(n,t,r){var i=a.util.getLanguage(n),l=a.languages[i];a.util.setLanguage(n,i);var o=n.parentElement;o&&"pre"===o.nodeName.toLowerCase()&&a.util.setLanguage(o,i);var s={element:n,language:i,grammar:l,code:n.textContent};function u(e){s.highlightedCode=e,a.hooks.run("before-insert",s),s.element.innerHTML=s.highlightedCode,a.hooks.run("after-highlight",s),a.hooks.run("complete",s),r&&r.call(s.element)}if(a.hooks.run("before-sanity-check",s),(o=s.element.parentElement)&&"pre"===o.nodeName.toLowerCase()&&!o.hasAttribute("tabindex")&&o.setAttribute("tabindex","0"),!s.code)return a.hooks.run("complete",s),void(r&&r.call(s.element));if(a.hooks.run("before-highlight",s),s.grammar)if(t&&e.Worker){var c=new Worker(a.filename);c.onmessage=function(e){u(e.data)},c.postMessage(JSON.stringify({language:s.language,code:s.code,immediateClose:!0}))}else u(a.highlight(s.code,s.grammar,s.language));else u(a.util.encode(s.code))},highlight:function(e,n,t){var r={code:e,grammar:n,language:t};if(a.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=a.tokenize(r.code,r.grammar),a.hooks.run("after-tokenize",r),i.stringify(a.util.encode(r.tokens),r.language)},tokenize:function(e,n){var t=n.rest;if(t){for(var r in t)n[r]=t[r];delete n.rest}var a=new s;return u(a,a.head,e),o(e,a,n,a.head,0),function(e){for(var n=[],t=e.head.next;t!==e.tail;)n.push(t.value),t=t.next;return n}(a)},hooks:{all:{},add:function(e,n){var t=a.hooks.all;t[e]=t[e]||[],t[e].push(n)},run:function(e,n){var t=a.hooks.all[e];if(t&&t.length)for(var r,i=0;r=t[i++];)r(n)}},Token:i};function i(e,n,t,r){this.type=e,this.content=n,this.alias=t,this.length=0|(r||"").length}function l(e,n,t,r){e.lastIndex=n;var a=e.exec(t);if(a&&r&&a[1]){var i=a[1].length;a.index+=i,a[0]=a[0].slice(i)}return a}function o(e,n,t,r,s,g){for(var f in t)if(t.hasOwnProperty(f)&&t[f]){var h=t[f];h=Array.isArray(h)?h:[h];for(var d=0;d<h.length;++d){if(g&&g.cause==f+","+d)return;var v=h[d],p=v.inside,m=!!v.lookbehind,y=!!v.greedy,k=v.alias;if(y&&!v.pattern.global){var x=v.pattern.toString().match(/[imsuy]*$/)[0];v.pattern=RegExp(v.pattern.source,x+"g")}for(var b=v.pattern||v,w=r.next,A=s;w!==n.tail&&!(g&&A>=g.reach);A+=w.value.length,w=w.next){var E=w.value;if(n.length>e.length)return;if(!(E instanceof i)){var P,L=1;if(y){if(!(P=l(b,A,e,m))||P.index>=e.length)break;var S=P.index,O=P.index+P[0].length,j=A;for(j+=w.value.length;S>=j;)j+=(w=w.next).value.length;if(A=j-=w.value.length,w.value instanceof i)continue;for(var C=w;C!==n.tail&&(j<O||"string"==typeof C.value);C=C.next)L++,j+=C.value.length;L--,E=e.slice(A,j),P.index-=A}else if(!(P=l(b,0,E,m)))continue;S=P.index;var N=P[0],_=E.slice(0,S),M=E.slice(S+N.length),W=A+E.length;g&&W>g.reach&&(g.reach=W);var z=w.prev;if(_&&(z=u(n,z,_),A+=_.length),c(n,z,L),w=u(n,z,new i(f,p?a.tokenize(N,p):N,k,N)),M&&u(n,w,M),L>1){var I={cause:f+","+d,reach:W};o(e,n,t,w.prev,A,I),g&&I.reach>g.reach&&(g.reach=I.reach)}}}}}}function s(){var e={value:null,prev:null,next:null},n={value:null,prev:e,next:null};e.next=n,this.head=e,this.tail=n,this.length=0}function u(e,n,t){var r=n.next,a={value:t,prev:n,next:r};return n.next=a,r.prev=a,e.length++,a}function c(e,n,t){for(var r=n.next,a=0;a<t&&r!==e.tail;a++)r=r.next;n.next=r,r.prev=n,e.length-=a}if(e.Prism=a,i.stringify=function e(n,t){if("string"==typeof n)return n;if(Array.isArray(n)){var r="";return n.forEach((function(n){r+=e(n,t)})),r}var i={type:n.type,content:e(n.content,t),tag:"span",classes:["token",n.type],attributes:{},language:t},l=n.alias;l&&(Array.isArray(l)?Array.prototype.push.apply(i.classes,l):i.classes.push(l)),a.hooks.run("wrap",i);var o="";for(var s in i.attributes)o+=" "+s+'="'+(i.attributes[s]||"").replace(/"/g,"&quot;")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+o+">"+i.content+"</"+i.tag+">"},!e.document)return e.addEventListener?(a.disableWorkerMessageHandler||e.addEventListener("message",(function(n){var t=JSON.parse(n.data),r=t.language,i=t.code,l=t.immediateClose;e.postMessage(a.highlight(i,a.languages[r],r)),l&&e.close()}),!1),a):a;var g=a.util.currentScript();function f(){a.manual||a.highlightAll()}if(g&&(a.filename=g.src,g.hasAttribute("data-manual")&&(a.manual=!0)),!a.manual){var h=document.readyState;"loading"===h||"interactive"===h&&g&&g.defer?document.addEventListener("DOMContentLoaded",f):window.requestAnimationFrame?window.requestAnimationFrame(f):window.setTimeout(f,16)}return a}(_self);"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism);
Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},Prism.languages.webmanifest=Prism.languages.json;
!function(){if("undefined"!=typeof Prism){var r={tab:/\t/,crlf:/\r\n/,lf:/\n/,cr:/\r/,space:/ /};Prism.hooks.add("before-highlight",(function(r){i(r.grammar)}))}function e(r,a){var n=r[a];switch(Prism.util.type(n)){case"RegExp":var t={};r[a]={pattern:n,inside:t},i(t);break;case"Array":for(var f=0,s=n.length;f<s;f++)e(n,f);break;default:i(t=n.inside||(n.inside={}))}}function i(a){if(a&&!a.tab){for(var n in r)r.hasOwnProperty(n)&&(a[n]=r[n]);for(var n in a)a.hasOwnProperty(n)&&!r[n]&&("rest"===n?i(a.rest):e(a,n))}}}();
!function(){if("undefined"!=typeof Prism){var e=Object.assign||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},t={"remove-trailing":"boolean","remove-indent":"boolean","left-trim":"boolean","right-trim":"boolean","break-lines":"number",indent:"number","remove-initial-line-feed":"boolean","tabs-to-spaces":"number","spaces-to-tabs":"number"};n.prototype={setDefaults:function(t){this.defaults=e(this.defaults,t)},normalize:function(t,n){for(var r in n=e(this.defaults,n)){var i=r.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}));"normalize"!==r&&"setDefaults"!==i&&n[r]&&this[i]&&(t=this[i].call(this,t,n[r]))}return t},leftTrim:function(e){return e.replace(/^\s+/,"")},rightTrim:function(e){return e.replace(/\s+$/,"")},tabsToSpaces:function(e,t){return t=0|t||4,e.replace(/\t/g,new Array(++t).join(" "))},spacesToTabs:function(e,t){return t=0|t||4,e.replace(RegExp(" {"+t+"}","g"),"\t")},removeTrailing:function(e){return e.replace(/\s*?$/gm,"")},removeInitialLineFeed:function(e){return e.replace(/^(?:\r?\n|\r)/,"")},removeIndent:function(e){var t=e.match(/^[^\S\n\r]*(?=\S)/gm);return t&&t[0].length?(t.sort((function(e,t){return e.length-t.length})),t[0].length?e.replace(RegExp("^"+t[0],"gm"),""):e):e},indent:function(e,t){return e.replace(/^[^\S\n\r]*(?=\S)/gm,new Array(++t).join("\t")+"$&")},breakLines:function(e,t){t=!0===t?80:0|t||80;for(var n=e.split("\n"),i=0;i<n.length;++i)if(!(r(n[i])<=t)){for(var o=n[i].split(/(\s+)/g),a=0,l=0;l<o.length;++l){var s=r(o[l]);(a+=s)>t&&(o[l]="\n"+o[l],a=s)}n[i]=o.join("")}return n.join("\n")}},"undefined"!=typeof module&&module.exports&&(module.exports=n),Prism.plugins.NormalizeWhitespace=new n({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0}),Prism.hooks.add("before-sanity-check",(function(e){var n=Prism.plugins.NormalizeWhitespace;if((!e.settings||!1!==e.settings["whitespace-normalization"])&&Prism.util.isActive(e.element,"whitespace-normalization",!0))if(e.element&&e.element.parentNode||!e.code){var r=e.element.parentNode;if(e.code&&r&&"pre"===r.nodeName.toLowerCase()){for(var i in null==e.settings&&(e.settings={}),t)if(Object.hasOwnProperty.call(t,i)){var o=t[i];if(r.hasAttribute("data-"+i))try{var a=JSON.parse(r.getAttribute("data-"+i)||"true");typeof a===o&&(e.settings[i]=a)}catch(e){}}for(var l=r.childNodes,s="",c="",u=!1,m=0;m<l.length;++m){var f=l[m];f==e.element?u=!0:"#text"===f.nodeName&&(u?c+=f.nodeValue:s+=f.nodeValue,r.removeChild(f),--m)}if(e.element.children.length&&Prism.plugins.KeepMarkup){var d=s+e.element.innerHTML+c;e.element.innerHTML=n.normalize(d,e.settings),e.code=e.element.textContent}else e.code=s+e.code+c,e.code=n.normalize(e.code,e.settings)}}else e.code=n.normalize(e.code,e.settings)}))}function n(t){this.defaults=e({},t)}function r(e){for(var t=0,n=0;n<e.length;++n)e.charCodeAt(n)=="\t".charCodeAt(0)&&(t+=3);return e.length+t}}();
;
Prism.languages.damon = {
	'list-hyphen': {
		pattern: /(^\s*)(?:[*-]|\d+\.)/m,
		lookbehind: true,
		greedy: true
	},
	'string': {
		pattern: /(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,
		lookbehind: true,
		greedy: true
	},
	'comment': {
		pattern: /\/\/.*|\/\*[\s\S]*?(?:\*\/|$)\n/,
		greedy: true
	},
	'number': /-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b\n/i,
	'operator': /:/,
	'boolean': /\b(?:false|true)\b\n/,
	'null': {
		pattern: /\bnull\b\n/,
		alias: 'keyword'
	},
	'map': {
		pattern: /(\{\})\n/,
	},
	'list': {
		pattern: /(\[\])\n/,
	},
	'punctuation': /[\{\}\[\]]/,
};

Prism.languages.webmanifest = Prism.languages.damon;;
(()=>{var hn=Object.create;var De=Object.defineProperty;var pn=Object.getOwnPropertyDescriptor;var mn=Object.getOwnPropertyNames;var gn=Object.getPrototypeOf,yn=Object.prototype.hasOwnProperty;var En=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var xn=(r,e)=>()=>(r&&(e=r(r=0)),e);var ae=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),wn=(r,e)=>{for(var t in e)De(r,t,{get:e[t],enumerable:!0})},Gt=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of mn(e))!yn.call(r,n)&&n!==t&&De(r,n,{get:()=>e[n],enumerable:!(i=pn(e,n))||i.enumerable});return r};var je=(r,e,t)=>(t=r!=null?hn(gn(r)):{},Gt(e||!r||!r.__esModule?De(t,"default",{value:r,enumerable:!0}):t,r)),On=r=>Gt(De({},"__esModule",{value:!0}),r);var Vt=ae((Mn,Wt)=>{Wt.exports={nil(r){return r===null||typeof r>"u"},hack(r,e,t){return r.slice(e,t+1)},pick(r,e){return r.filter(e)},prune(r,e){return r.filter(function(t){return!e(t)})},check(r,e){return r.every(e)},escape(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},html(r){let e=r[0],t=Math.max(r.length,arguments.length-1);for(let i=1;i<r.length;i++)e+=arguments[i],e+=r[i];return e},addDataState(r,e){let t=[];r.dataset.state&&r.dataset.state.indexOf(" ")>-1?t=r.dataset.state.split(" "):t=[r.dataset.state],t.indexOf(e)===-1&&(t.push(e),r.dataset.state=t.join(" "))},removeDataState(r,e){let t=[];r.dataset.state&&r.dataset.state.indexOf(" ")>-1?t=r.dataset.state.split(" "):t=[r.dataset.state],r.dataset.state=t.filter(i=>i!==e).join(" ")},replaceDataState(r,e,t){this.removeDataState(r,e),this.addDataState(r,t)},toggleDataState(r,e){r.dataset.state.split(" ").indexOf(e)==-1?this.addDataState(r,e):this.removeDataState(r,e)},ajaxGet(r,e,t,i){var n=new XMLHttpRequest;n.open("GET",r),n.addEventListener("load",function(){if(n.status>=200&&n.status<400)if(t){var a={};try{a=JSON.parse(n.responseText)}catch{console.error("Get request returned invalid JSON.")}i===void 0?e(a):e.apply(i,[a])}else i===void 0?e(n.responseText):e.apply(i,[n.responseText]);else console.error(n.status+" "+n.statusText+" "+r)}),n.addEventListener("error",function(){console.error("Network error trying to access: "+r)}),n.send(null)},ajaxPost(r,e,t,i,n,a,u){var s=new XMLHttpRequest;s.open("POST",r),s.addEventListener("load",function(){s.status>=200&&s.status<400?a===void 0?t(s):t.apply(a,[s]):(u===void 0?i(s):i.apply(u,[s]),console.error(s.status+" "+s.statusText+" "+r))}),s.addEventListener("error",function(){console.error("Network error trying to access: "+r)}),n&&(s.setRequestHeader("Content-Type","application/json"),e=JSON.stringify(e)),s.send(e)}}});var mr={};wn(mr,{__addDisposableResource:()=>hr,__assign:()=>Ie,__asyncDelegator:()=>ar,__asyncGenerator:()=>ir,__asyncValues:()=>lr,__await:()=>pe,__awaiter:()=>Qt,__classPrivateFieldGet:()=>cr,__classPrivateFieldIn:()=>dr,__classPrivateFieldSet:()=>fr,__createBinding:()=>Me,__decorate:()=>Kt,__disposeResources:()=>pr,__esDecorate:()=>bn,__exportStar:()=>er,__extends:()=>qt,__generator:()=>jt,__importDefault:()=>ur,__importStar:()=>sr,__makeTemplateObject:()=>or,__metadata:()=>Zt,__param:()=>Xt,__propKey:()=>Tn,__read:()=>tt,__rest:()=>Yt,__runInitializers:()=>Ln,__setFunctionName:()=>Nn,__spread:()=>tr,__spreadArray:()=>nr,__spreadArrays:()=>rr,__values:()=>Pe,default:()=>An});function qt(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");et(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function Yt(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t}function Kt(r,e,t,i){var n=arguments.length,a=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,e,t,i);else for(var s=r.length-1;s>=0;s--)(u=r[s])&&(a=(n<3?u(a):n>3?u(e,t,a):u(e,t))||a);return n>3&&a&&Object.defineProperty(e,t,a),a}function Xt(r,e){return function(t,i){e(t,i,r)}}function bn(r,e,t,i,n,a){function u(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var s=i.kind,d=s==="getter"?"get":s==="setter"?"set":"value",c=!e&&r?i.static?r:r.prototype:null,p=e||(c?Object.getOwnPropertyDescriptor(c,i.name):{}),o,x=!1,m=t.length-1;m>=0;m--){var g={};for(var h in i)g[h]=h==="access"?{}:i[h];for(var h in i.access)g.access[h]=i.access[h];g.addInitializer=function(T){if(x)throw new TypeError("Cannot add initializers after decoration has completed");a.push(u(T||null))};var b=(0,t[m])(s==="accessor"?{get:p.get,set:p.set}:p[d],g);if(s==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(o=u(b.get))&&(p.get=o),(o=u(b.set))&&(p.set=o),(o=u(b.init))&&n.unshift(o)}else(o=u(b))&&(s==="field"?n.unshift(o):p[d]=o)}c&&Object.defineProperty(c,i.name,p),x=!0}function Ln(r,e,t){for(var i=arguments.length>2,n=0;n<e.length;n++)t=i?e[n].call(r,t):e[n].call(r);return i?t:void 0}function Tn(r){return typeof r=="symbol"?r:"".concat(r)}function Nn(r,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function Zt(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function Qt(r,e,t,i){function n(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function s(p){try{c(i.next(p))}catch(o){u(o)}}function d(p){try{c(i.throw(p))}catch(o){u(o)}}function c(p){p.done?a(p.value):n(p.value).then(s,d)}c((i=i.apply(r,e||[])).next())})}function jt(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,n,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(p){return d([c,p])}}function d(c){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(t=0)),t;)try{if(i=1,n&&(a=c[0]&2?n.return:c[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,c[1])).done)return a;switch(n=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,n=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(p){c=[6,p],n=0}finally{i=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function er(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Me(e,r,t)}function Pe(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function tt(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,a=[],u;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){u={error:s}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(u)throw u.error}}return a}function tr(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(tt(arguments[e]));return r}function rr(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var i=Array(r),n=0,e=0;e<t;e++)for(var a=arguments[e],u=0,s=a.length;u<s;u++,n++)i[n]=a[u];return i}function nr(r,e,t){if(t||arguments.length===2)for(var i=0,n=e.length,a;i<n;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return r.concat(a||Array.prototype.slice.call(e))}function pe(r){return this instanceof pe?(this.v=r,this):new pe(r)}function ir(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(r,e||[]),n,a=[];return n={},s("next"),s("throw"),s("return",u),n[Symbol.asyncIterator]=function(){return this},n;function u(m){return function(g){return Promise.resolve(g).then(m,o)}}function s(m,g){i[m]&&(n[m]=function(h){return new Promise(function(b,T){a.push([m,h,b,T])>1||d(m,h)})},g&&(n[m]=g(n[m])))}function d(m,g){try{c(i[m](g))}catch(h){x(a[0][3],h)}}function c(m){m.value instanceof pe?Promise.resolve(m.value.v).then(p,o):x(a[0][2],m)}function p(m){d("next",m)}function o(m){d("throw",m)}function x(m,g){m(g),a.shift(),a.length&&d(a[0][0],a[0][1])}}function ar(r){var e,t;return e={},i("next"),i("throw",function(n){throw n}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(n,a){e[n]=r[n]?function(u){return(t=!t)?{value:pe(r[n](u)),done:!1}:a?a(u):u}:a}}function lr(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof Pe=="function"?Pe(r):r[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(a){t[a]=r[a]&&function(u){return new Promise(function(s,d){u=r[a](u),n(s,d,u.done,u.value)})}}function n(a,u,s,d){Promise.resolve(d).then(function(c){a({value:c,done:s})},u)}}function or(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function sr(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Me(e,r,t);return _n(e,r),e}function ur(r){return r&&r.__esModule?r:{default:r}}function cr(r,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(r):i?i.value:e.get(r)}function fr(r,e,t,i,n){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?n.call(r,t):n?n.value=t:e.set(r,t),t}function dr(r,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?e===r:r.has(e)}function hr(r,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,n;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],t&&(n=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");n&&(i=function(){try{n.call(this)}catch(a){return Promise.reject(a)}}),r.stack.push({value:e,dispose:i,async:t})}else t&&r.stack.push({async:!0});return e}function pr(r){function e(i){r.error=r.hasError?new Sn(i,r.error,"An error was suppressed during disposal."):i,r.hasError=!0}function t(){for(;r.stack.length;){var i=r.stack.pop();try{var n=i.dispose&&i.dispose.call(i.value);if(i.async)return Promise.resolve(n).then(t,function(a){return e(a),t()})}catch(a){e(a)}}if(r.hasError)throw r.error}return t()}var et,Ie,Me,_n,Sn,An,gr=xn(()=>{et=function(r,e){return et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},et(r,e)};Ie=function(){return Ie=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ie.apply(this,arguments)};Me=Object.create?function(r,e,t,i){i===void 0&&(i=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,i,n)}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]};_n=Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e};Sn=typeof SuppressedError=="function"?SuppressedError:function(r,e,t){var i=new Error(t);return i.name="SuppressedError",i.error=r,i.suppressed=e,i};An={__extends:qt,__assign:Ie,__rest:Yt,__decorate:Kt,__param:Xt,__metadata:Zt,__awaiter:Qt,__generator:jt,__createBinding:Me,__exportStar:er,__values:Pe,__read:tt,__spread:tr,__spreadArrays:rr,__spreadArray:nr,__await:pe,__asyncGenerator:ir,__asyncDelegator:ar,__asyncValues:lr,__makeTemplateObject:or,__importStar:sr,__importDefault:ur,__classPrivateFieldGet:cr,__classPrivateFieldSet:fr,__classPrivateFieldIn:dr,__addDisposableResource:hr,__disposeResources:pr}});var yr=ae(rt=>{(function(r){"use strict";var e=typeof process=="object"&&process.env?process.env:self;r.parser=function(y){return new o(y)},r.CParser=o,r.CStream=m,r.createStream=x,r.MAX_BUFFER_LENGTH=64*1024,r.DEBUG=e.CDEBUG==="debug",r.INFO=e.CDEBUG==="debug"||e.CDEBUG==="info",r.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var t={textNode:void 0,numberNode:""},i=r.EVENTS.filter(function(y){return y!=="error"&&y!=="end"}),n=0,a;r.STATE={BEGIN:n++,VALUE:n++,OPEN_OBJECT:n++,CLOSE_OBJECT:n++,OPEN_ARRAY:n++,CLOSE_ARRAY:n++,TEXT_ESCAPE:n++,STRING:n++,BACKSLASH:n++,END:n++,OPEN_KEY:n++,CLOSE_KEY:n++,TRUE:n++,TRUE2:n++,TRUE3:n++,FALSE:n++,FALSE2:n++,FALSE3:n++,FALSE4:n++,NULL:n++,NULL2:n++,NULL3:n++,NUMBER_DECIMAL_POINT:n++,NUMBER_DIGIT:n++};for(var u in r.STATE)r.STATE[r.STATE[u]]=u;n=r.STATE;let s={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(y){function l(){this.__proto__=y}return l.prototype=y,new l}),Object.getPrototypeOf||(Object.getPrototypeOf=function(y){return y.__proto__}),Object.keys||(Object.keys=function(y){var l=[];for(var _ in y)y.hasOwnProperty(_)&&l.push(_);return l});function d(y){var l=Math.max(r.MAX_BUFFER_LENGTH,10),_=0;for(var E in t){var M=y[E]===void 0?0:y[E].length;if(M>l)switch(E){case"text":closeText(y);break;default:O(y,"Max buffer length exceeded: "+E)}_=Math.max(_,M)}y.bufferCheckPosition=r.MAX_BUFFER_LENGTH-_+y.position}function c(y){for(var l in t)y[l]=t[l]}var p=/[\\"\n]/g;function o(y){if(!(this instanceof o))return new o(y);var l=this;c(l),l.bufferCheckPosition=r.MAX_BUFFER_LENGTH,l.q=l.c=l.p="",l.opt=y||{},l.closed=l.closedRoot=l.sawRoot=!1,l.tag=l.error=null,l.state=n.BEGIN,l.stack=new Array,l.position=l.column=0,l.line=1,l.slashed=!1,l.unicodeI=0,l.unicodeS=null,l.depth=0,g(l,"onready")}o.prototype={end:function(){L(this)},write:C,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{a=En("stream").Stream}catch{a=function(){}}function x(y){return new m(y)}function m(y){if(!(this instanceof m))return new m(y);this._parser=new o(y),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var l=this;a.apply(l),this._parser.onend=function(){l.emit("end")},this._parser.onerror=function(_){l.emit("error",_),l._parser.error=null},i.forEach(function(_){Object.defineProperty(l,"on"+_,{get:function(){return l._parser["on"+_]},set:function(E){if(!E)return l.removeAllListeners(_),l._parser["on"+_]=E,E;l.on(_,E)},enumerable:!0,configurable:!1})})}m.prototype=Object.create(a.prototype,{constructor:{value:m}}),m.prototype.write=function(y){y=new Buffer(y);for(var l=0;l<y.length;l++){var _=y[l];if(this.bytes_remaining>0){for(var E=0;E<this.bytes_remaining;E++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+E]=y[E];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,l=l+E-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&_>=128)if(_>=194&&_<=223&&(this.bytes_in_sequence=2),_>=224&&_<=239&&(this.bytes_in_sequence=3),_>=240&&_<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+l>y.length){for(var M=0;M<=y.length-1-l;M++)this.temp_buffs[this.bytes_in_sequence][M]=y[l+M];return this.bytes_remaining=l+this.bytes_in_sequence-y.length,!0}else{this.string=y.slice(l,l+this.bytes_in_sequence).toString(),l=l+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var z=l;z<y.length&&!(y[z]>=128);z++);this.string=y.slice(l,z).toString(),this._parser.write(this.string),this.emit("data",this.string),l=z-1}},m.prototype.end=function(y){return y&&y.length&&this._parser.write(y.toString()),this._parser.end(),!0},m.prototype.on=function(y,l){var _=this;return!_._parser["on"+y]&&i.indexOf(y)!==-1&&(_._parser["on"+y]=function(){var E=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);E.splice(0,0,y),_.emit.apply(_,E)}),a.prototype.on.call(_,y,l)},m.prototype.destroy=function(){c(this._parser),this.emit("close")};function g(y,l,_){r.INFO&&console.log("-- emit",l,_),y[l]&&y[l](_)}function h(y,l,_){b(y),g(y,l,_)}function b(y,l){y.textNode=w(y.opt,y.textNode),y.textNode!==void 0&&g(y,l||"onvalue",y.textNode),y.textNode=void 0}function T(y){y.numberNode&&g(y,"onvalue",parseFloat(y.numberNode)),y.numberNode=""}function w(y,l){return l===void 0||(y.trim&&(l=l.trim()),y.normalize&&(l=l.replace(/\s+/g," "))),l}function O(y,l){return b(y),l+=`
Line: `+y.line+`
Column: `+y.column+`
Char: `+y.c,l=new Error(l),y.error=l,g(y,"onerror",l),y}function L(y){return(y.state!==n.VALUE||y.depth!==0)&&O(y,"Unexpected end"),b(y),y.c="",y.closed=!0,g(y,"onend"),o.call(y,y.opt),y}function S(y){return y===s.carriageReturn||y===s.lineFeed||y===s.space||y===s.tab}function C(y){var l=this;if(this.error)throw this.error;if(l.closed)return O(l,"Cannot write after close. Assign an onready handler.");if(y===null)return L(l);var _=0,E=y.charCodeAt(0),M=l.p,z=!1;for(r.DEBUG&&console.log("write -> ["+y+"]");E&&(M=E,l.c=E=y.charCodeAt(_++),M!==E?l.p=M:M=l.p,!!E);)switch(r.DEBUG&&console.log(_,E,r.STATE[l.state]),z?z=!1:(l.position++,E===s.lineFeed?(l.line++,l.column=0):l.column++),l.state){case n.BEGIN:E===s.openBrace?l.state=n.OPEN_OBJECT:E===s.openBracket?l.state=n.OPEN_ARRAY:S(E)||O(l,"Non-whitespace before {[.");continue;case n.OPEN_KEY:case n.OPEN_OBJECT:if(S(E))continue;if(l.state===n.OPEN_KEY)l.stack.push(n.CLOSE_KEY);else if(E===s.closeBrace){g(l,"onopenobject"),this.depth++,g(l,"oncloseobject"),this.depth--,l.state=l.stack.pop()||n.VALUE;continue}else l.stack.push(n.CLOSE_OBJECT);E===s.doubleQuote?l.state=n.STRING:O(l,'Malformed object key should start with "');continue;case n.CLOSE_KEY:case n.CLOSE_OBJECT:if(S(E))continue;var X=l.state===n.CLOSE_KEY?"key":"object";E===s.colon?(l.state===n.CLOSE_OBJECT?(l.stack.push(n.CLOSE_OBJECT),b(l,"onopenobject"),this.depth++):b(l,"onkey"),l.state=n.VALUE):E===s.closeBrace?(h(l,"oncloseobject"),this.depth--,l.state=l.stack.pop()||n.VALUE):E===s.comma?(l.state===n.CLOSE_OBJECT&&l.stack.push(n.CLOSE_OBJECT),b(l),l.state=n.OPEN_KEY):O(l,"Bad object");continue;case n.OPEN_ARRAY:case n.VALUE:if(S(E))continue;if(l.state===n.OPEN_ARRAY)if(g(l,"onopenarray"),this.depth++,l.state=n.VALUE,E===s.closeBracket){g(l,"onclosearray"),this.depth--,l.state=l.stack.pop()||n.VALUE;continue}else l.stack.push(n.CLOSE_ARRAY);E===s.doubleQuote?l.state=n.STRING:E===s.openBrace?l.state=n.OPEN_OBJECT:E===s.openBracket?l.state=n.OPEN_ARRAY:E===s.t?l.state=n.TRUE:E===s.f?l.state=n.FALSE:E===s.n?l.state=n.NULL:E===s.minus?l.numberNode+="-":s._0<=E&&E<=s._9?(l.numberNode+=String.fromCharCode(E),l.state=n.NUMBER_DIGIT):O(l,"Bad value");continue;case n.CLOSE_ARRAY:if(E===s.comma)l.stack.push(n.CLOSE_ARRAY),b(l,"onvalue"),l.state=n.VALUE;else if(E===s.closeBracket)h(l,"onclosearray"),this.depth--,l.state=l.stack.pop()||n.VALUE;else{if(S(E))continue;O(l,"Bad array")}continue;case n.STRING:l.textNode===void 0&&(l.textNode="");var k=_-1,Z=l.slashed,Q=l.unicodeI;e:for(;;){for(r.DEBUG&&console.log(_,E,r.STATE[l.state],Z);Q>0;)if(l.unicodeS+=String.fromCharCode(E),E=y.charCodeAt(_++),l.position++,Q===4?(l.textNode+=String.fromCharCode(parseInt(l.unicodeS,16)),Q=0,k=_-1):Q++,!E)break e;if(E===s.doubleQuote&&!Z){l.state=l.stack.pop()||n.VALUE,l.textNode+=y.substring(k,_-1),l.position+=_-1-k;break}if(E===s.backslash&&!Z&&(Z=!0,l.textNode+=y.substring(k,_-1),l.position+=_-1-k,E=y.charCodeAt(_++),l.position++,!E))break;if(Z){if(Z=!1,E===s.n?l.textNode+=`
`:E===s.r?l.textNode+="\r":E===s.t?l.textNode+="	":E===s.f?l.textNode+="\f":E===s.b?l.textNode+="\b":E===s.u?(Q=1,l.unicodeS=""):l.textNode+=String.fromCharCode(E),E=y.charCodeAt(_++),l.position++,k=_-1,E)continue;break}p.lastIndex=_;var ge=p.exec(y);if(ge===null){_=y.length+1,l.textNode+=y.substring(k,_-1),l.position+=_-1-k;break}if(_=ge.index+1,E=y.charCodeAt(ge.index),!E){l.textNode+=y.substring(k,_-1),l.position+=_-1-k;break}}l.slashed=Z,l.unicodeI=Q;continue;case n.TRUE:E===s.r?l.state=n.TRUE2:O(l,"Invalid true started with t"+E);continue;case n.TRUE2:E===s.u?l.state=n.TRUE3:O(l,"Invalid true started with tr"+E);continue;case n.TRUE3:E===s.e?(g(l,"onvalue",!0),l.state=l.stack.pop()||n.VALUE):O(l,"Invalid true started with tru"+E);continue;case n.FALSE:E===s.a?l.state=n.FALSE2:O(l,"Invalid false started with f"+E);continue;case n.FALSE2:E===s.l?l.state=n.FALSE3:O(l,"Invalid false started with fa"+E);continue;case n.FALSE3:E===s.s?l.state=n.FALSE4:O(l,"Invalid false started with fal"+E);continue;case n.FALSE4:E===s.e?(g(l,"onvalue",!1),l.state=l.stack.pop()||n.VALUE):O(l,"Invalid false started with fals"+E);continue;case n.NULL:E===s.u?l.state=n.NULL2:O(l,"Invalid null started with n"+E);continue;case n.NULL2:E===s.l?l.state=n.NULL3:O(l,"Invalid null started with nu"+E);continue;case n.NULL3:E===s.l?(g(l,"onvalue",null),l.state=l.stack.pop()||n.VALUE):O(l,"Invalid null started with nul"+E);continue;case n.NUMBER_DECIMAL_POINT:E===s.period?(l.numberNode+=".",l.state=n.NUMBER_DIGIT):O(l,"Leading zero not followed by .");continue;case n.NUMBER_DIGIT:s._0<=E&&E<=s._9?l.numberNode+=String.fromCharCode(E):E===s.period?(l.numberNode.indexOf(".")!==-1&&O(l,"Invalid number has two dots"),l.numberNode+="."):E===s.e||E===s.E?((l.numberNode.indexOf("e")!==-1||l.numberNode.indexOf("E")!==-1)&&O(l,"Invalid number has two exponential"),l.numberNode+="e"):E===s.plus||E===s.minus?(M===s.e||M===s.E||O(l,"Invalid symbol in number"),l.numberNode+=String.fromCharCode(E)):(T(l),_--,z=!0,l.state=l.stack.pop()||n.VALUE);continue;default:O(l,"Unknown state: "+l.state)}return l.position>=l.bufferCheckPosition&&d(l),l}})(typeof rt>"u"?clarinet={}:rt)});var xr=ae(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.stringify=me.parse=void 0;var Cn=(gr(),On(mr)),vn=Cn.__importDefault(yr());function Rn(r){let e=it(),t,i;function n(u){try{let s=e.next(u);s.done&&(t=s.value)}catch(s){i=s}}let a=vn.default.parser();if(a.onopenobject=u=>n({type:"openobject",key:u}),a.onopenarray=()=>n({type:"openarray"}),a.onkey=u=>n({type:"key",key:u}),a.onvalue=u=>n({type:"value",value:u}),a.oncloseobject=()=>n({type:"closeobject"}),a.onclosearray=()=>n({type:"closearray"}),a.onerror=u=>n({type:"error",err:u}),e.next(),a.write(r).close(),i)throw i;return t}me.parse=Rn;function nt(r){return Array.isArray(r)?`[${r.map(nt).join(",")}]`:r instanceof Map?`{${[...r].map(([e,t])=>JSON.stringify(e)+":"+nt(t)).join(",")}}`:JSON.stringify(r)}me.stringify=nt;var Er=Symbol();function*it(){let r=yield;switch(r.type){case"value":return r.value;case"openobject":let e=new Map,t=r.key;for(t===void 0&&(yield);t!==void 0;)e.set(t,yield*it()),t=(yield).key;return e;case"openarray":let i=[],n;for(;;){if(n=yield*it(),n===Er)return i;i.push(n)}case"closearray":return Er;case"error":throw r.err;default:throw Error(`Unexpected ParseEvent ${r.type}`)}}});var wr=ae((at,lt)=>{(function(r,e){typeof at=="object"&&typeof lt<"u"?lt.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self,r.DOMPurify=e())})(at,function(){"use strict";let{entries:r,setPrototypeOf:e,isFrozen:t,getPrototypeOf:i,getOwnPropertyDescriptor:n}=Object,{freeze:a,seal:u,create:s}=Object,{apply:d,construct:c}=typeof Reflect<"u"&&Reflect;a||(a=function(v){return v}),u||(u=function(v){return v}),d||(d=function(v,P,D){return v.apply(P,D)}),c||(c=function(v,P){return new v(...P)});let p=C(Array.prototype.forEach),o=C(Array.prototype.pop),x=C(Array.prototype.push),m=C(String.prototype.toLowerCase),g=C(String.prototype.toString),h=C(String.prototype.match),b=C(String.prototype.replace),T=C(String.prototype.indexOf),w=C(String.prototype.trim),O=C(Object.prototype.hasOwnProperty),L=C(RegExp.prototype.test),S=y(TypeError);function C(I){return function(v){for(var P=arguments.length,D=new Array(P>1?P-1:0),G=1;G<P;G++)D[G-1]=arguments[G];return d(I,v,D)}}function y(I){return function(){for(var v=arguments.length,P=new Array(v),D=0;D<v;D++)P[D]=arguments[D];return c(I,P)}}function l(I,v){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m;e&&e(I,null);let D=v.length;for(;D--;){let G=v[D];if(typeof G=="string"){let re=P(G);re!==G&&(t(v)||(v[D]=re),G=re)}I[G]=!0}return I}function _(I){for(let v=0;v<I.length;v++)O(I,v)||(I[v]=null);return I}function E(I){let v=s(null);for(let[P,D]of r(I))O(I,P)&&(Array.isArray(D)?v[P]=_(D):D&&typeof D=="object"&&D.constructor===Object?v[P]=E(D):v[P]=D);return v}function M(I,v){for(;I!==null;){let D=n(I,v);if(D){if(D.get)return C(D.get);if(typeof D.value=="function")return C(D.value)}I=i(I)}function P(){return null}return P}let z=a(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),X=a(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),k=a(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Z=a(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Q=a(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ge=a(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),st=a(["#text"]),ut=a(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ke=a(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ct=a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Te=a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ir=u(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Pr=u(/<%[\w\W]*|[\w\W]*%>/gm),Mr=u(/\${[\w\W]*}/gm),kr=u(/^data-[\-\w.\u00B7-\uFFFF]/),$r=u(/^aria-[\-\w]+$/),ft=u(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Hr=u(/^(?:\w+script|data):/i),Fr=u(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),dt=u(/^html$/i),Ur=u(/^[a-z][.\w]*(-[.\w]+)+$/i);var ht=Object.freeze({__proto__:null,MUSTACHE_EXPR:Ir,ERB_EXPR:Pr,TMPLIT_EXPR:Mr,DATA_ATTR:kr,ARIA_ATTR:$r,IS_ALLOWED_URI:ft,IS_SCRIPT_OR_DATA:Hr,ATTR_WHITESPACE:Fr,DOCTYPE_NAME:dt,CUSTOM_ELEMENT:Ur});let ye={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Br=function(){return typeof window>"u"?null:window},Jr=function(v,P){if(typeof v!="object"||typeof v.createPolicy!="function")return null;let D=null,G="data-tt-policy-suffix";P&&P.hasAttribute(G)&&(D=P.getAttribute(G));let re="dompurify"+(D?"#"+D:"");try{return v.createPolicy(re,{createHTML(oe){return oe},createScriptURL(oe){return oe}})}catch{return console.warn("TrustedTypes policy "+re+" could not be created."),null}};function pt(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Br(),v=R=>pt(R);if(v.version="3.1.5",v.removed=[],!I||!I.document||I.document.nodeType!==ye.document)return v.isSupported=!1,v;let{document:P}=I,D=P,G=D.currentScript,{DocumentFragment:re,HTMLTemplateElement:oe,Node:$e,Element:mt,NodeFilter:Ee,NamedNodeMap:Gr=I.NamedNodeMap||I.MozNamedAttrMap,HTMLFormElement:Wr,DOMParser:Vr,trustedTypes:Ne}=I,_e=mt.prototype,qr=M(_e,"cloneNode"),Yr=M(_e,"nextSibling"),Kr=M(_e,"childNodes"),He=M(_e,"parentNode");if(typeof oe=="function"){let R=P.createElement("template");R.content&&R.content.ownerDocument&&(P=R.content.ownerDocument)}let V,xe="",{implementation:Fe,createNodeIterator:Xr,createDocumentFragment:Zr,getElementsByTagName:Qr}=P,{importNode:jr}=D,j={};v.isSupported=typeof r=="function"&&typeof He=="function"&&Fe&&Fe.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:Ue,ERB_EXPR:Be,TMPLIT_EXPR:Je,DATA_ATTR:en,ARIA_ATTR:tn,IS_SCRIPT_OR_DATA:rn,ATTR_WHITESPACE:gt,CUSTOM_ELEMENT:nn}=ht,{IS_ALLOWED_URI:yt}=ht,F=null,Et=l({},[...z,...X,...k,...Q,...st]),U=null,xt=l({},[...ut,...ke,...ct,...Te]),H=Object.seal(s(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),we=null,ze=null,wt=!0,Ge=!0,Ot=!1,bt=!0,se=!1,We=!0,le=!1,Ve=!1,qe=!1,ue=!1,Se=!1,Ae=!1,Lt=!0,Tt=!1,an="user-content-",Ye=!0,Oe=!1,ce={},fe=null,Nt=l({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),_t=null,St=l({},["audio","video","img","source","image","track"]),Ke=null,At=l({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ce="http://www.w3.org/1998/Math/MathML",ve="http://www.w3.org/2000/svg",ne="http://www.w3.org/1999/xhtml",de=ne,Xe=!1,Ze=null,ln=l({},[Ce,ve,ne],g),be=null,on=["application/xhtml+xml","text/html"],sn="text/html",B=null,he=null,un=P.createElement("form"),Ct=function(f){return f instanceof RegExp||f instanceof Function},Qe=function(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(he&&he===f)){if((!f||typeof f!="object")&&(f={}),f=E(f),be=on.indexOf(f.PARSER_MEDIA_TYPE)===-1?sn:f.PARSER_MEDIA_TYPE,B=be==="application/xhtml+xml"?g:m,F=O(f,"ALLOWED_TAGS")?l({},f.ALLOWED_TAGS,B):Et,U=O(f,"ALLOWED_ATTR")?l({},f.ALLOWED_ATTR,B):xt,Ze=O(f,"ALLOWED_NAMESPACES")?l({},f.ALLOWED_NAMESPACES,g):ln,Ke=O(f,"ADD_URI_SAFE_ATTR")?l(E(At),f.ADD_URI_SAFE_ATTR,B):At,_t=O(f,"ADD_DATA_URI_TAGS")?l(E(St),f.ADD_DATA_URI_TAGS,B):St,fe=O(f,"FORBID_CONTENTS")?l({},f.FORBID_CONTENTS,B):Nt,we=O(f,"FORBID_TAGS")?l({},f.FORBID_TAGS,B):{},ze=O(f,"FORBID_ATTR")?l({},f.FORBID_ATTR,B):{},ce=O(f,"USE_PROFILES")?f.USE_PROFILES:!1,wt=f.ALLOW_ARIA_ATTR!==!1,Ge=f.ALLOW_DATA_ATTR!==!1,Ot=f.ALLOW_UNKNOWN_PROTOCOLS||!1,bt=f.ALLOW_SELF_CLOSE_IN_ATTR!==!1,se=f.SAFE_FOR_TEMPLATES||!1,We=f.SAFE_FOR_XML!==!1,le=f.WHOLE_DOCUMENT||!1,ue=f.RETURN_DOM||!1,Se=f.RETURN_DOM_FRAGMENT||!1,Ae=f.RETURN_TRUSTED_TYPE||!1,qe=f.FORCE_BODY||!1,Lt=f.SANITIZE_DOM!==!1,Tt=f.SANITIZE_NAMED_PROPS||!1,Ye=f.KEEP_CONTENT!==!1,Oe=f.IN_PLACE||!1,yt=f.ALLOWED_URI_REGEXP||ft,de=f.NAMESPACE||ne,H=f.CUSTOM_ELEMENT_HANDLING||{},f.CUSTOM_ELEMENT_HANDLING&&Ct(f.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(H.tagNameCheck=f.CUSTOM_ELEMENT_HANDLING.tagNameCheck),f.CUSTOM_ELEMENT_HANDLING&&Ct(f.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(H.attributeNameCheck=f.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),f.CUSTOM_ELEMENT_HANDLING&&typeof f.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(H.allowCustomizedBuiltInElements=f.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),se&&(Ge=!1),Se&&(ue=!0),ce&&(F=l({},st),U=[],ce.html===!0&&(l(F,z),l(U,ut)),ce.svg===!0&&(l(F,X),l(U,ke),l(U,Te)),ce.svgFilters===!0&&(l(F,k),l(U,ke),l(U,Te)),ce.mathMl===!0&&(l(F,Q),l(U,ct),l(U,Te))),f.ADD_TAGS&&(F===Et&&(F=E(F)),l(F,f.ADD_TAGS,B)),f.ADD_ATTR&&(U===xt&&(U=E(U)),l(U,f.ADD_ATTR,B)),f.ADD_URI_SAFE_ATTR&&l(Ke,f.ADD_URI_SAFE_ATTR,B),f.FORBID_CONTENTS&&(fe===Nt&&(fe=E(fe)),l(fe,f.FORBID_CONTENTS,B)),Ye&&(F["#text"]=!0),le&&l(F,["html","head","body"]),F.table&&(l(F,["tbody"]),delete we.tbody),f.TRUSTED_TYPES_POLICY){if(typeof f.TRUSTED_TYPES_POLICY.createHTML!="function")throw S('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof f.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw S('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');V=f.TRUSTED_TYPES_POLICY,xe=V.createHTML("")}else V===void 0&&(V=Jr(Ne,G)),V!==null&&typeof xe=="string"&&(xe=V.createHTML(""));a&&a(f),he=f}},vt=l({},["mi","mo","mn","ms","mtext"]),Rt=l({},["foreignobject","annotation-xml"]),cn=l({},["title","style","font","a","script"]),Dt=l({},[...X,...k,...Z]),It=l({},[...Q,...ge]),fn=function(f){let N=He(f);(!N||!N.tagName)&&(N={namespaceURI:de,tagName:"template"});let A=m(f.tagName),$=m(N.tagName);return Ze[f.namespaceURI]?f.namespaceURI===ve?N.namespaceURI===ne?A==="svg":N.namespaceURI===Ce?A==="svg"&&($==="annotation-xml"||vt[$]):!!Dt[A]:f.namespaceURI===Ce?N.namespaceURI===ne?A==="math":N.namespaceURI===ve?A==="math"&&Rt[$]:!!It[A]:f.namespaceURI===ne?N.namespaceURI===ve&&!Rt[$]||N.namespaceURI===Ce&&!vt[$]?!1:!It[A]&&(cn[A]||!Dt[A]):!!(be==="application/xhtml+xml"&&Ze[f.namespaceURI]):!1},ee=function(f){x(v.removed,{element:f});try{f.parentNode.removeChild(f)}catch{f.remove()}},Re=function(f,N){try{x(v.removed,{attribute:N.getAttributeNode(f),from:N})}catch{x(v.removed,{attribute:null,from:N})}if(N.removeAttribute(f),f==="is"&&!U[f])if(ue||Se)try{ee(N)}catch{}else try{N.setAttribute(f,"")}catch{}},Pt=function(f){let N=null,A=null;if(qe)f="<remove></remove>"+f;else{let J=h(f,/^[\r\n\t ]+/);A=J&&J[0]}be==="application/xhtml+xml"&&de===ne&&(f='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+f+"</body></html>");let $=V?V.createHTML(f):f;if(de===ne)try{N=new Vr().parseFromString($,be)}catch{}if(!N||!N.documentElement){N=Fe.createDocument(de,"template",null);try{N.documentElement.innerHTML=Xe?xe:$}catch{}}let W=N.body||N.documentElement;return f&&A&&W.insertBefore(P.createTextNode(A),W.childNodes[0]||null),de===ne?Qr.call(N,le?"html":"body")[0]:le?N.documentElement:W},Mt=function(f){return Xr.call(f.ownerDocument||f,f,Ee.SHOW_ELEMENT|Ee.SHOW_COMMENT|Ee.SHOW_TEXT|Ee.SHOW_PROCESSING_INSTRUCTION|Ee.SHOW_CDATA_SECTION,null)},kt=function(f){return f instanceof Wr&&(typeof f.nodeName!="string"||typeof f.textContent!="string"||typeof f.removeChild!="function"||!(f.attributes instanceof Gr)||typeof f.removeAttribute!="function"||typeof f.setAttribute!="function"||typeof f.namespaceURI!="string"||typeof f.insertBefore!="function"||typeof f.hasChildNodes!="function")},$t=function(f){return typeof $e=="function"&&f instanceof $e},ie=function(f,N,A){j[f]&&p(j[f],$=>{$.call(v,N,A,he)})},Ht=function(f){let N=null;if(ie("beforeSanitizeElements",f,null),kt(f))return ee(f),!0;let A=B(f.nodeName);if(ie("uponSanitizeElement",f,{tagName:A,allowedTags:F}),f.hasChildNodes()&&!$t(f.firstElementChild)&&L(/<[/\w]/g,f.innerHTML)&&L(/<[/\w]/g,f.textContent)||f.nodeType===ye.progressingInstruction||We&&f.nodeType===ye.comment&&L(/<[/\w]/g,f.data))return ee(f),!0;if(!F[A]||we[A]){if(!we[A]&&Ut(A)&&(H.tagNameCheck instanceof RegExp&&L(H.tagNameCheck,A)||H.tagNameCheck instanceof Function&&H.tagNameCheck(A)))return!1;if(Ye&&!fe[A]){let $=He(f)||f.parentNode,W=Kr(f)||f.childNodes;if(W&&$){let J=W.length;for(let K=J-1;K>=0;--K){let te=qr(W[K],!0);te.__removalCount=(f.__removalCount||0)+1,$.insertBefore(te,Yr(f))}}}return ee(f),!0}return f instanceof mt&&!fn(f)||(A==="noscript"||A==="noembed"||A==="noframes")&&L(/<\/no(script|embed|frames)/i,f.innerHTML)?(ee(f),!0):(se&&f.nodeType===ye.text&&(N=f.textContent,p([Ue,Be,Je],$=>{N=b(N,$," ")}),f.textContent!==N&&(x(v.removed,{element:f.cloneNode()}),f.textContent=N)),ie("afterSanitizeElements",f,null),!1)},Ft=function(f,N,A){if(Lt&&(N==="id"||N==="name")&&(A in P||A in un))return!1;if(!(Ge&&!ze[N]&&L(en,N))){if(!(wt&&L(tn,N))){if(!U[N]||ze[N]){if(!(Ut(f)&&(H.tagNameCheck instanceof RegExp&&L(H.tagNameCheck,f)||H.tagNameCheck instanceof Function&&H.tagNameCheck(f))&&(H.attributeNameCheck instanceof RegExp&&L(H.attributeNameCheck,N)||H.attributeNameCheck instanceof Function&&H.attributeNameCheck(N))||N==="is"&&H.allowCustomizedBuiltInElements&&(H.tagNameCheck instanceof RegExp&&L(H.tagNameCheck,A)||H.tagNameCheck instanceof Function&&H.tagNameCheck(A))))return!1}else if(!Ke[N]){if(!L(yt,b(A,gt,""))){if(!((N==="src"||N==="xlink:href"||N==="href")&&f!=="script"&&T(A,"data:")===0&&_t[f])){if(!(Ot&&!L(rn,b(A,gt,"")))){if(A)return!1}}}}}}return!0},Ut=function(f){return f!=="annotation-xml"&&h(f,nn)},Bt=function(f){ie("beforeSanitizeAttributes",f,null);let{attributes:N}=f;if(!N)return;let A={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U},$=N.length;for(;$--;){let W=N[$],{name:J,namespaceURI:K,value:te}=W,Le=B(J),q=J==="value"?te:w(te);if(A.attrName=Le,A.attrValue=q,A.keepAttr=!0,A.forceKeepAttr=void 0,ie("uponSanitizeAttribute",f,A),q=A.attrValue,A.forceKeepAttr||(Re(J,f),!A.keepAttr))continue;if(!bt&&L(/\/>/i,q)){Re(J,f);continue}if(We&&L(/((--!?|])>)|<\/(style|title)/i,q)){Re(J,f);continue}se&&p([Ue,Be,Je],zt=>{q=b(q,zt," ")});let Jt=B(f.nodeName);if(Ft(Jt,Le,q)){if(Tt&&(Le==="id"||Le==="name")&&(Re(J,f),q=an+q),V&&typeof Ne=="object"&&typeof Ne.getAttributeType=="function"&&!K)switch(Ne.getAttributeType(Jt,Le)){case"TrustedHTML":{q=V.createHTML(q);break}case"TrustedScriptURL":{q=V.createScriptURL(q);break}}try{K?f.setAttributeNS(K,J,q):f.setAttribute(J,q),kt(f)?ee(f):o(v.removed)}catch{}}}ie("afterSanitizeAttributes",f,null)},dn=function R(f){let N=null,A=Mt(f);for(ie("beforeSanitizeShadowDOM",f,null);N=A.nextNode();)ie("uponSanitizeShadowNode",N,null),!Ht(N)&&(N.content instanceof re&&R(N.content),Bt(N));ie("afterSanitizeShadowDOM",f,null)};return v.sanitize=function(R){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},N=null,A=null,$=null,W=null;if(Xe=!R,Xe&&(R="<!-->"),typeof R!="string"&&!$t(R))if(typeof R.toString=="function"){if(R=R.toString(),typeof R!="string")throw S("dirty is not a string, aborting")}else throw S("toString is not a function");if(!v.isSupported)return R;if(Ve||Qe(f),v.removed=[],typeof R=="string"&&(Oe=!1),Oe){if(R.nodeName){let te=B(R.nodeName);if(!F[te]||we[te])throw S("root node is forbidden and cannot be sanitized in-place")}}else if(R instanceof $e)N=Pt("<!---->"),A=N.ownerDocument.importNode(R,!0),A.nodeType===ye.element&&A.nodeName==="BODY"||A.nodeName==="HTML"?N=A:N.appendChild(A);else{if(!ue&&!se&&!le&&R.indexOf("<")===-1)return V&&Ae?V.createHTML(R):R;if(N=Pt(R),!N)return ue?null:Ae?xe:""}N&&qe&&ee(N.firstChild);let J=Mt(Oe?R:N);for(;$=J.nextNode();)Ht($)||($.content instanceof re&&dn($.content),Bt($));if(Oe)return R;if(ue){if(Se)for(W=Zr.call(N.ownerDocument);N.firstChild;)W.appendChild(N.firstChild);else W=N;return(U.shadowroot||U.shadowrootmode)&&(W=jr.call(D,W,!0)),W}let K=le?N.outerHTML:N.innerHTML;return le&&F["!doctype"]&&N.ownerDocument&&N.ownerDocument.doctype&&N.ownerDocument.doctype.name&&L(dt,N.ownerDocument.doctype.name)&&(K="<!DOCTYPE "+N.ownerDocument.doctype.name+`>
`+K),se&&p([Ue,Be,Je],te=>{K=b(K,te," ")}),V&&Ae?V.createHTML(K):K},v.setConfig=function(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Qe(R),Ve=!0},v.clearConfig=function(){he=null,Ve=!1},v.isValidAttribute=function(R,f,N){he||Qe({});let A=B(R),$=B(f);return Ft(A,$,N)},v.addHook=function(R,f){typeof f=="function"&&(j[R]=j[R]||[],x(j[R],f))},v.removeHook=function(R){if(j[R])return o(j[R])},v.removeHooks=function(R){j[R]&&(j[R]=[])},v.removeAllHooks=function(){j={}},v}var zr=pt();return zr})});var br=ae((Fn,Or)=>{var Y=je(wr());Or.exports=class{constructor(){let e=this}escape(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}mapToHtmlList(e,t=!1,i=void 0){let n=this;var a=0,u=document.createElement("ul"),s;return i!==void 0&&(s=JSON.parse(i)),u.className="DAMON-List",d(e,u),u;function d(c,p){if(typeof p!="object"||p==null||Array.isArray(p))throw new Error("Error List Item number "+a+": @param { {} } list");if(typeof c=="object"&&c!==null&&!Array.isArray(c)&&c instanceof Map&&c.constructor===Map){if(p.tagName=="UL")for(let[m,g]of c){let h=document.createElement("ul"),b=document.createElement("code"),T=document.createElement("span"),w=document.createElement("li");if(T.className="type-key",/^https?:\/\//.test(m)){let O=Y.sanitize(`<a href="${m}">${m}</a>`);T.innerHTML=O}else i!==void 0&&m in s["@context"]?T.innerHTML=Y.sanitize(`<a href="${s["@context"][m]["@id"]}">${m}</a>`):T.textContent=m;if(typeof g=="object"&&g!==null)if(Array.isArray(g))if(c.inlineArrays!==void 0&&c.inlineArrays.indexOf(m)>-1){b.innerHTML=T.outerHTML+": [";for(let O=0,L=g.length;O<L;O++){let S=document.createElement("span"),C=g[O];C===!0?(S.textContent="true",S.className="type-boolean"):C===!1?(S.textContent="false",S.className="type-boolean"):C===null?(S.textContent="null",S.className="type-null"):Number.isFinite(C)&&!Number.isNaN(C)?(S.textContent=C+"",S.className="type-number"):(t?/^https?:\/\//.test(C)?S.innerHTML=Y.sanitize(`<a href="${C}">"${C}"</a>`):S.innerHTML=`"${C}"`:/^https?:\/\//.test(C)?S.innerHTML=Y.sanitize(`<a href="${C}">"${C}"</a>`):S.textContent=`"${C}"`,S.className="type-string"),O!==0&&(b.innerHTML+=", "),b.appendChild(S)}b.innerHTML+="]",w.appendChild(b),w.appendChild(h),p.appendChild(w)}else b.innerHTML=T.outerHTML+": []",w.appendChild(b),w.appendChild(h),p.appendChild(w),d(g,h);else c.implicitMaps!==void 0&&c.implicitMaps.indexOf(m)>-1?b.innerHTML=T.outerHTML:b.innerHTML=T.outerHTML+": {}",w.appendChild(b),w.appendChild(h),p.appendChild(w),d(g,h);else{a++,b.innerHTML=T.outerHTML+": ";let O=document.createElement("span"),L=g;L===!0?(O.textContent="true",O.className="type-boolean"):L===!1?(O.textContent="false",O.className="type-boolean"):L===null?(O.textContent="null",O.className="type-null"):Number.isFinite(L)&&!Number.isNaN(L)?(O.textContent=L+"",O.className="type-number"):(t?/^https?:\/\//.test(L)?O.innerHTML=Y.sanitize(`<a href="${L}">"${L}"</a>`):O.innerHTML=`"${L}"`:/^https?:\/\//.test(L)?O.innerHTML=Y.sanitize(`<a href="${L}">"${L}"</a>`):O.textContent=`"${L}"`,O.className="type-string"),c.implicitNulls===void 0||c.implicitNulls.indexOf(m)==-1?b.appendChild(O):b.innerHTML=b.innerHTML.slice(0,-2),w.appendChild(b),p.appendChild(w)}}}else if(Array.isArray(c))for(var o=0,x=c.length;o<x;o++){let m=document.createElement("ul"),g=document.createElement("code"),h=document.createElement("li");if(typeof c[o]=="object"&&c[o]!==null)if(Array.isArray(c[o]))if(c.inlineArrays!==void 0&&c.inlineArrays.indexOf(o)>-1){g.innerHTML+="[";for(let b=0,T=c[o].length;b<T;b++){let w=document.createElement("span"),O=c[o][b];O===!0?(w.textContent="true",w.className="type-boolean"):O===!1?(w.textContent="false",w.className="type-boolean"):O===null?(w.textContent="null",w.className="type-null"):Number.isFinite(O)&&!Number.isNaN(O)?(w.textContent=O+"",w.className="type-number"):(t?/^https?:\/\//.test(O)?w.innerHTML=Y.sanitize(`<a href="${O}">"${O}"</a>`):w.innerHTML=`"${O}"`:/^https?:\/\//.test(O)?w.innerHTML=Y.sanitize(`<a href="${O}">"${O}"</a>`):w.textContent=`"${O}"`,w.className="type-string"),b!==0&&(g.innerHTML+=", "),g.appendChild(w)}g.innerHTML+="]",h.appendChild(g),h.appendChild(m),p.appendChild(h)}else g.textContent="[]",h.appendChild(g),h.appendChild(m),p.appendChild(h),d(c[o],m);else g.textContent="{}",h.appendChild(g),h.appendChild(m),p.appendChild(h),d(c[o],m);else{a++;let b=c[o];b===!0?(g.textContent="true",g.className="type-boolean"):b===!1?(g.textContent="false",g.className="type-boolean"):b===null?(g.textContent="null",g.className="type-null"):Number.isFinite(b)&&!Number.isNaN(b)?(g.textContent=b+"",g.className="type-number"):(t?/^https?:\/\//.test(b)?g.innerHTML=Y.sanitize(`<a href="${b}">"${b}"</a>`):g.innerHTML=`"${b}"`:/^https?:\/\//.test(b)?g.innerHTML=Y.sanitize(`<a href="${b}">"${b}"</a>`):g.textContent=`"${b}"`,g.className="type-string"),h.appendChild(g),h.appendChild(m),p.appendChild(h)}}}}mapToHtmlTable(e,t=!1){let i=this;var n=0,a=document.createElement("table"),u=document.createElement("thead"),s=document.createElement("tbody"),d=!1,c=0;if(a.className="DAMON-Table",typeof e!="object"||e==null||Array.isArray(e)||!(e instanceof Map)||e.constructor!==Map)throw new Error("Error List Item number "+n+": @param { {} } list");for(let[p,o]of e){if(typeof o=="object"&&o!==null&&!Array.isArray(o)&&o instanceof Map&&o.constructor===Map)if(p=="0"&&!d){let x=document.createElement("tr");c=o.length;for(let[m,g]of o)if(g===null){let h=document.createElement("th");t?/^https?:\/\//.test(m)?h.innerHTML=Y.sanitize(`<a href="${m}">${m}</a>`):h.innerHTML=`${m}`:/^https?:\/\//.test(m)?h.innerHTML=Y.sanitize(`<a href="${m}">${m}</a>`):h.textContent=`${m}`,x.appendChild(h)}else throw new Error("Expected implicit null property, saw otherwise");u.appendChild(x),d=!0}else{if(c==0&&(c=o.length),o.length!=c)throw new Error("Error List Item number "+n+": @param { {} } list");let x=document.createElement("tr");for(let[m,g]of o)if(g===null){let h=document.createElement("td");t?/^https?:\/\//.test(m)?h.innerHTML=Y.sanitize(`<a href="${m}">${m}</a>`):h.innerHTML=`${m}`:/^https?:\/\//.test(m)?h.innerHTML=Y.sanitize(`<a href="${m}">${m}</a>`):h.textContent=`${m}`,x.appendChild(h)}else throw new Error("Expected implicit null property, saw otherwise");s.appendChild(x)}else if(typeof o!="object"&&p=="00"){let x=document.createElement("caption");t?x.innerHTML=o:x.textContent=o,a.appendChild(x)}else throw new Error("Error List Item number "+n+": @param { {} } list");n++}return d&&a.appendChild(u),a.appendChild(s),a}mapTreeLeavesToHtmlTable(e,t=!1){let i=this;var n=0,a=0,u=document.createElement("table"),s=document.createElement("thead"),d=document.createElement("tbody"),c=!1;if(u.className="DAMON-LeavesToTable",typeof e!="object"||e==null||Array.isArray(e)||!(e instanceof Map)||e.constructor!==Map)throw new Error("Error List Item number "+n+": @param { {} } list");for(let[o,x]of e){if(typeof x=="object"&&!Array.isArray(x)){if(o=="head"&&!c){try{p(x,s)}catch{return}c=!0}else if(o=="body")try{p(x,d)}catch{return}}else if(typeof x!="object"&&o=="caption"){let m=document.createElement("caption");t?m.innerHTML=x:m.textContent=x,u.appendChild(m)}else throw new Error("Error List Item number "+n+": @param { {} } list");n++}return c&&u.appendChild(s),u.appendChild(d),u;function p(o,x,m=0,g=[]){if(typeof x!="object"||x==null)throw new Error("Error List Item number "+n+": @param { {} } list");if(typeof o=="object"&&o!==null&&!Array.isArray(o)&&o instanceof Map&&o.constructor===Map){if(x.tagName=="THEAD")if(Array.from(o.keys()).length==1)if(typeof o.get(Array.from(o.keys())[0])=="object"&&o.get(Array.from(o.keys())[0])!==null)n++,p(o.get(Array.from(o.keys())[0]),x,m+1,g.concat([Array.from(o.keys())[0]]));else throw new Error("Error List Item number "+n+": @param { {} } list");else throw new Error("Error List Item number "+n+": @param { {} } list");else if(x.tagName=="TBODY"){if(Array.from(o.keys()).length==0)throw new Error("Error List Item number "+n+": @param { {} } list");for(let[h,b]of o)if(typeof b=="object"&&b!==null)n++,p(b,x,m+1,g.concat([h]));else throw new Error("Error List Item number "+n+": @param { {} } list")}}else if(Array.isArray(o)){if(x.tagName=="THEAD")if(o.length==1){n++,a=m;let h=document.createElement("tr");g.push(o[0]);for(let b=0,T=g.length;b<T;b++){let w=document.createElement("th");t?w.innerHTML=g[b]:w.textContent=g[b],h.appendChild(w)}x.appendChild(h)}else throw new Error("Error List Item number "+n+": @param { {} } list");else if(x.tagName=="TBODY")if(m==a){if(o.length==0)throw new Error("Error List Item number "+n+": @param { {} } list");for(let h=0,b=o.length;h<b;h++){n++;let T=document.createElement("tr");for(let O=0,L=g.length;O<L;O++){let S=document.createElement("td");t?S.innerHTML=g[O]:S.textContent=g[O],T.appendChild(S)}let w=document.createElement("td");t?w.innerHTML=o[h]:w.textContent=o[h],w.textContent=o[h],T.appendChild(w),x.appendChild(T)}}else throw new Error("Error List Item number "+n+": @param { {} } list")}}}htmlToJSON(e){let t=this;var i=0;if(e.firstElementChild.textContent=="{}")return t.mapToJSON(n(tree,new Map));if(e.firstElementChild.textContent=="[]")return t.mapToJSON(n(tree,[]));function n(a,u){if(typeof a!="object"||a==null||Array.isArray(a))throw new Error("Error List Item number "+i+": @param { {} } list");if(typeof u=="object"&&u!==null&&!Array.isArray(u)&&u instanceof Map&&u.constructor===Map){for(let s=0,d=a.children.length;s<d;s++)if(i++,a.children[s].tagName=="LI")if(a.children[s].firstElementChild.tagName=="CODE")if(a.children[s].firstElementChild.innerHTML.length){let c=a.children[s].firstElementChild.innerHTML.trim();if(c[c.length-1]==":"&&c.length>1){let p=a.children[s].children[1];if(p.tagName=="UL"&&p.firstElementChild.tagName=="LI"&&p.children.length==1&&p.firstElementChild.firstElementChild.tagName=="CODE"){i++;let o=p.firstElementChild.firstElementChild.textContent.trim();o=="true"?u.set(c.slice(0,-1),!0):o=="false"?u.set(c.slice(0,-1),!1):o=="null"?u.set(c.slice(0,-1),null):isFinite(o)&&!isNaN(parseFloat(o))?u.set(c.slice(0,-1),o*1):u.set(c.slice(0,-1),o)}else throw new Error("Error List Item number "+i+": not DAMON-compliant.")}else if(c[c.length-4]==":"&&c.length>4){if(c.slice(-3)==" []")if(u.set(c.slice(0,-4),[]),a.children[s].children[1].tagName=="UL")n(a.children[s].children[1],u.get(c.slice(0,-4)));else throw new Error("Error List Item number "+i+": not DAMON-compliant.");else if(c.slice(-3)==" {}")if(u.set(c.slice(0,-4),new Map),a.children[s].children[1].tagName=="UL")n(a.children[s].children[1],u.get(c.slice(0,-4)));else throw new Error("Error List Item number "+i+": not DAMON-compliant.")}else throw new Error("Error List Item number "+i+": map items need a key")}else throw new Error("Error List Item number "+i+": empty node.");else throw new Error("Error List Item number "+i+": not DAMON-compliant.")}else if(Array.isArray(u)){for(let s=0,d=a.children.length;s<d;s++)if(i++,a.children[s].tagName=="LI")if(a.children[s].firstElementChild.tagName=="CODE")if(a.children[s].firstElementChild.innerHTML.length){let c=a.children[s].firstElementChild.innerHTML.trim();if(c[c.length-1]==":"&&c.length>1)throw new Error("Error List Item number "+i+": lists can't have keys.");if(c[c.length-4]==":"&&c.length>4)throw new Error("Error List Item number "+i+": not DAMON-compliant.");if(c=="[]")if(u.push([]),a.children[s].children[1]&&a.children[s].children[1].tagName=="UL")n(a.children[s].children[1],u[u.length-1]);else throw new Error("Error List Item number "+i+": not DAMON-compliant.");else if(c=="{}")if(u.push({}),a.children[s].children[1]&&a.children[s].children[1].tagName=="UL")n(a.children[s].children[1],u[u.length-1]);else throw new Error("Error List Item number "+i+": not DAMON-compliant.");else c=="true"?u.push(!0):c=="false"?u.push(!1):c=="null"?u.push(null):isFinite(c)&&!isNaN(parseFloat(c))?u.push(c*1):u.push(c)}else throw new Error("Error List Item number "+i+": empty node.");else throw new Error("Error List Item number "+i+": not DAMON-compliant.")}else throw new Error("Error List Item number "+i+": @param { {} | [] } jsonMap");return u}}}});var _r=ae((Bn,Nr)=>{var Lr=je(xr()),Tr=je(br());Nr.exports=class{constructor(e=!1){let t=this;if(this.indentation=4,[!0,!1,void 0].indexOf(e)==-1)throw new Error("@param {Boolean} pedantic");this.pedantic=e,this.damonOriginalLinesMapping=[],this.utils=new Tr.default}template(e){let t=this;var i=e[0];for(let a=1;a<e.length;a++)typeof arguments[a]=="string"?i+='"'+arguments[a]+'"':i+=arguments[a],i+=e[a];return t._treeToMap(t._damonToTree(i))}damonToMap(e){let t=this;return t._treeToMap(t._damonToTree(e))}damonToJSON(e){let t=this;return t.mapToJSON(t.damonToMap(e))}jsonToDamon(e){let t=this,i=(0,Lr.parse)(e);return t.mapToDamon(i)}_damonToTree(e){let t=this;if(e==="")throw new Error("Error line 1: empty string",{line:1,language:"DAMON"});if(/[\s]/.test(e)&&e.match(new RegExp(/[\s]/))[0].length==e.length)throw new Error("Error line 1: string only contains whitespace",{line:1,language:"DAMON"});var i=/\r\n/.test(e)?`\r
`:`
`,n=e.split(i),a=n.slice(0);n=n.filter(h=>!/^ *\/\//.test(h)),n=n.filter(h=>h!=""),n=n.filter(h=>!/^[ \t]+$/.test(h));let u=0;t.damonOriginalLinesMapping=[];for(let h=0,b=a.length;h<b;h++)n.slice(u).indexOf(a[h])>-1?t.damonOriginalLinesMapping[h]=n.slice(u).indexOf(a[h]):t.damonOriginalLinesMapping[h]=null;let s=new RegExp("^(	)+");for(let h=0,b=n.length;h<b;h++){if(s.test(n[h])){let T=n[h].match(s)[0].length;for(let w=0,O=T;w<O;w++)n[h]=n[h].replace("	"," ".repeat(t.indentation))}if(!/^ *- $/.test(n[h])&&/[ \t]+$/.test(n[h]))throw new Error("Error line "+(t.damonOriginalLinesMapping.indexOf(h)+1)+": trailing whitespace",{line:t.damonOriginalLinesMapping.indexOf(h)+1,language:"DAMON"})}let d=new RegExp("^("+" ".repeat(t.indentation)+")+");if(d.test(n[0])){let h=n[0].match(d)[0].length,b=!0;for(let T=0,w=n.length;T<w;T++)d.test(n[T])&&n[T].match(d)[0].length>=h?n[T]=n[T].slice(h):b=!1;if(!b)throw new Error("Error line 1: bad formatting",{line:1,language:"DAMON"})}else if(d.test(n[1])&&n[1].match(d)[0].length>t.indentation){let h=n[1].match(d)[0].length-t.indentation,b=!0;for(let T=1,w=n.length;T<w;T++)d.test(n[T])&&n[T].match(d)[0].length>=h?n[T]=n[T].slice(h):b=!1;if(!b)throw new Error("Error line 2: bad formatting",{line:2,language:"DAMON"})}let c=!1;if(n.length>1)for(let h=0,b=n.length;h<b;h++)h!==0&&/^- /.test(n[h])&&(c=!0);if(!/^- \{\}$/.test(n[0])&&!/^- \[\]$/.test(n[0])&&(c=!0),c){for(let h=0,b=n.length;h<b;h++)n[h]=" ".repeat(t.indentation)+n[h];n.unshift("- {}")}var p={content:n[0],level:0,id:0,children:[],headless:c},o=p;if(!/^- /.test(n[0].trimStart())||/^ +/.test(n[0])&&(n[0].match(/^ +/)[0].length%t.indentation!=0||n[0].match(/^ +/)[0].length!=t.indentation))throw new Error("Error line "+(c*1+1)+": bad formatting",{line:c*1+1,language:"DAMON"});n.shift();for(let h=0,b=n.length;h<b;h++){if(!/^- /.test(n[h].trimStart())||/^ +/.test(n[h])&&(n[h].match(/^ +/)[0].length%t.indentation!=0||h==0&&n[h].match(/^ +/)[0].length!=t.indentation||h!=0&&/^- /.test(n[h-1])&&n[h].match(/^ +/)[0].length!=t.indentation||h!=0&&!/^- /.test(n[h-1])&&n[h].match(/^ +/)[0].length>n[h-1].match(/^ +/)[0].length+t.indentation))throw new Error("Error line "+(t.damonOriginalLinesMapping.indexOf(h)+1)+": bad formatting",{line:t.damonOriginalLinesMapping.indexOf(h)+1,language:"DAMON"});let T={content:n[h].trimStart().slice(2),level:1+n[h].match(/^ +/)[0].length/t.indentation,id:"",children:[]};if(o===p)T.id=p.children.length+1,p.children.push(T);else if(o.level===T.level){var x=t._findListItemCommonDirectParent(o,p);x.level==0?T.id=x.children.length+1:T.id=x.id+"-"+(x.children.length+1),x.children.push(T)}else if(o.level>T.level){var m=t._findListItemCommonAncestor(o,p,T.level);m.level==0?T.id=m.children.length+1:T.id=m.id+"-"+(m.children.length+1),m.children.push(T)}else if(o.level<T.level){var g=t._findListItemCommonDirectParent(o,p);let w=g.children.indexOf(o),O=g.children[w].id,L=g.children[w].children.length+1;T.id=O+"-"+L,g.children[w].children.push(T)}o=T}return p}_findListItemCommonDirectParent(e,t){let i=this;if(t.children.indexOf(e)>-1)return t;var n;for(let a=t.children.length-1,u=0;a>=u;a--)if(n=i._findListItemCommonDirectParent(e,t.children[a]),n)return n}_findListItemCommonAncestor(e,t,i){let n=this;var a=n._findListItemCommonDirectParent(e,t);return a.level<i?a:n._findListItemCommonAncestor(a,t,i)}_treeToMap(e){let t=this;var i=0;if(e.content=="- {}")return n(e,new Map);if(tree.content=="- []")return n(e,[]);{let s=new Map;return e.headless&&(s.headless=!0),n(e,s)}function n(s,d){if(typeof s!="object"||s==null||Array.isArray(s))throw new Error("Error line number "+(e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2)+": @param { {} } tree",{line:e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2,language:"DAMON"});if(typeof d=="object"&&d!==null&&!Array.isArray(d)&&d instanceof Map&&d.constructor===Map)a(s,d);else if(Array.isArray(d))u(s,d);else throw new Error("Error line number "+(e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2)+": @param { {} | [] } jsonMap",{line:e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2,language:"DAMON"});return d}function a(s,d){for(let c=0,p=s.children.length;c<p;c++)if(i++,s.children[c].content.length==0){let o;s.children[c].children.length>0?(o="implicit map key",d.set("",new Map),d.implicitMaps===void 0&&(d.implicitMaps=[]),d.implicitMaps.push(""),n(s.children[c],d.get(""))):(o="implicit null key",d.set("",null),d.implicitNulls===void 0&&(d.implicitNulls=[]),d.implicitNulls.push(""))}else{let o=s.children[c].content,x="key";try{if(/^.*: +\[/.test(o)&&o[o.length-1]=="]")if(/: +\[ *\]$/.test(o)){let m=JSON.stringify(JSON.parse(`["${o.slice(0,-1*o.match(/: +\[ *\]$/)[0].length)}"]`)[0]).slice(1,-1);d.set(m,[]),s.children[c].children.length>0&&n(s.children[c],d.get(m))}else{let m=new RegExp(/: +\[/g),g=o.slice(0,-1).split(m),h=o.match(m).concat([""]),b=g.map((L,S)=>L+h[S]),T="",w=[];for(let L=0,S=g.length;L<S;L++)try{let C;if(L==0?C=g[0]:C=b.slice(0,L).join("")+g[L],T=JSON.stringify(JSON.parse(`["${C}"]`)[0]).slice(1,-1),x="list",w=JSON.parse(`[${b.slice(L+1).join("")}]`),Array.isArray(w))break}catch{if(L==S-2)throw new Error("Error line number "+(e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2)+": invalid inline list",{line:e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2,language:"DAMON"})}if(w.every(function(L){if(L===!0)return!0;if(L===!1)return!0;if(L===null)return nullsCounter++,!0;if(typeof L=="string")return!0;if(isFinite(L)&&!isNaN(parseFloat(L))&&Number.isFinite(L*1)&&!Number.isNaN(L*1)){if(L.indexOf(0)==0&&L.length>1)throw new Error("Error line number "+(e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2)+": leading 0",{line:e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2,language:"DAMON"});return!0}else return!1}))d.set(T,w),d.inlineArrays===void 0&&(d.inlineArrays=[]),d.inlineArrays.push(T);else throw new Error("Error line number "+(e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2)+": no nesting in inline lists",{line:e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2,language:"DAMON"});if(s.children[c].children.length>0)throw new Error("Error line number "+(e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+3)+": inline lists can't have children",{line:e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+3,language:"DAMON"})}else if(/: +\{ *\}$/.test(o)){let m=JSON.stringify(JSON.parse(`["${o.slice(0,-1*o.match(/: +\{ *\}$/)[0].length)}"]`)[0]).slice(1,-1);d.set(m,new Map),n(s.children[c],d.get(m))}else{let m=!1;if(o.split(new RegExp(/: +/))[o.split(new RegExp(/: +/)).length-1]==="true"){let g=o.match(new RegExp(/: +/g))[o.match(new RegExp(/: +/g)).length-1],h=JSON.stringify(JSON.parse(`["${o.slice(0,-1*g.length-4)}"]`)[0]).slice(1,-1);d.set(h,!0)}else if(o.split(new RegExp(/: +/))[o.split(new RegExp(/: +/)).length-1]==="false"){let g=o.match(new RegExp(/: +/g))[o.match(new RegExp(/: +/g)).length-1],h=JSON.stringify(JSON.parse(`["${o.slice(0,-1*g.length-5)}"]`)[0]).slice(1,-1);d.set(h,!1)}else if(o.split(new RegExp(/: +/))[o.split(new RegExp(/: +/)).length-1]=="null"){let g=o.match(new RegExp(/: +/g))[o.match(new RegExp(/: +/g)).length-1],h=JSON.stringify(JSON.parse(`["${o.slice(0,-1*g.length-4)}"]`)[0]).slice(1,-1);d.set(h,null)}else if(/^.*: +"/.test(o)&&o[o.length-1]=='"'){let g=o.match(new RegExp(/: +"/g));if(g.length==1){let h=JSON.stringify(JSON.parse(`["${o.split(g[0])[0]}"]`)[0]).slice(1,-1);x="string";let b=JSON.stringify(JSON.parse(`["${o.split(g[0]).slice(1).join("").slice(0,-1)}"]`)[0]).slice(1,-1);d.set(h,b)}else if(g.length==2&&/: +"$/.test(o)){let h=JSON.stringify(JSON.parse(`["${o.split(g[0])[0]}"]`)[0]).slice(1,-1);x="string";let b=JSON.stringify(JSON.parse(`["${o.split(g[0]).slice(1).join("")+": "}"]`)[0]).slice(1,-1);d.set(h,b)}else throw new Error("Error line number "+(e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2)+": unescaped double quote",{line:e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2,language:"DAMON"})}else if(/^.*: /.test(o)&&isFinite(o.split(": ")[o.split(": ").length-1])&&!isNaN(parseFloat(o.split(": ")[o.split(": ").length-1]))&&Number.isFinite(o.split(": ")[o.split(": ").length-1]*1)&&!Number.isNaN(o.split(": ")[o.split(": ").length-1]*1)){let g=JSON.stringify(JSON.parse(`["${o.split(": ").slice(0,-1).join(": ")}"]`)[0]).slice(1,-1);x="number";let h=o.match(new RegExp(/: +/g)),b=h[h.length-1],T=o.split(b)[o.split(b).length-1];if(T.indexOf(0)==0&&T.length>1)throw new Error("Error line number "+(e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2)+": leading 0",{line:e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2,language:"DAMON"});let w=JSON.stringify(JSON.parse(`[${o.split(": ")[o.split(": ").length-1]*1}]`)[0])*1;d.set(g,w)}else if(/^.*: /.test(o)&&o.split(new RegExp(/: +/))[o.split(new RegExp(/: +/)).length-1]*1===1/0){let g=JSON.stringify(JSON.parse(`["${o.split(": ").slice(0,-1).join(": ")}"]`)[0]).slice(1,-1);x="infinity";let h=JSON.stringify(JSON.parse(`[${o.split(": ")[o.split(": ").length-1]*1}]`))*1}else{let g=!1,h=0;if(/\[ *\]$/.test(o)&&(g=!0,h=o.match(new RegExp(/\[ *\]$/g))[0].length),/\{ *\}$/.test(o)&&(g=!0,h=o.match(new RegExp(/\{ *\}$/g))[0].length),/true$/.test(o)&&(g=!0,h=4),/false$/.test(o)&&(g=!0,h=5),/null$/.test(o)&&(g=!0,h=4),/".*"$/.test(o)&&(g=!0,h=o.match(new RegExp(/".*"$/g))[0].length),!g){let b="";for(let T=o.length-1;T>-1&&(b=o[T].concat(b),isFinite(b)&&!isNaN(parseFloat(b))&&Number.isFinite(b*1)&&!Number.isNaN(b*1));T--){if(!/[ \t]/.test(o[T]))break;g=!0,h=b.length}}if(g){let b=JSON.stringify(JSON.parse(`["${o.slice(0,-1*h)}"]`)[0]).slice(1,-1);if(t.pedantic)throw new Error("Error line number "+(e.headless*-1+t.damonOriginalLinesMapping.indexOf(i))+": missing separator",{line:e.headless*-1+t.damonOriginalLinesMapping.indexOf(i),language:"DAMON",errorType:"pedantic"});if(/: +$/.test(b))if(m=!0,s.children[c].children.length>0){x="implicit map key";let T=JSON.stringify(JSON.parse(`["${o}"]`)[0]).slice(1,-1);d.set(T,new Map),d.implicitMaps===void 0&&(d.implicitMaps=[]),d.implicitMaps.push(T),n(s.children[c],d.get(T))}else{x="implicit null key";let T=JSON.stringify(JSON.parse(`["${o}"]`)[0]).slice(1,-1);d.set(T,null),d.implicitNulls===void 0&&(d.implicitNulls=[]),d.implicitNulls.push(T)}else throw new Error("Error line number "+(e.headless*-1+t.damonOriginalLinesMapping.indexOf(i))+": missing separator",{line:e.headless*-1+t.damonOriginalLinesMapping.indexOf(i),language:"DAMON",errorType:"pedantic"})}else{let b=JSON.stringify(JSON.parse(`["${o.slice(0,-1*h)}"]`)[0]).slice(1,-1);if(t.pedantic)throw/: +$/.test(b)?new Error("Error line number "+(e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+3)+": bad value",{line:e.headless*-1+t.damonOriginalLinesMapping.indexOf(i),language:"DAMON",errorType:"pedantic"}):new Error("Error line number "+(e.headless*-1+t.damonOriginalLinesMapping.indexOf(i))+": missing separator",{line:e.headless*-1+t.damonOriginalLinesMapping.indexOf(i),language:"DAMON",errorType:"pedantic"});if(m=!0,s.children[c].children.length>0){x="implicit map key";let T=JSON.stringify(JSON.parse(`["${o}"]`)[0]).slice(1,-1);d.set(T,new Map),d.implicitMaps===void 0&&(d.implicitMaps=[]),d.implicitMaps.push(T),n(s.children[c],d.get(T))}else{x="implicit null key";let T=JSON.stringify(JSON.parse(`["${o}"]`)[0]).slice(1,-1);d.set(T,null),d.implicitNulls===void 0&&(d.implicitNulls=[]),d.implicitNulls.push(T)}}}if(!m&&s.children[c].children.length>0)throw new Error("Error line number "+(e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+3)+": missing container or excess indentation",{line:e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+3,language:"DAMON"})}}catch(m){throw m.language===void 0&&(console.error("Error line number "+(e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2)+": not JSON-compliant, detailed error follows"),m.line=e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2,m.language="JSON",m.type=x),m}}}function u(s,d){for(let c=0,p=s.children.length;c<p;c++)if(i++,s.children[c].content.length){let o=s.children[c].content;if(/^[ \t]*\[/.test(o)&&o[o.length-1]=="]")if(/^[ \t]*\[ *\]$/.test(o))d.push([]),n(s.children[c],d[d.length-1]);else{let x;try{x=JSON.parse(o)}catch{throw new Error("Error line number "+(e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2)+": invalid inline lists",{line:e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2,language:"JSON",type:"list"})}if(x.every(function(g){return g===!0||g===!1?!0:g===null?(nullsCounter++,!0):typeof g=="string"?!0:!!(isFinite(g)&&!isNaN(parseFloat(g))&&Number.isFinite(g*1)&&!Number.isNaN(g*1))}))d.push(x),d.inlineArrays===void 0&&(d.inlineArrays=[]),d.inlineArrays.push(c);else throw new Error("Error line number "+(e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2)+": no nesting in inline lists",{line:e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2,language:"DAMON"});if(s.children[c].children.length>0)throw new Error("Error line number "+(e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+3)+": inline lists can't have children",{line:e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+3,language:"DAMON"})}else if(/^[ \t]*\{\}$/.test(o))d.push(new Map),n(s.children[c],d[d.length-1]);else if(/^[ \t]*true$/.test(o))d.push(!0);else if(/^[ \t]*false$/.test(o))d.push(!1);else if(/^[ \t]*null$/.test(o))d.push(null);else if(/^[ \t]*".*"$/.test(o))try{d.push(JSON.stringify(JSON.parse(`[${o.trimStart()}]`)[0]).slice(1,-1))}catch(x){throw console.error("Error line number "+(e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2)+": not JSON-compliant, detailed error follows"),x.line=e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2,x.language="JSON",x.type="string",x}else if(isFinite(o)&&!isNaN(parseFloat(o))&&Number.isFinite(o*1)&&!Number.isNaN(o*1)){if(o.indexOf(0)==0&&o.length>1)throw new Error("Error line number "+(e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2)+": leading 0",{line:e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2,language:"DAMON"});try{d.push(JSON.stringify(JSON.parse(`[${o*1}]`)[0])*1)}catch(x){throw console.error("Error line number "+(e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2)+": not JSON-compliant, detailed error follows"),x.line=e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2,x.language="JSON",x.type="number",x}}else if(o*1===1/0)try{JSON.stringify(JSON.parse(o*1))}catch(x){throw console.error("Error line number "+(e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2)+": not JSON-compliant, detailed error follows"),x.line=e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2,x.language="JSON",x.type="infinity",x}else throw new Error("Error line number "+(e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2)+": list items can't have a key",{line:e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2,language:"DAMON"})}else throw new Error("Error line number "+(e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2)+": empty list node",{line:e.headless*-1+t.damonOriginalLinesMapping.indexOf(i-1)+2,language:"DAMON"})}}mapToDamon(e){let t=this;var i="";return Array.isArray(e)?i+=`- []
`:i+=`- {}
`,n(e),i.slice(0,-1);function n(a,u=1){if(typeof a=="object"&&a!==null&&!Array.isArray(a)&&a instanceof Map&&a.constructor===Map)for(let[c,p]of a)if(typeof p=="object"&&p!==null)if(Array.isArray(p)){let o=0,x=p.filter(function(m){return m===!0||m===!1?!0:m===null?(o++,!0):typeof m=="string"?!0:!!(isFinite(m)&&!isNaN(parseFloat(m))&&Number.isFinite(m*1)&&!Number.isNaN(m*1))});if(p.length==x.length&&u*4+2+p.join(", ").length+o*4<=80){let m="["+p.map(g=>JSON.stringify(g)).join(", ")+"]";i+="    ".repeat(u)+"- "+JSON.stringify(c).slice(1,-1)+": "+m+`
`}else i+="    ".repeat(u)+"- "+JSON.stringify(c).slice(1,-1)+`: []
`,n(p,u+1)}else i+="    ".repeat(u)+"- "+JSON.stringify(c).slice(1,-1)+`: {}
`,n(p,u+1);else i+="    ".repeat(u)+"- "+JSON.stringify(c).slice(1,-1)+": ",p===!0?i+=`true
`:p===!1?i+=`false
`:p===null?i+=`null
`:Number.isFinite(p)&&!Number.isNaN(p)?i+=p+`
`:i+=`${JSON.stringify(p)}
`;else if(Array.isArray(a))for(var s=0,d=a.length;s<d;s++)if(typeof a[s]=="object"&&a[s]!==null)if(Array.isArray(a[s])){let c=0,p=a[s].filter(function(o){return o===!0||o===!1?!0:o===null?(c++,!0):typeof o=="string"?!0:!!(isFinite(o)&&!isNaN(parseFloat(o))&&Number.isFinite(o*1)&&!Number.isNaN(o*1))});if(a[s].length==p.length&&u*4+2+a[s].join(", ").length+c*4<=80){let o="["+a[s].map(x=>JSON.stringify(x)).join(", ")+"]";i+="    ".repeat(u)+"- "+o+`
`}else i+="    ".repeat(u)+`- []
`,n(a[s],u+1)}else i+="    ".repeat(u)+`- {}
`,n(a[s],u+1);else a[s]===!0?i+="    ".repeat(u)+`- true
`:a[s]===!1?i+="    ".repeat(u)+`- false
`:a[s]===null?i+="    ".repeat(u)+`- null
`:Number.isFinite(a[s])&&!Number.isNaN(a[s])?i+="    ".repeat(u)+"- "+a[s]+`
`:i+="    ".repeat(u)+`- ${JSON.stringify(a[s])}
`}}mapToJSON(e){let t=this;var i="";if(Array.isArray(e))return i+=`[\r
`,n(e),i+="]",i;return i+=`{\r
`,n(e),i+="}",i;function n(a,u=1){if(typeof a=="object"&&a!==null&&!Array.isArray(a)&&a instanceof Map&&a.constructor===Map)for(let[c,p]of a)typeof p=="object"&&p!==null?Array.isArray(p)?p.length>0?(i+="    ".repeat(u)+`"${c}": [\r
`,n(p,u+1),i+="    ".repeat(u)+"]"):i+="    ".repeat(u)+`"${c}": []`:Array.from(p.keys()).length>0?(i+="    ".repeat(u)+`"${c}": {\r
`,n(p,u+1),i+="    ".repeat(u)+"}"):i+="    ".repeat(u)+`"${c}": {}`:p===!0?i+="    ".repeat(u)+`"${c}": true`:p===!1?i+="    ".repeat(u)+`"${c}": false`:p===null?i+="    ".repeat(u)+`"${c}": null`:Number.isFinite(p)&&!Number.isNaN(p)?i+="    ".repeat(u)+`"${c}": `+p:i+="    ".repeat(u)+`"${c}": "${p}"`,c!=Array.from(a.keys())[Array.from(a.keys()).length-1]?i+=`,\r
`:i+=`\r
`;else if(Array.isArray(a))for(var s=0,d=a.length;s<d;s++)typeof a[s]=="object"&&a[s]!==null?Array.isArray(a[s])?a[s].length>0?(i+="    ".repeat(u)+`[\r
`,n(a[s],u+1),i+="    ".repeat(u)+"]"):i+="    ".repeat(u)+"[]":Array.from(a[s].keys()).length>0?(i+="    ".repeat(u)+`{\r
`,n(a[s],u+1),i+="    ".repeat(u)+"}"):i+="    ".repeat(u)+"{}":a[s]===!0?i+="    ".repeat(u)+"true":a[s]===!1?i+="    ".repeat(u)+"false":a[s]===null?i+="    ".repeat(u)+"null":Number.isFinite(a[s])&&!Number.isNaN(a[s])?i+="    ".repeat(u)+a[s]:i+="    ".repeat(u)+`"${a[s]}"`,s!=d-1?i+=`,\r
`:i+=`\r
`}}implicitMapToSExpression(e){let t=this;var i="";return i+=`[\r
`,n(e),i+="]",i;function n(a,u=1){if(typeof a=="object"&&a!==null&&!Array.isArray(a)&&a instanceof Map&&a.constructor===Map)for(let[c,p]of a){if(typeof p=="object"&&p!==null)Array.isArray(p)?p.length>0?(i+="    ".repeat(u)+`"${c}", [\r
`,n(p,u+1),i+="    ".repeat(u)+"]"):i+="    ".repeat(u)+`"${c}", []`:Array.from(p.keys()).length>0?(i+="    ".repeat(u)+`"${c}", [\r
`,n(p,u+1),i+="    ".repeat(u)+"]"):i+="    ".repeat(u)+`"${c}", []`;else{if(p===!0)throw new Error("Booleans require quotes");if(p===!1)throw new Error("Booleans require quotes");p===null?i+="    ".repeat(u)+`"${c}"`:Number.isFinite(p)&&!Number.isNaN(p)?i+="    ".repeat(u)+`"${c}", `+p:i+="    ".repeat(u)+`"${c}", "${p}"`}c!=Array.from(a.keys())[Array.from(a.keys()).length-1]?i+=`,\r
`:i+=`\r
`}else if(Array.isArray(a))for(var s=0,d=a.length;s<d;s++){if(typeof a[s]=="object"&&a[s]!==null)Array.isArray(a[s])?a[s].length>0?(i+="    ".repeat(u)+`[\r
`,n(a[s],u+1),i+="    ".repeat(u)+"]"):i+="    ".repeat(u)+"[]":Array.from(a[s].keys()).length>0?(i+="    ".repeat(u)+`[\r
`,n(a[s],u+1),i+="    ".repeat(u)+"]"):i+="    ".repeat(u)+"[]";else{if(a[s]===!0)throw new Error("Booleans require quotes");if(a[s]===!1)throw new Error("Booleans require quotes");if(a[s]===null)throw new Error("Array-nulls require quotes");Number.isFinite(a[s])&&!Number.isNaN(a[s])?i+="    ".repeat(u)+a[s]:i+="    ".repeat(u)+`"${a[s]}"`}s!=d-1?i+=`,\r
`:i+=`\r
`}}}}});var Ar=ae((zn,Sr)=>{Sr.exports=class{constructor(e){let t=this;this.parent=e,this.itemHeight=parseFloat(getComputedStyle(this.parent.editor).getPropertyValue("--fontSize"))*parseFloat(getComputedStyle(this.parent.editor).getPropertyValue("--lineHeight")),this.viewportHeight=this.parent.editor.getBoundingClientRect().height,this.viewable=Math.ceil(t.viewportHeight/t.itemHeight),this.maxCounter=this.parent.textarea.value.split(`
`).length,this.buffer=t.viewable*2,this.visibleNodesCount=t.viewable+t.buffer,this.lastScrollTop=void 0,this.lastStart=void 0,this.active=!1}inputHandler(e){let t=this;t.parent.textarea.value.split(`
`).length<=t.visibleNodesCount?(t.parent.gutter.innerHTML="",t.init(0)):(t.parent.gutter.innerHTML="",t.init(t.getStartNode(t.parent.textarea.value.split(`
`).length)))}scrollHandler(){let e=this;e.maxCounter<e.visibleNodesCount?(e.parent.gutter.innerHTML="",e.parent.editor.style.setProperty("--scrollbarPadding","0px"),e.init(0)):(e.active=!0,e.parent.editor.style.setProperty("--scrollbarPadding","var(--textareaPadding) * 4"),e.update(e.getStartNode(e.maxCounter)))}init(e){let t=this;t.parent.textarea.style.height=(t.parent.textarea.value.split(`
`).length+1)*t.itemHeight+"px",t.resetProperties(),e>t.maxCounter-t.visibleNodesCount&&(t.maxCounter-t.visibleNodesCount>0?e=t.maxCounter-t.visibleNodesCount:e=0);let i=Math.max(1,Math.min(t.maxCounter-e,t.visibleNodesCount));for(let d=e;d<e+i;d++){let c=document.createElement("div"),p=document.createElement("span"),o=(t.maxCounter+"").length,x=(d+1+"").length,m=o-x;p.textContent=" ".repeat(m)+(d+1),c.appendChild(p),t.parent.gutter.appendChild(c)}t.parent.gutter.style.transform="translate("+t.parent.editor.scrollLeft+"px, "+e*t.itemHeight+"px)",t.parent.overlay.firstElementChild.style.transform="translate("+t.parent.editor.scrollLeft+"px, "+e*t.itemHeight+"px)",t.lastStart=e,t.lastScrollTop=t.parent.editor.scrollTop,t.maxCounter>=t.visibleNodesCount&&(t.active=!0),t.setGutterWidth(),t.parent.updateCurrentLine(!0);let n=t.parent.textarea.value.split(`
`);t.parent.textarea.rows=n.length+1,t.parent.textarea.cols=n.map(d=>d.length).reduce(function(d,c){return Math.max(d,c)});let a=t.parent.textarea.value.replaceAll(/&amp;/g,"&").replaceAll(/&lt;/g,"<").replaceAll(/&gt;/g,">"),u=[`<span class="token lf">
</span>`],s=t.parent.lastTextareaValue.split(`
`);a!=""&&(u=t.parent.prism.highlight(a+`
`,t.parent.prism.languages.damon,"damon").replace(/<span>\n<\/span>$/,"").split(`
`).map(d=>d.replace(/^<\/span>/,"")+`
</span>`));for(let d=e,c=e+i;d<c;d++){let p=document.createElement("span"),o=0;p.classList.add("space-Line"),p.innerHTML=u[d];for(let x=0,m=p.children.length;x<m&&p.children[x].textContent==" ";x++)o++,o==4&&(o=0,p.children[x-3].classList.add("indent-guide"));(!t.parent.initialized||s[d]==null||s[d]!=n[d]||t.parent.overlay.firstElementChild.children[d-e]!=null&&p.innerHTML!=t.parent.overlay.firstElementChild.children[d-e].innerHTML)&&(s[d]==null||!t.parent.initialized?(t.parent.overlay.firstElementChild.appendChild(p),t.parent.overlay.firstElementChild.children.length>i+1&&t.parent.overlay.firstElementChild.firstElementChild.remove()):t.parent.overlay.firstElementChild.replaceChild(p,t.parent.overlay.firstElementChild.children[d-e]))}if(t.parent.overlay.firstElementChild.children.length>i)for(let d=i,c=t.parent.overlay.firstElementChild.children.length;d<c;d++)t.parent.overlay.firstElementChild.lastElementChild.remove()}getStartNode(e){let t=this,i=Math.floor(t.parent.editor.scrollTop/t.itemHeight)-t.viewable;return i=Math.min(Math.max(0,i),Math.max(0,e-t.buffer)),i}resetProperties(){let e=this;e.viewportHeight=e.parent.editor.getBoundingClientRect().height,e.viewable=Math.ceil(e.viewportHeight/e.itemHeight),e.maxCounter=e.parent.textarea.value.split(`
`).length,e.buffer=e.viewable*2,e.visibleNodesCount=e.viewable+e.buffer,e.active=!1}update(e){let t=this;if(t.resetProperties(),t.parent.gutter.firstElementChild)if(t.lastScrollTop!=t.parent.editor.scrollTop)e>t.maxCounter-t.visibleNodesCount&&(t.maxCounter-t.visibleNodesCount>0?e=t.maxCounter-t.visibleNodesCount:e=0),t.diffItems(e,t.visibleNodesCount),t.parent.gutter.style.transform="translate("+t.parent.editor.scrollLeft+"px, "+e*t.itemHeight+"px)",t.parent.overlay.firstElementChild.style.transform="translate(0px, "+e*t.itemHeight+"px)",t.lastScrollTop=t.parent.editor.scrollTop;else if(/^translate\(.+px, .+px\)$/.test(t.parent.gutter.style.transform))t.parent.gutter.style.transform="translate("+t.parent.editor.scrollLeft+"px, "+t.parent.gutter.style.transform.split(", ")[1];else throw new Error("You need to update this regex.");t.setGutterWidth()}diffItems(e,t){let i=this;if(i.lastStart!=e){if(i.lastStart<e){let n=Math.min(t,Math.abs(e-i.lastStart));for(let c=0,p=n;c<p;c++)i.parent.gutter.firstElementChild.remove();for(let c=e+t-n;c<e+t;c++){let p=document.createElement("div"),o=document.createElement("span"),x=(i.maxCounter+"").length,m=(c+1+"").length,g=x-m;o.textContent=" ".repeat(g)+(c+1),p.appendChild(o),i.parent.gutter.appendChild(p)}let a=i.parent.textarea.value.split(`
`);i.parent.textarea.rows=a.length+1,i.parent.textarea.cols=a.map(c=>c.length).reduce(function(c,p){return Math.max(c,p)});let u=i.parent.textarea.value.replaceAll(/&amp;/g,"&").replaceAll(/&lt;/g,"<").replaceAll(/&gt;/g,">"),s=i.parent.prism.highlight(u+`
`,i.parent.prism.languages.damon,"damon").replace(/<span>\n<\/span>$/,"").split(`
`).map(c=>c.replace(/^<\/span>/,"")+`
</span>`),d=i.parent.lastTextareaValue.split(`
`);for(let c=0,p=n;c<p;c++)i.parent.overlay.firstElementChild.firstElementChild.remove();for(let c=e+t-n;c<e+t;c++){let p=document.createElement("span"),o=0;p.classList.add("space-Line"),p.innerHTML=s[c];for(let x=0,m=p.children.length;x<m&&p.children[x].textContent==" ";x++)o++,o==4&&(o=0,p.children[x-3].classList.add("indent-guide"));i.parent.overlay.firstElementChild.appendChild(p)}}else{let n=Math.min(t,Math.abs(i.lastStart-e));for(let o=0,x=n;o<x;o++)i.parent.gutter.lastElementChild.remove();let a=document.createDocumentFragment();for(let o=e;o<e+n;o++){let x=document.createElement("div"),m=document.createElement("span"),g=(i.maxCounter+"").length,h=(o+1+"").length,b=g-h;m.textContent=" ".repeat(b)+(o+1),x.appendChild(m),a.appendChild(x)}i.parent.gutter.insertBefore(a,i.parent.gutter.firstElementChild);let u=i.parent.textarea.value.split(`
`);i.parent.textarea.rows=u.length+1,i.parent.textarea.cols=u.map(o=>o.length).reduce(function(o,x){return Math.max(o,x)});let s=i.parent.textarea.value.replaceAll(/&amp;/g,"&").replaceAll(/&lt;/g,"<").replaceAll(/&gt;/g,">"),d=i.parent.prism.highlight(s+`
`,i.parent.prism.languages.damon,"damon").replace(/<span>\n<\/span>$/,"").split(`
`).map(o=>o.replace(/^<\/span>/,"")+`
</span>`),c=i.parent.lastTextareaValue.split(`
`);for(let o=0,x=n;o<x;o++)i.parent.overlay.firstElementChild.lastElementChild.remove();let p=document.createDocumentFragment();for(let o=e;o<e+n;o++){let x=document.createElement("span"),m=0;x.classList.add("space-Line"),x.innerHTML=d[o];for(let g=0,h=x.children.length;g<h&&x.children[g].textContent==" ";g++)m++,m==4&&(m=0,x.children[g-3].classList.add("indent-guide"));p.appendChild(x)}i.parent.overlay.firstElementChild.insertBefore(p,i.parent.overlay.firstElementChild.firstElementChild)}i.lastStart=e}}setGutterWidth(){let e=this,t=e.parent.gutter.children[0].children[0].getBoundingClientRect().width,i=parseFloat(getComputedStyle(e.parent.editor).getPropertyValue("--gutterWidth"));t>i?(e.parent.gutter.style.width=t+"px",e.parent.container.style.left=t+"px"):(e.parent.gutter.style.width="",e.parent.container.style.left="")}}});var vr=ae((Gn,Cr)=>{Cr.exports=function(r){r.update(),r.historyUpdate(),window.addEventListener("load",e),r.editor.addEventListener("focusin",t),r.editor.addEventListener("focusout",i),r.gutter.addEventListener("click",n),document.addEventListener("mousedown",u),document.addEventListener("mousemove",s),document.addEventListener("mouseup",d),document.addEventListener("selectionchange",c),r.textarea.addEventListener("beforeinput",p),r.textarea.addEventListener("keydown",o),r.textarea.addEventListener("cut",x),r.textarea.addEventListener("copy",m),r.textarea.addEventListener("paste",g);function e(w){r.overlay.firstElementChild.innerHTML="",r.gutter.innerHTML="",r.update(),r.updateCurrentLine(),r.initialized=!0}function t(w){r.utils.addDataState(r.editor,"focused")}function i(w){r.editor.contains(w.target)||r.utils.removeDataState(r.editor,"focused")}function n(w){(Array.from(r.gutter.children).indexOf(w.target)>-1||Array.from(r.gutter.children).indexOf(w.target.parentNode)>-1)&&r.setCarretLine(parseInt(w.target.textContent.trim())-1)}var a;function u(w){if(w.target==r.container){a=w.target,w.preventDefault();let O=r.gutter.children,L="0";for(let S=0,C=O.length;S<C;S++)w.clientY>O[S].getBoundingClientRect().y&&(L=O[S].textContent.trim());L-1<0&&(L=1),r.setCarretLine(L-1),r.textarea.focus()}}function s(w){if(a==r.container&&w.buttons==1){let O=r.gutter.children,L="0";for(let S=0,C=O.length;S<C;S++)w.clientY>O[S].getBoundingClientRect().y&&(L=O[S].textContent.trim());r.textarea.focus(),r.textarea.setSelectionRange(r.textarea.value.split(`
`).slice(0,L).join().length,r.textarea.value.length,"backward")}}function d(w){a==r.container&&w.target==r.textarea&&(r.textarea.selectionEnd=r.textarea.value.length,r.textarea.selectionStart=r.textarea.value.length,r.textarea.focus()),a=void 0}function c(w){document.activeElement===r.textarea&&(r.updateCaret(),r.updateCurrentLine(),r.updateHorizontalScroll(),r.lastSelection=r.getTextareaSelection())}function p(w){r.lastTextareaValue=r.textarea.value}function o(w){if(!w.ctrlKey&&!w.shiftKey&&!w.altKey){if(w.key==" "&&r.textarea.selectionStart==r.textarea.selectionEnd&&(!/\n/.test(r.textarea.value.slice(0,r.textarea.selectionStart))&&(/ +$/.test(r.textarea.value.slice(0,r.textarea.selectionStart))||r.textarea.selectionStart===0)||/\n +$/.test(r.textarea.value.slice(0,r.textarea.selectionStart))||r.textarea.selectionStart<r.textarea.value.length&&(/\n +\n$/.test(r.textarea.value.slice(0,r.textarea.selectionStart+1))||/\n$/.test(r.textarea.value.slice(0,r.textarea.selectionStart)))||r.textarea.value.length==r.textarea.selectionStart&&(/\n +$/.test(r.textarea.value)||/\n$/.test(r.textarea.value)))){w.preventDefault();let O=r.textarea.selectionStart+4,L=r.textarea.value.slice(0,r.textarea.selectionStart)+"    "+r.textarea.value.slice(r.textarea.selectionEnd);r.setTextarea(L,O),h()}if(w.key=="Enter"){let O=r.textarea.value,L=O.split(`
`),S=r.getSelectionStartCoordinates(),C=S[0],y=S[1],l=L[C];if(/^    /.test(l)){if(w.preventDefault(),y%4!==0&&y<l.match(/^(    )+/)[0].length){for(let X=y;0<=X;X--)if(X%4==0){r.textarea.selectionStart==r.textarea.selectionEnd&&(r.textarea.selectionEnd=L.slice(0,C).join().length+X),r.textarea.selectionStart=L.slice(0,C).join().length+X,y=X;break}}let _=0;y>0&&(_=l.slice(0,y).match(/^(    )+/)[0].length);let E=r.textarea.selectionStart,M=r.textarea.value.slice(r.textarea.selectionEnd);M.split(`
`)[0].trim()==""&&(M=`
`+M.split(`
`).slice(1).join(`
`));let z=r.textarea.value.slice(0,r.textarea.selectionStart)+`
`+" ".repeat(_)+M;r.setTextarea(z,E+_+1),h()}}}else if(!w.ctrlKey&&w.shiftKey&&!w.altKey)w.key==" "&&r.textarea.selectionStart==r.textarea.selectionEnd;else if(w.ctrlKey&&!w.shiftKey&&!w.altKey){if(w.key==" "){let O=r.textarea.value.slice(0,r.textarea.selectionStart)+"	"+r.textarea.value.slice(r.textarea.selectionEnd);r.setTextarea(r.formatIndentation(O),r.textarea.selectionEnd+1),h()}if(w.key=="]"){w.preventDefault();let O=r.textarea.value.split(`
`),L=r.textarea.value.slice(0,r.textarea.selectionStart).split(`
`).length-1,S=r.textarea.value.slice(0,r.textarea.selectionEnd).split(`
`).length-1,C=r.textarea.selectionStart+4,y=r.textarea.selectionEnd+4*(S-L+1);for(let l=0,_=O.length;l<_;l++)l>=L&&l<=S&&(O[l]="    "+O[l]);r.setTextarea(O.join(`
`),C,y),h()}if(w.key=="["){let O=r.textarea.value,L=r.textarea.value.split(`
`),S=r.textarea.value.slice(0,r.textarea.selectionStart).split(`
`).length-1,C=r.textarea.value.slice(0,r.textarea.selectionEnd).split(`
`).length-1,y=r.textarea.selectionStart,l=r.textarea.selectionEnd;for(let _=0,E=L.length;_<E;_++)_>=S&&_<=C&&L[_].startsWith("    ")&&(_==S&&(y-=4),l-=4,L[_]=L[_].slice(4));r.setTextarea(L.join(`
`),y,l),h()}w.key=="z"&&(w.preventDefault(),r.historyPosition>1&&(r.historyPosition-=1,r.setTextarea(r.history[r.historyPosition-1][0],r.history[r.historyPosition-1][1]),r.update(),r.virtualScroller.inputHandler(!0),r.textarea.blur(),r.textarea.focus())),w.key=="y"&&(w.preventDefault(),r.historyPosition<r.history.length&&(r.historyPosition+=1,r.setTextarea(r.history[r.historyPosition-1][0],r.history[r.historyPosition-1][1]),r.update(),r.virtualScroller.inputHandler(!0),r.textarea.blur(),r.textarea.focus()))}else!w.ctrlKey&&w.shiftKey&&w.altKey&&w.key=="f"&&r.setTextarea(r.formatIndentation(r.textarea.value),r.textarea.selectionEnd);try{r.debounceLint()}catch(O){r.debounceLint(),console.error(O)}}function x(w){if(r.textarea.selectionStart==r.textarea.selectionEnd){w.preventDefault();let O=r.textarea.value.split(`
`),L=r.getCurrentLine(),S=O.slice(0,L).join(`
`).length,C=S+O[L].length+1;r.textarea.setSelectionRange(S,C),r.lastTextareaValue=r.textarea.value,document.execCommand("cut"),r.updateCaret()}}function m(w){if(r.textarea.selectionStart==r.textarea.selectionEnd){w.preventDefault();let O=r.textarea.value.split(`
`),L=r.getCurrentLine(),S=O.slice(0,L).join(`
`).length,C=S+O[L].length+1;r.textarea.setSelectionRange(S,C),document.execCommand("copy")}}function g(w){w.preventDefault();let O=w.clipboardData.getData("text").replace(new RegExp(/\r/g),""),L=r.textarea.value.slice(0,r.textarea.selectionStart),S=r.textarea.value.slice(r.textarea.selectionEnd),C=L+O+S,y=r.textarea.selectionStart+O.length,l=C.split(`
`),_=y,E=0,M=0;for(let k=0,Z=l.length;k<Z;k++)if(E+l[k].length+k<_)E+=l[k].length;else{E+=k,M=k;break}let z=[M,y-E],X=l[M].slice(0);if(C=r.formatIndentation(C),l=C.split(`
`),r.textarea.value!==C){let k=l.slice(0,M+1).join(`
`).length-X.length+z[1];r.setTextarea(C,k),h()}r.updateCaret();try{r.debounceLint()}catch(k){r.debounceLint(),console.error(k)}}r.textarea.addEventListener("input",h),r.editor.addEventListener("scroll",b);function h(){if(document.activeElement==r.textarea){r.update(),r.debounceHistoryUpdate(),r.updateCurrentLine(),r.updateHorizontalScroll(),r.updateCaret();try{r.debounceLint()}catch(w){r.debounceLint(),console.error(w)}}}function b(w){r.virtualScroller.scrollHandler(),r.updateCurrentLine(!0)}window.spaceResizeTimeout=null;function T(w){spaceResizeTimeout&&clearTimeout(spaceResizeTimeout),window.spaceResizeTimeout=setTimeout(function(){let O=r.editor.scrollTop;r.gutter.innerHTML="",r.overlay.firstElementChild.innerHTML="",r.initialized=!1,r.virtualScroller.inputHandler(),r.initialized=!0,r.editor.scrollTop=O},100)}}});var Dr=ae((Vn,Rr)=>{var ot=Vt(),Dn=_r(),In=Ar();Rr.exports=class{constructor(e,t,i){let n=this;n.dom=e,n.innerHTML="",n.editor={},n.gutter={},n.container={},n.overlay={},n.textarea={},n.caretPadding={},n.caret={},n.statusBar={},n.copyButton={},n.prism=t,n.indentation="    ",n.currentLine=0,n.history=[],n.historyPosition=0,n.historyUpdateTimeoutId,n.lintTimeoutId,n.lastTextareaValue="",n.lastSelection="",n.initialized=!1,n.virtualScroller={},n.damon=new Dn,n.utils=ot}init(){let e=this;e.statusBarHTML=ot.html`
<div>
    Spaces: <a href="https://github.com/adrianturcev/space/blob/master/bindings.md"><kbd>SPACE</kbd></a>
</div>
<a href="https://github.com/adrianturcev/damon/blob/master/language_reference.md">
    DAMON 
    <svg
    viewBox="0 0 24 24"
    xmlns="http://www.w3.org/2000/svg">
        <title>help-circle</title>
        <circle
            style="fill:#FEFEFE;stroke-width:1.04312;fill-opacity:1"
            cx="12"
            cy="12"
            r="9.6854191" />
        <path
            fill="#FEFEFE"
            d="M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"
            style="fill:#4169e1;fill-opacity:1" />
    </svg>
</a>
<button class="space-copyButton">
    JSON
    <svg
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg">
        <title>content-copy</title>
        <path
            fill="#FEFEFE"
            d="M 4,21 H 15 V 7 H 4 M 4,5 h 11 a -2,2 0 0 1 2,2 v 14 a -2,2 0 0 1 -2,2 H 4 A -2,2 0 0 1 2,21 V 7 A -2,2 0 0 1 4,5 M 7,1 h 12 a -2,2 0 0 1 2,2 V 17 H 19 V 3 H 7 Z"/>
    </svg>
</button>`,e.innerHTML=ot.html`
<div class="space-editor" data-state="js-off">
    <div class="space-gutter"></div>
    <div class="space-container">
<pre class="space-dummyTextarea"><span class="space-caretPadding"></span><span class="space-caret">&nbsp;</span></pre>
        <pre class="space-overlay" aria-hidden="true" tabindex="-1">
            <code class="language-damon"></code>
        </pre>
        <textarea
            class="space-textarea"
            spellcheck="false"
            aria-labelledby=""
            aria-controls="space-statusBar0"
            maxlength="500000">
        </textarea>
        <ul class="space-suggestions"></ul>
    </div>
</div>
<div class="space-statusBar" id="space-statusBar0" role="log" aria-live="polite">${e.statusBarHTML}</div>
        `;let t="";e.dom.innerHTML!==e.innerHTML&&(e.dom.getElementsByTagName("textarea")[0]!==void 0&&(t=e.dom.getElementsByTagName("textarea")[0].innerHTML),e.dom.innerHTML=e.innerHTML),e.editor=e.dom.getElementsByClassName("space-editor")[0],e.gutter=e.dom.getElementsByClassName("space-gutter")[0],e.container=e.dom.getElementsByClassName("space-container")[0],e.overlay=e.dom.getElementsByClassName("space-overlay")[0],e.textarea=e.dom.getElementsByClassName("space-textarea")[0],e.textarea.innerHTML=t,e.caretPadding=e.dom.getElementsByClassName("space-caretPadding")[0],e.caret=e.dom.getElementsByClassName("space-caret")[0],e.statusBar=e.dom.getElementsByClassName("space-statusBar")[0],e.copyButton=e.dom.getElementsByClassName("space-copyButton")[0],e.virtualScroller=new In(this),e.editor.dataset.state="",e.textarea.value=e.formatIndentation(e.textarea.value.replaceAll(/\r/g,"")),e.routes=vr()(this),e.lint()}update(){let e=this;e.initialized&&e.lastTextareaValue==e.textarea.value||(e.gutter.children.length==0?e.virtualScroller.init(0):e.virtualScroller.inputHandler(),e.initialized&&(e.lastTextareaValue=e.textarea.value))}updateHorizontalScroll(){let e=this;if(document.activeElement==e.textarea){let t=e.textarea.value.split(`
`),i=0,n=e.gutter.children[0].children[0].getBoundingClientRect().width;for(let a=0,u=t.length;a<u&&i+t[a].length<e.textarea.selectionEnd;a++)i+=t[a].length+1;(e.textarea.selectionEnd-i)*n-e.gutter.clientWidth<=e.editor.scrollLeft&&(e.editor.scrollLeft=0)}}getCurrentLine(){let e=this,t=e.textarea.value.split(`
`),i=0,n=0,a=0;(e.textarea.selectionDirection=="forward"||e.textarea.selectionStart==e.textarea.selectionEnd)&&(i=e.textarea.selectionEnd),e.textarea.selectionDirection=="backward"&&(i=e.textarea.selectionStart);for(let u=0,s=t.length;u<s;u++)if(n+t[u].length+u<i)n+=t[u].length;else{a=u;break}return a}getSelectionStartCoordinates(){let e=this,t=e.textarea.value.split(`
`),i=e.textarea.selectionStart,n=0,a=0;for(let u=0,s=t.length;u<s;u++)if(n+t[u].length+u<i)n+=t[u].length;else{n+=u,a=u;break}return[a,e.textarea.selectionStart-n]}getSelectionEndCoordinates(){let e=this,t=e.textarea.value.split(`
`),i=e.textarea.selectionEnd,n=0,a=0;for(let u=0,s=t.length;u<s;u++)if(n+t[u].length+u<i)n+=t[u].length;else{n+=u,a=u;break}return[a,e.textarea.selectionEnd-n]}setCarretLine(e){let t=this;e==0?t.textarea.selectionStart=0:t.textarea.selectionStart=t.textarea.value.split(`
`).slice(0,e).reduce(function(i,n){return i+n}).length+e+t.textarea.value.split(`
`)[e].length,t.textarea.selectionEnd=t.textarea.selectionStart,t.textarea.focus()}getTextareaSelection(){let e=this;return e.textarea.selectionStart<e.textarea.selectionEnd?e.textarea.value.slice(e.textarea.selectionStart,e.textarea.selectionEnd):e.textarea.selectionStart<e.textarea.selectionEnd?e.textarea.value.slice(e.textarea.selectionEnd,e.textarea.selectionStart):void 0}updateCurrentLine(e){let t=this,i=t.currentLine;if(t.currentLine=t.getCurrentLine(),i!=t.currentLine||!t.initialized||e||t.lastSelection!=null&&t.getTextareaSelection()==null){for(let a=0,u=t.gutter.children.length;a<u;a++)t.gutter.children[a].classList.remove("currentLine"),t.gutter.children[a].classList.remove("selectionEnd");t.gutter.children[t.currentLine-t.gutter.children[0].textContent.trim()+1]&&(t.textarea.selectionEnd==t.textarea.selectionStart?t.gutter.children[t.currentLine-t.gutter.children[0].textContent.trim()+1].classList.add("currentLine"):t.gutter.children[t.currentLine-t.gutter.children[0].textContent.trim()+1].classList.add("selectionEnd"))}}historyUpdate(){let e=this;if(e.history.length==0||e.textarea.value!=e.history[e.historyPosition-1][0]){let i=function(n,a){return n+a[0]+a[1]};var t=i;if(e.historyPosition!=e.history.length&&(e.history=e.history.slice(0,e.historyPosition)),e.history.push([e.textarea.value,e.textarea.selectionStart]),e.history.reduce(i,"").length*4>1e8){let n=0;for(;e.history.reduce(i,"").length*4>1e8;)n++,e.history.shift();e.historyPosition-=n}e.historyPosition++}}debounceHistoryUpdate(){var e=this,t=arguments;clearTimeout(this.historyUpdateTimeoutId),this.historyUpdateTimeoutId=setTimeout(function(){e.historyUpdateTimeoutId=null,e.historyUpdate.apply(e,t)},200)}formatIndentation(e){let t=this,i=e.split(`
`);for(let n=0,a=i.length;n<a;n++){if(/^ *(\t)+/.test(i[n])){let u=i[n].match(/^ *(\t)+/)[0].length;for(let s=0,d=u;s<d;s++)i[n]=i[n].replace("	","    ")}if(/^( )+/.test(i[n])&&i[n].match(/^( )+/)[0].length%4!==0){for(let u=i[n].match(/^( )+/)[0].length;0<=u;u--)if(u%4==0){i[n].trimStart(),i[n]=" ".repeat(u)+i[n];break}}}return i.join(`
`)}formatHyphens(e){let t=this,i=e.split(`
`);for(let n=0,a=i.length;n<a;n++)if(!/^ *- /.test(i[n])){let u="";/^ /.test(i[n])&&(u=i[n].match(/^( )+/)[0]),i[n]=u+"- "+i[n].slice(u.length)}return i.join(`
`)}updateCaret(){let e=this;e.textarea.selectionDirection=="forward"||e.textarea.selectionStart==e.textarea.selectionEnd?e.caretPadding.textContent=e.textarea.value.slice(0,e.textarea.selectionEnd):e.caretPadding.textContent=e.textarea.value.slice(0,e.textarea.selectionStart)}setTextarea(e,t,i=t){let n=this;n.lastTextareaValue=n.textarea.value,n.textarea.value=e,n.textarea.setSelectionRange(t,i)}lint(){let e=this;try{e.damon.damonToMap(e.textarea.value),e.statusBar.innerHTML=e.statusBarHTML}catch(t){t.language=="JSON"?e.statusBar.innerHTML="<span>( ! ) Error line number "+t.line+": "+t.type+" not JSON-compliant</span>"+e.statusBarHTML:e.statusBar.innerHTML="<span>( ! ) "+t.message+"</span>"+e.statusBarHTML,console.error(t)}e.copyButton=e.dom.getElementsByClassName("space-copyButton")[0],e.copyButton.addEventListener("click",function(t){let i=document.createElement("textarea");i.style.opacity="0";try{i.value=e.damon.damonToJSON(e.textarea.value)}catch{setTimeout(function(){e.copyButton.classList.remove("error")},1100),e.copyButton.classList.add("error");return}document.body.appendChild(i),i.focus(),i.select();try{document.execCommand("copy")&&(setTimeout(function(){e.copyButton.classList.remove("success")},1100),e.copyButton.classList.add("success"))}catch(n){console.error(n.name,n.message)}document.body.removeChild(i)})}debounceLint(){var e=this,t=arguments;clearTimeout(this.lintTimeoutId),this.lintTimeoutId=setTimeout(function(){e.lintTimeoutId=null,e.lint.apply(e,t)},200)}}});(function(){window.Space=Dr()})();})();
/*! Bundled license information:

dompurify/dist/purify.js:
  (*! @license DOMPurify 3.1.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.5/LICENSE *)
*/
