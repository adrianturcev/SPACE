/* PrismJS 1.28.0
https://prismjs.com/download.html#themes=prism-okaidia&languages=json&plugins=show-invisibles+normalize-whitespace */
var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(e){var n=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,t=0,r={},a={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(n){return n instanceof i?new i(n.type,e(n.content),n.alias):Array.isArray(n)?n.map(e):n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function e(n,t){var r,i;switch(t=t||{},a.util.type(n)){case"Object":if(i=a.util.objId(n),t[i])return t[i];for(var l in r={},t[i]=r,n)n.hasOwnProperty(l)&&(r[l]=e(n[l],t));return r;case"Array":return i=a.util.objId(n),t[i]?t[i]:(r=[],t[i]=r,n.forEach((function(n,a){r[a]=e(n,t)})),r);default:return n}},getLanguage:function(e){for(;e;){var t=n.exec(e.className);if(t)return t[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,t){e.className=e.className.replace(RegExp(n,"gi"),""),e.classList.add("language-"+t)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(r.stack)||[])[1];if(e){var n=document.getElementsByTagName("script");for(var t in n)if(n[t].src==e)return n[t]}return null}},isActive:function(e,n,t){for(var r="no-"+n;e;){var a=e.classList;if(a.contains(n))return!0;if(a.contains(r))return!1;e=e.parentElement}return!!t}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,n){var t=a.util.clone(a.languages[e]);for(var r in n)t[r]=n[r];return t},insertBefore:function(e,n,t,r){var i=(r=r||a.languages)[e],l={};for(var o in i)if(i.hasOwnProperty(o)){if(o==n)for(var s in t)t.hasOwnProperty(s)&&(l[s]=t[s]);t.hasOwnProperty(o)||(l[o]=i[o])}var u=r[e];return r[e]=l,a.languages.DFS(a.languages,(function(n,t){t===u&&n!=e&&(this[n]=l)})),l},DFS:function e(n,t,r,i){i=i||{};var l=a.util.objId;for(var o in n)if(n.hasOwnProperty(o)){t.call(n,o,n[o],r||o);var s=n[o],u=a.util.type(s);"Object"!==u||i[l(s)]?"Array"!==u||i[l(s)]||(i[l(s)]=!0,e(s,t,o,i)):(i[l(s)]=!0,e(s,t,null,i))}}},plugins:{},highlightAll:function(e,n){a.highlightAllUnder(document,e,n)},highlightAllUnder:function(e,n,t){var r={callback:t,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),a.hooks.run("before-all-elements-highlight",r);for(var i,l=0;i=r.elements[l++];)a.highlightElement(i,!0===n,r.callback)},highlightElement:function(n,t,r){var i=a.util.getLanguage(n),l=a.languages[i];a.util.setLanguage(n,i);var o=n.parentElement;o&&"pre"===o.nodeName.toLowerCase()&&a.util.setLanguage(o,i);var s={element:n,language:i,grammar:l,code:n.textContent};function u(e){s.highlightedCode=e,a.hooks.run("before-insert",s),s.element.innerHTML=s.highlightedCode,a.hooks.run("after-highlight",s),a.hooks.run("complete",s),r&&r.call(s.element)}if(a.hooks.run("before-sanity-check",s),(o=s.element.parentElement)&&"pre"===o.nodeName.toLowerCase()&&!o.hasAttribute("tabindex")&&o.setAttribute("tabindex","0"),!s.code)return a.hooks.run("complete",s),void(r&&r.call(s.element));if(a.hooks.run("before-highlight",s),s.grammar)if(t&&e.Worker){var c=new Worker(a.filename);c.onmessage=function(e){u(e.data)},c.postMessage(JSON.stringify({language:s.language,code:s.code,immediateClose:!0}))}else u(a.highlight(s.code,s.grammar,s.language));else u(a.util.encode(s.code))},highlight:function(e,n,t){var r={code:e,grammar:n,language:t};if(a.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=a.tokenize(r.code,r.grammar),a.hooks.run("after-tokenize",r),i.stringify(a.util.encode(r.tokens),r.language)},tokenize:function(e,n){var t=n.rest;if(t){for(var r in t)n[r]=t[r];delete n.rest}var a=new s;return u(a,a.head,e),o(e,a,n,a.head,0),function(e){for(var n=[],t=e.head.next;t!==e.tail;)n.push(t.value),t=t.next;return n}(a)},hooks:{all:{},add:function(e,n){var t=a.hooks.all;t[e]=t[e]||[],t[e].push(n)},run:function(e,n){var t=a.hooks.all[e];if(t&&t.length)for(var r,i=0;r=t[i++];)r(n)}},Token:i};function i(e,n,t,r){this.type=e,this.content=n,this.alias=t,this.length=0|(r||"").length}function l(e,n,t,r){e.lastIndex=n;var a=e.exec(t);if(a&&r&&a[1]){var i=a[1].length;a.index+=i,a[0]=a[0].slice(i)}return a}function o(e,n,t,r,s,g){for(var f in t)if(t.hasOwnProperty(f)&&t[f]){var h=t[f];h=Array.isArray(h)?h:[h];for(var d=0;d<h.length;++d){if(g&&g.cause==f+","+d)return;var v=h[d],p=v.inside,m=!!v.lookbehind,y=!!v.greedy,k=v.alias;if(y&&!v.pattern.global){var x=v.pattern.toString().match(/[imsuy]*$/)[0];v.pattern=RegExp(v.pattern.source,x+"g")}for(var b=v.pattern||v,w=r.next,A=s;w!==n.tail&&!(g&&A>=g.reach);A+=w.value.length,w=w.next){var E=w.value;if(n.length>e.length)return;if(!(E instanceof i)){var P,L=1;if(y){if(!(P=l(b,A,e,m))||P.index>=e.length)break;var S=P.index,O=P.index+P[0].length,j=A;for(j+=w.value.length;S>=j;)j+=(w=w.next).value.length;if(A=j-=w.value.length,w.value instanceof i)continue;for(var C=w;C!==n.tail&&(j<O||"string"==typeof C.value);C=C.next)L++,j+=C.value.length;L--,E=e.slice(A,j),P.index-=A}else if(!(P=l(b,0,E,m)))continue;S=P.index;var N=P[0],_=E.slice(0,S),M=E.slice(S+N.length),W=A+E.length;g&&W>g.reach&&(g.reach=W);var z=w.prev;if(_&&(z=u(n,z,_),A+=_.length),c(n,z,L),w=u(n,z,new i(f,p?a.tokenize(N,p):N,k,N)),M&&u(n,w,M),L>1){var I={cause:f+","+d,reach:W};o(e,n,t,w.prev,A,I),g&&I.reach>g.reach&&(g.reach=I.reach)}}}}}}function s(){var e={value:null,prev:null,next:null},n={value:null,prev:e,next:null};e.next=n,this.head=e,this.tail=n,this.length=0}function u(e,n,t){var r=n.next,a={value:t,prev:n,next:r};return n.next=a,r.prev=a,e.length++,a}function c(e,n,t){for(var r=n.next,a=0;a<t&&r!==e.tail;a++)r=r.next;n.next=r,r.prev=n,e.length-=a}if(e.Prism=a,i.stringify=function e(n,t){if("string"==typeof n)return n;if(Array.isArray(n)){var r="";return n.forEach((function(n){r+=e(n,t)})),r}var i={type:n.type,content:e(n.content,t),tag:"span",classes:["token",n.type],attributes:{},language:t},l=n.alias;l&&(Array.isArray(l)?Array.prototype.push.apply(i.classes,l):i.classes.push(l)),a.hooks.run("wrap",i);var o="";for(var s in i.attributes)o+=" "+s+'="'+(i.attributes[s]||"").replace(/"/g,"&quot;")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+o+">"+i.content+"</"+i.tag+">"},!e.document)return e.addEventListener?(a.disableWorkerMessageHandler||e.addEventListener("message",(function(n){var t=JSON.parse(n.data),r=t.language,i=t.code,l=t.immediateClose;e.postMessage(a.highlight(i,a.languages[r],r)),l&&e.close()}),!1),a):a;var g=a.util.currentScript();function f(){a.manual||a.highlightAll()}if(g&&(a.filename=g.src,g.hasAttribute("data-manual")&&(a.manual=!0)),!a.manual){var h=document.readyState;"loading"===h||"interactive"===h&&g&&g.defer?document.addEventListener("DOMContentLoaded",f):window.requestAnimationFrame?window.requestAnimationFrame(f):window.setTimeout(f,16)}return a}(_self);"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism);
Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},Prism.languages.webmanifest=Prism.languages.json;
!function(){if("undefined"!=typeof Prism){var r={tab:/\t/,crlf:/\r\n/,lf:/\n/,cr:/\r/,space:/ /};Prism.hooks.add("before-highlight",(function(r){i(r.grammar)}))}function e(r,a){var n=r[a];switch(Prism.util.type(n)){case"RegExp":var t={};r[a]={pattern:n,inside:t},i(t);break;case"Array":for(var f=0,s=n.length;f<s;f++)e(n,f);break;default:i(t=n.inside||(n.inside={}))}}function i(a){if(a&&!a.tab){for(var n in r)r.hasOwnProperty(n)&&(a[n]=r[n]);for(var n in a)a.hasOwnProperty(n)&&!r[n]&&("rest"===n?i(a.rest):e(a,n))}}}();
!function(){if("undefined"!=typeof Prism){var e=Object.assign||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},t={"remove-trailing":"boolean","remove-indent":"boolean","left-trim":"boolean","right-trim":"boolean","break-lines":"number",indent:"number","remove-initial-line-feed":"boolean","tabs-to-spaces":"number","spaces-to-tabs":"number"};n.prototype={setDefaults:function(t){this.defaults=e(this.defaults,t)},normalize:function(t,n){for(var r in n=e(this.defaults,n)){var i=r.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}));"normalize"!==r&&"setDefaults"!==i&&n[r]&&this[i]&&(t=this[i].call(this,t,n[r]))}return t},leftTrim:function(e){return e.replace(/^\s+/,"")},rightTrim:function(e){return e.replace(/\s+$/,"")},tabsToSpaces:function(e,t){return t=0|t||4,e.replace(/\t/g,new Array(++t).join(" "))},spacesToTabs:function(e,t){return t=0|t||4,e.replace(RegExp(" {"+t+"}","g"),"\t")},removeTrailing:function(e){return e.replace(/\s*?$/gm,"")},removeInitialLineFeed:function(e){return e.replace(/^(?:\r?\n|\r)/,"")},removeIndent:function(e){var t=e.match(/^[^\S\n\r]*(?=\S)/gm);return t&&t[0].length?(t.sort((function(e,t){return e.length-t.length})),t[0].length?e.replace(RegExp("^"+t[0],"gm"),""):e):e},indent:function(e,t){return e.replace(/^[^\S\n\r]*(?=\S)/gm,new Array(++t).join("\t")+"$&")},breakLines:function(e,t){t=!0===t?80:0|t||80;for(var n=e.split("\n"),i=0;i<n.length;++i)if(!(r(n[i])<=t)){for(var o=n[i].split(/(\s+)/g),a=0,l=0;l<o.length;++l){var s=r(o[l]);(a+=s)>t&&(o[l]="\n"+o[l],a=s)}n[i]=o.join("")}return n.join("\n")}},"undefined"!=typeof module&&module.exports&&(module.exports=n),Prism.plugins.NormalizeWhitespace=new n({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0}),Prism.hooks.add("before-sanity-check",(function(e){var n=Prism.plugins.NormalizeWhitespace;if((!e.settings||!1!==e.settings["whitespace-normalization"])&&Prism.util.isActive(e.element,"whitespace-normalization",!0))if(e.element&&e.element.parentNode||!e.code){var r=e.element.parentNode;if(e.code&&r&&"pre"===r.nodeName.toLowerCase()){for(var i in null==e.settings&&(e.settings={}),t)if(Object.hasOwnProperty.call(t,i)){var o=t[i];if(r.hasAttribute("data-"+i))try{var a=JSON.parse(r.getAttribute("data-"+i)||"true");typeof a===o&&(e.settings[i]=a)}catch(e){}}for(var l=r.childNodes,s="",c="",u=!1,m=0;m<l.length;++m){var f=l[m];f==e.element?u=!0:"#text"===f.nodeName&&(u?c+=f.nodeValue:s+=f.nodeValue,r.removeChild(f),--m)}if(e.element.children.length&&Prism.plugins.KeepMarkup){var d=s+e.element.innerHTML+c;e.element.innerHTML=n.normalize(d,e.settings),e.code=e.element.textContent}else e.code=s+e.code+c,e.code=n.normalize(e.code,e.settings)}}else e.code=n.normalize(e.code,e.settings)}))}function n(t){this.defaults=e({},t)}function r(e){for(var t=0,n=0;n<e.length;++n)e.charCodeAt(n)=="\t".charCodeAt(0)&&(t+=3);return e.length+t}}();
;
Prism.languages.damon = {
	'list-hyphen': {
		pattern: /(^\s*)(?:[*-]|\d+\.)/m,
		lookbehind: true,
		greedy: true
	},
	'string': {
		pattern: /(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,
		lookbehind: true,
		greedy: true
	},
	'comment': {
		pattern: /\/\/.*|\/\*[\s\S]*?(?:\*\/|$)\n/,
		greedy: true
	},
	'number': /-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b\n/i,
	'operator': /:/,
	'boolean': /\b(?:false|true)\b\n/,
	'null': {
		pattern: /\bnull\b\n/,
		alias: 'keyword'
	},
	'map': {
		pattern: /(\{\})\n/,
	},
	'list': {
		pattern: /(\[\])\n/,
	},
	'punctuation': /[\{\}\[\]]/,
};

Prism.languages.webmanifest = Prism.languages.damon;;
(()=>{var hr=Object.create;var De=Object.defineProperty;var pr=Object.getOwnPropertyDescriptor;var mr=Object.getOwnPropertyNames;var gr=Object.getPrototypeOf,yr=Object.prototype.hasOwnProperty;var Er=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var xr=(t,e)=>()=>(t&&(e=t(t=0)),e);var le=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),wr=(t,e)=>{for(var n in e)De(t,n,{get:e[n],enumerable:!0})},Vt=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of mr(e))!yr.call(t,r)&&r!==n&&De(t,r,{get:()=>e[r],enumerable:!(i=pr(e,r))||i.enumerable});return t};var Ie=(t,e,n)=>(n=t!=null?hr(gr(t)):{},Vt(e||!t||!t.__esModule?De(n,"default",{value:t,enumerable:!0}):n,t)),Lr=t=>Vt(De({},"__esModule",{value:!0}),t);var qt=le((Mr,Wt)=>{Wt.exports={nil(t){return t===null||typeof t>"u"},hack(t,e,n){return t.slice(e,n+1)},pick(t,e){return t.filter(e)},prune(t,e){return t.filter(function(n){return!e(n)})},check(t,e){return t.every(e)},escape(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},html(t){let e=t[0],n=Math.max(t.length,arguments.length-1);for(let i=1;i<t.length;i++)e+=arguments[i],e+=t[i];return e},addDataState(t,e){let n=[];t.dataset.state&&t.dataset.state.indexOf(" ")>-1?n=t.dataset.state.split(" "):n=[t.dataset.state],n.indexOf(e)===-1&&(n.push(e),t.dataset.state=n.join(" "))},removeDataState(t,e){let n=[];t.dataset.state&&t.dataset.state.indexOf(" ")>-1?n=t.dataset.state.split(" "):n=[t.dataset.state],t.dataset.state=n.filter(i=>i!==e).join(" ")},replaceDataState(t,e,n){this.removeDataState(t,e),this.addDataState(t,n)},toggleDataState(t,e){t.dataset.state.split(" ").indexOf(e)==-1?this.addDataState(t,e):this.removeDataState(t,e)},ajaxGet(t,e,n,i){var r=new XMLHttpRequest;r.open("GET",t),r.addEventListener("load",function(){if(r.status>=200&&r.status<400)if(n){var l={};try{l=JSON.parse(r.responseText)}catch{console.error("Get request returned invalid JSON.")}i===void 0?e(l):e.apply(i,[l])}else i===void 0?e(r.responseText):e.apply(i,[r.responseText]);else console.error(r.status+" "+r.statusText+" "+t)}),r.addEventListener("error",function(){console.error("Network error trying to access: "+t)}),r.send(null)},ajaxPost(t,e,n,i,r,l,u){var s=new XMLHttpRequest;s.open("POST",t),s.addEventListener("load",function(){s.status>=200&&s.status<400?l===void 0?n(s):n.apply(l,[s]):(u===void 0?i(s):i.apply(u,[s]),console.error(s.status+" "+s.statusText+" "+t))}),s.addEventListener("error",function(){console.error("Network error trying to access: "+t)}),r&&(s.setRequestHeader("Content-Type","application/json"),e=JSON.stringify(e)),s.send(e)}}});var yn={};wr(yn,{__addDisposableResource:()=>mn,__assign:()=>Pe,__asyncDelegator:()=>on,__asyncGenerator:()=>an,__asyncValues:()=>sn,__await:()=>pe,__awaiter:()=>jt,__classPrivateFieldGet:()=>dn,__classPrivateFieldIn:()=>pn,__classPrivateFieldSet:()=>hn,__createBinding:()=>ke,__decorate:()=>Xt,__disposeResources:()=>gn,__esDecorate:()=>Or,__exportStar:()=>tn,__extends:()=>Yt,__generator:()=>en,__importDefault:()=>fn,__importStar:()=>cn,__makeTemplateObject:()=>un,__metadata:()=>Qt,__param:()=>Zt,__propKey:()=>Tr,__read:()=>tt,__rest:()=>Kt,__runInitializers:()=>Sr,__setFunctionName:()=>br,__spread:()=>nn,__spreadArray:()=>ln,__spreadArrays:()=>rn,__values:()=>Me,default:()=>_r});function Yt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");et(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Kt(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function Xt(t,e,n,i){var r=arguments.length,l=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(u=t[s])&&(l=(r<3?u(l):r>3?u(e,n,l):u(e,n))||l);return r>3&&l&&Object.defineProperty(e,n,l),l}function Zt(t,e){return function(n,i){e(n,i,t)}}function Or(t,e,n,i,r,l){function u(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var s=i.kind,h=s==="getter"?"get":s==="setter"?"set":"value",c=!e&&t?i.static?t:t.prototype:null,g=e||(c?Object.getOwnPropertyDescriptor(c,i.name):{}),o,O=!1,y=n.length-1;y>=0;y--){var E={};for(var d in i)E[d]=d==="access"?{}:i[d];for(var d in i.access)E.access[d]=i.access[d];E.addInitializer=function(T){if(O)throw new TypeError("Cannot add initializers after decoration has completed");l.push(u(T||null))};var S=(0,n[y])(s==="accessor"?{get:g.get,set:g.set}:g[h],E);if(s==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(o=u(S.get))&&(g.get=o),(o=u(S.set))&&(g.set=o),(o=u(S.init))&&r.unshift(o)}else(o=u(S))&&(s==="field"?r.unshift(o):g[h]=o)}c&&Object.defineProperty(c,i.name,g),O=!0}function Sr(t,e,n){for(var i=arguments.length>2,r=0;r<e.length;r++)n=i?e[r].call(t,n):e[r].call(t);return i?n:void 0}function Tr(t){return typeof t=="symbol"?t:"".concat(t)}function br(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Qt(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function jt(t,e,n,i){function r(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function s(g){try{c(i.next(g))}catch(o){u(o)}}function h(g){try{c(i.throw(g))}catch(o){u(o)}}function c(g){g.done?l(g.value):r(g.value).then(s,h)}c((i=i.apply(t,e||[])).next())})}function en(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,r,l,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(g){return h([c,g])}}function h(c){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(n=0)),n;)try{if(i=1,r&&(l=c[0]&2?r.return:c[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,c[1])).done)return l;switch(r=0,l&&(c=[c[0]&2,l.value]),c[0]){case 0:case 1:l=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,r=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!l||c[1]>l[0]&&c[1]<l[3])){n.label=c[1];break}if(c[0]===6&&n.label<l[1]){n.label=l[1],l=c;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(c);break}l[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(g){c=[6,g],r=0}finally{i=l=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function tn(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&ke(e,t,n)}function Me(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function tt(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),r,l=[],u;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(s){u={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return l}function nn(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(tt(arguments[e]));return t}function rn(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),r=0,e=0;e<n;e++)for(var l=arguments[e],u=0,s=l.length;u<s;u++,r++)i[r]=l[u];return i}function ln(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,l;i<r;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return t.concat(l||Array.prototype.slice.call(e))}function pe(t){return this instanceof pe?(this.v=t,this):new pe(t)}function an(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,l=[];return r={},s("next"),s("throw"),s("return",u),r[Symbol.asyncIterator]=function(){return this},r;function u(y){return function(E){return Promise.resolve(E).then(y,o)}}function s(y,E){i[y]&&(r[y]=function(d){return new Promise(function(S,T){l.push([y,d,S,T])>1||h(y,d)})},E&&(r[y]=E(r[y])))}function h(y,E){try{c(i[y](E))}catch(d){O(l[0][3],d)}}function c(y){y.value instanceof pe?Promise.resolve(y.value.v).then(g,o):O(l[0][2],y)}function g(y){h("next",y)}function o(y){h("throw",y)}function O(y,E){y(E),l.shift(),l.length&&h(l[0][0],l[0][1])}}function on(t){var e,n;return e={},i("next"),i("throw",function(r){throw r}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(r,l){e[r]=t[r]?function(u){return(n=!n)?{value:pe(t[r](u)),done:!1}:l?l(u):u}:l}}function sn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Me=="function"?Me(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(l){n[l]=t[l]&&function(u){return new Promise(function(s,h){u=t[l](u),r(s,h,u.done,u.value)})}}function r(l,u,s,h){Promise.resolve(h).then(function(c){l({value:c,done:s})},u)}}function un(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function cn(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&ke(e,t,n);return Nr(e,t),e}function fn(t){return t&&t.__esModule?t:{default:t}}function dn(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)}function hn(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n}function pn(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function mn(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],n&&(r=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");r&&(i=function(){try{r.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:i,async:n})}else n&&t.stack.push({async:!0});return e}function gn(t){function e(i){t.error=t.hasError?new Ar(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}function n(){for(;t.stack.length;){var i=t.stack.pop();try{var r=i.dispose&&i.dispose.call(i.value);if(i.async)return Promise.resolve(r).then(n,function(l){return e(l),n()})}catch(l){e(l)}}if(t.hasError)throw t.error}return n()}var et,Pe,ke,Nr,Ar,_r,En=xr(()=>{et=function(t,e){return et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},et(t,e)};Pe=function(){return Pe=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Pe.apply(this,arguments)};ke=Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]};Nr=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};Ar=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var i=new Error(n);return i.name="SuppressedError",i.error=t,i.suppressed=e,i};_r={__extends:Yt,__assign:Pe,__rest:Kt,__decorate:Xt,__param:Zt,__metadata:Qt,__awaiter:jt,__generator:en,__createBinding:ke,__exportStar:tn,__values:Me,__read:tt,__spread:nn,__spreadArrays:rn,__spreadArray:ln,__await:pe,__asyncGenerator:an,__asyncDelegator:on,__asyncValues:sn,__makeTemplateObject:un,__importStar:cn,__importDefault:fn,__classPrivateFieldGet:dn,__classPrivateFieldSet:hn,__classPrivateFieldIn:pn,__addDisposableResource:mn,__disposeResources:gn}});var xn=le(nt=>{(function(t){"use strict";var e=typeof process=="object"&&process.env?process.env:self;t.parser=function(m){return new o(m)},t.CParser=o,t.CStream=y,t.createStream=O,t.MAX_BUFFER_LENGTH=64*1024,t.DEBUG=e.CDEBUG==="debug",t.INFO=e.CDEBUG==="debug"||e.CDEBUG==="info",t.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var n={textNode:void 0,numberNode:""},i=t.EVENTS.filter(function(m){return m!=="error"&&m!=="end"}),r=0,l;t.STATE={BEGIN:r++,VALUE:r++,OPEN_OBJECT:r++,CLOSE_OBJECT:r++,OPEN_ARRAY:r++,CLOSE_ARRAY:r++,TEXT_ESCAPE:r++,STRING:r++,BACKSLASH:r++,END:r++,OPEN_KEY:r++,CLOSE_KEY:r++,TRUE:r++,TRUE2:r++,TRUE3:r++,FALSE:r++,FALSE2:r++,FALSE3:r++,FALSE4:r++,NULL:r++,NULL2:r++,NULL3:r++,NUMBER_DECIMAL_POINT:r++,NUMBER_DIGIT:r++};for(var u in t.STATE)t.STATE[t.STATE[u]]=u;r=t.STATE;let s={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(m){function a(){this.__proto__=m}return a.prototype=m,new a}),Object.getPrototypeOf||(Object.getPrototypeOf=function(m){return m.__proto__}),Object.keys||(Object.keys=function(m){var a=[];for(var A in m)m.hasOwnProperty(A)&&a.push(A);return a});function h(m){var a=Math.max(t.MAX_BUFFER_LENGTH,10),A=0;for(var L in n){var M=m[L]===void 0?0:m[L].length;if(M>a)switch(L){case"text":closeText(m);break;default:p(m,"Max buffer length exceeded: "+L)}A=Math.max(A,M)}m.bufferCheckPosition=t.MAX_BUFFER_LENGTH-A+m.position}function c(m){for(var a in n)m[a]=n[a]}var g=/[\\"\n]/g;function o(m){if(!(this instanceof o))return new o(m);var a=this;c(a),a.bufferCheckPosition=t.MAX_BUFFER_LENGTH,a.q=a.c=a.p="",a.opt=m||{},a.closed=a.closedRoot=a.sawRoot=!1,a.tag=a.error=null,a.state=r.BEGIN,a.stack=new Array,a.position=a.column=0,a.line=1,a.slashed=!1,a.unicodeI=0,a.unicodeS=null,a.depth=0,E(a,"onready")}o.prototype={end:function(){x(this)},write:_,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{l=Er("stream").Stream}catch{l=function(){}}function O(m){return new y(m)}function y(m){if(!(this instanceof y))return new y(m);this._parser=new o(m),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var a=this;l.apply(a),this._parser.onend=function(){a.emit("end")},this._parser.onerror=function(A){a.emit("error",A),a._parser.error=null},i.forEach(function(A){Object.defineProperty(a,"on"+A,{get:function(){return a._parser["on"+A]},set:function(L){if(!L)return a.removeAllListeners(A),a._parser["on"+A]=L,L;a.on(A,L)},enumerable:!0,configurable:!1})})}y.prototype=Object.create(l.prototype,{constructor:{value:y}}),y.prototype.write=function(m){m=new Buffer(m);for(var a=0;a<m.length;a++){var A=m[a];if(this.bytes_remaining>0){for(var L=0;L<this.bytes_remaining;L++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+L]=m[L];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,a=a+L-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&A>=128)if(A>=194&&A<=223&&(this.bytes_in_sequence=2),A>=224&&A<=239&&(this.bytes_in_sequence=3),A>=240&&A<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+a>m.length){for(var M=0;M<=m.length-1-a;M++)this.temp_buffs[this.bytes_in_sequence][M]=m[a+M];return this.bytes_remaining=a+this.bytes_in_sequence-m.length,!0}else{this.string=m.slice(a,a+this.bytes_in_sequence).toString(),a=a+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var z=a;z<m.length&&!(m[z]>=128);z++);this.string=m.slice(a,z).toString(),this._parser.write(this.string),this.emit("data",this.string),a=z-1}},y.prototype.end=function(m){return m&&m.length&&this._parser.write(m.toString()),this._parser.end(),!0},y.prototype.on=function(m,a){var A=this;return!A._parser["on"+m]&&i.indexOf(m)!==-1&&(A._parser["on"+m]=function(){var L=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);L.splice(0,0,m),A.emit.apply(A,L)}),l.prototype.on.call(A,m,a)},y.prototype.destroy=function(){c(this._parser),this.emit("close")};function E(m,a,A){t.INFO&&console.log("-- emit",a,A),m[a]&&m[a](A)}function d(m,a,A){S(m),E(m,a,A)}function S(m,a){m.textNode=w(m.opt,m.textNode),m.textNode!==void 0&&E(m,a||"onvalue",m.textNode),m.textNode=void 0}function T(m){m.numberNode&&E(m,"onvalue",parseFloat(m.numberNode)),m.numberNode=""}function w(m,a){return a===void 0||(m.trim&&(a=a.trim()),m.normalize&&(a=a.replace(/\s+/g," "))),a}function p(m,a){return S(m),a+=`
Line: `+m.line+`
Column: `+m.column+`
Char: `+m.c,a=new Error(a),m.error=a,E(m,"onerror",a),m}function x(m){return(m.state!==r.VALUE||m.depth!==0)&&p(m,"Unexpected end"),S(m),m.c="",m.closed=!0,E(m,"onend"),o.call(m,m.opt),m}function N(m){return m===s.carriageReturn||m===s.lineFeed||m===s.space||m===s.tab}function _(m){var a=this;if(this.error)throw this.error;if(a.closed)return p(a,"Cannot write after close. Assign an onready handler.");if(m===null)return x(a);var A=0,L=m.charCodeAt(0),M=a.p,z=!1;for(t.DEBUG&&console.log("write -> ["+m+"]");L&&(M=L,a.c=L=m.charCodeAt(A++),M!==L?a.p=M:M=a.p,!!L);)switch(t.DEBUG&&console.log(A,L,t.STATE[a.state]),z?z=!1:(a.position++,L===s.lineFeed?(a.line++,a.column=0):a.column++),a.state){case r.BEGIN:L===s.openBrace?a.state=r.OPEN_OBJECT:L===s.openBracket?a.state=r.OPEN_ARRAY:N(L)||p(a,"Non-whitespace before {[.");continue;case r.OPEN_KEY:case r.OPEN_OBJECT:if(N(L))continue;if(a.state===r.OPEN_KEY)a.stack.push(r.CLOSE_KEY);else if(L===s.closeBrace){E(a,"onopenobject"),this.depth++,E(a,"oncloseobject"),this.depth--,a.state=a.stack.pop()||r.VALUE;continue}else a.stack.push(r.CLOSE_OBJECT);L===s.doubleQuote?a.state=r.STRING:p(a,'Malformed object key should start with "');continue;case r.CLOSE_KEY:case r.CLOSE_OBJECT:if(N(L))continue;var X=a.state===r.CLOSE_KEY?"key":"object";L===s.colon?(a.state===r.CLOSE_OBJECT?(a.stack.push(r.CLOSE_OBJECT),S(a,"onopenobject"),this.depth++):S(a,"onkey"),a.state=r.VALUE):L===s.closeBrace?(d(a,"oncloseobject"),this.depth--,a.state=a.stack.pop()||r.VALUE):L===s.comma?(a.state===r.CLOSE_OBJECT&&a.stack.push(r.CLOSE_OBJECT),S(a),a.state=r.OPEN_KEY):p(a,"Bad object");continue;case r.OPEN_ARRAY:case r.VALUE:if(N(L))continue;if(a.state===r.OPEN_ARRAY)if(E(a,"onopenarray"),this.depth++,a.state=r.VALUE,L===s.closeBracket){E(a,"onclosearray"),this.depth--,a.state=a.stack.pop()||r.VALUE;continue}else a.stack.push(r.CLOSE_ARRAY);L===s.doubleQuote?a.state=r.STRING:L===s.openBrace?a.state=r.OPEN_OBJECT:L===s.openBracket?a.state=r.OPEN_ARRAY:L===s.t?a.state=r.TRUE:L===s.f?a.state=r.FALSE:L===s.n?a.state=r.NULL:L===s.minus?a.numberNode+="-":s._0<=L&&L<=s._9?(a.numberNode+=String.fromCharCode(L),a.state=r.NUMBER_DIGIT):p(a,"Bad value");continue;case r.CLOSE_ARRAY:if(L===s.comma)a.stack.push(r.CLOSE_ARRAY),S(a,"onvalue"),a.state=r.VALUE;else if(L===s.closeBracket)d(a,"onclosearray"),this.depth--,a.state=a.stack.pop()||r.VALUE;else{if(N(L))continue;p(a,"Bad array")}continue;case r.STRING:a.textNode===void 0&&(a.textNode="");var H=A-1,Z=a.slashed,Q=a.unicodeI;e:for(;;){for(t.DEBUG&&console.log(A,L,t.STATE[a.state],Z);Q>0;)if(a.unicodeS+=String.fromCharCode(L),L=m.charCodeAt(A++),a.position++,Q===4?(a.textNode+=String.fromCharCode(parseInt(a.unicodeS,16)),Q=0,H=A-1):Q++,!L)break e;if(L===s.doubleQuote&&!Z){a.state=a.stack.pop()||r.VALUE,a.textNode+=m.substring(H,A-1),a.position+=A-1-H;break}if(L===s.backslash&&!Z&&(Z=!0,a.textNode+=m.substring(H,A-1),a.position+=A-1-H,L=m.charCodeAt(A++),a.position++,!L))break;if(Z){if(Z=!1,L===s.n?a.textNode+=`
`:L===s.r?a.textNode+="\r":L===s.t?a.textNode+="	":L===s.f?a.textNode+="\f":L===s.b?a.textNode+="\b":L===s.u?(Q=1,a.unicodeS=""):a.textNode+=String.fromCharCode(L),L=m.charCodeAt(A++),a.position++,H=A-1,L)continue;break}g.lastIndex=A;var ge=g.exec(m);if(ge===null){A=m.length+1,a.textNode+=m.substring(H,A-1),a.position+=A-1-H;break}if(A=ge.index+1,L=m.charCodeAt(ge.index),!L){a.textNode+=m.substring(H,A-1),a.position+=A-1-H;break}}a.slashed=Z,a.unicodeI=Q;continue;case r.TRUE:L===s.r?a.state=r.TRUE2:p(a,"Invalid true started with t"+L);continue;case r.TRUE2:L===s.u?a.state=r.TRUE3:p(a,"Invalid true started with tr"+L);continue;case r.TRUE3:L===s.e?(E(a,"onvalue",!0),a.state=a.stack.pop()||r.VALUE):p(a,"Invalid true started with tru"+L);continue;case r.FALSE:L===s.a?a.state=r.FALSE2:p(a,"Invalid false started with f"+L);continue;case r.FALSE2:L===s.l?a.state=r.FALSE3:p(a,"Invalid false started with fa"+L);continue;case r.FALSE3:L===s.s?a.state=r.FALSE4:p(a,"Invalid false started with fal"+L);continue;case r.FALSE4:L===s.e?(E(a,"onvalue",!1),a.state=a.stack.pop()||r.VALUE):p(a,"Invalid false started with fals"+L);continue;case r.NULL:L===s.u?a.state=r.NULL2:p(a,"Invalid null started with n"+L);continue;case r.NULL2:L===s.l?a.state=r.NULL3:p(a,"Invalid null started with nu"+L);continue;case r.NULL3:L===s.l?(E(a,"onvalue",null),a.state=a.stack.pop()||r.VALUE):p(a,"Invalid null started with nul"+L);continue;case r.NUMBER_DECIMAL_POINT:L===s.period?(a.numberNode+=".",a.state=r.NUMBER_DIGIT):p(a,"Leading zero not followed by .");continue;case r.NUMBER_DIGIT:s._0<=L&&L<=s._9?a.numberNode+=String.fromCharCode(L):L===s.period?(a.numberNode.indexOf(".")!==-1&&p(a,"Invalid number has two dots"),a.numberNode+="."):L===s.e||L===s.E?((a.numberNode.indexOf("e")!==-1||a.numberNode.indexOf("E")!==-1)&&p(a,"Invalid number has two exponential"),a.numberNode+="e"):L===s.plus||L===s.minus?(M===s.e||M===s.E||p(a,"Invalid symbol in number"),a.numberNode+=String.fromCharCode(L)):(T(a),A--,z=!0,a.state=a.stack.pop()||r.VALUE);continue;default:p(a,"Unknown state: "+a.state)}return a.position>=a.bufferCheckPosition&&h(a),a}})(typeof nt>"u"?clarinet={}:nt)});var Ln=le(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.stringify=me.parse=void 0;var Cr=(En(),Lr(yn)),vr=Cr.__importDefault(xn());function Rr(t){let e=it(),n,i;function r(u){try{let s=e.next(u);s.done&&(n=s.value)}catch(s){i=s}}let l=vr.default.parser();if(l.onopenobject=u=>r({type:"openobject",key:u}),l.onopenarray=()=>r({type:"openarray"}),l.onkey=u=>r({type:"key",key:u}),l.onvalue=u=>r({type:"value",value:u}),l.oncloseobject=()=>r({type:"closeobject"}),l.onclosearray=()=>r({type:"closearray"}),l.onerror=u=>r({type:"error",err:u}),e.next(),l.write(t).close(),i)throw i;return n}me.parse=Rr;function rt(t){return Array.isArray(t)?`[${t.map(rt).join(",")}]`:t instanceof Map?`{${[...t].map(([e,n])=>JSON.stringify(e)+":"+rt(n)).join(",")}}`:JSON.stringify(t)}me.stringify=rt;var wn=Symbol();function*it(){let t=yield;switch(t.type){case"value":return t.value;case"openobject":let e=new Map,n=t.key;for(n===void 0&&(yield);n!==void 0;)e.set(n,yield*it()),n=(yield).key;return e;case"openarray":let i=[],r;for(;;){if(r=yield*it(),r===wn)return i;i.push(r)}case"closearray":return wn;case"error":throw t.err;default:throw Error(`Unexpected ParseEvent ${t.type}`)}}});var On=le((lt,at)=>{(function(t,e){typeof lt=="object"&&typeof at<"u"?at.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.DOMPurify=e())})(lt,function(){"use strict";let{entries:t,setPrototypeOf:e,isFrozen:n,getPrototypeOf:i,getOwnPropertyDescriptor:r}=Object,{freeze:l,seal:u,create:s}=Object,{apply:h,construct:c}=typeof Reflect<"u"&&Reflect;l||(l=function(v){return v}),u||(u=function(v){return v}),h||(h=function(v,P,D){return v.apply(P,D)}),c||(c=function(v,P){return new v(...P)});let g=_(Array.prototype.forEach),o=_(Array.prototype.pop),O=_(Array.prototype.push),y=_(String.prototype.toLowerCase),E=_(String.prototype.toString),d=_(String.prototype.match),S=_(String.prototype.replace),T=_(String.prototype.indexOf),w=_(String.prototype.trim),p=_(Object.prototype.hasOwnProperty),x=_(RegExp.prototype.test),N=m(TypeError);function _(I){return function(v){for(var P=arguments.length,D=new Array(P>1?P-1:0),G=1;G<P;G++)D[G-1]=arguments[G];return h(I,v,D)}}function m(I){return function(){for(var v=arguments.length,P=new Array(v),D=0;D<v;D++)P[D]=arguments[D];return c(I,P)}}function a(I,v){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y;e&&e(I,null);let D=v.length;for(;D--;){let G=v[D];if(typeof G=="string"){let ne=P(G);ne!==G&&(n(v)||(v[D]=ne),G=ne)}I[G]=!0}return I}function A(I){for(let v=0;v<I.length;v++)p(I,v)||(I[v]=null);return I}function L(I){let v=s(null);for(let[P,D]of t(I))p(I,P)&&(Array.isArray(D)?v[P]=A(D):D&&typeof D=="object"&&D.constructor===Object?v[P]=L(D):v[P]=D);return v}function M(I,v){for(;I!==null;){let D=r(I,v);if(D){if(D.get)return _(D.get);if(typeof D.value=="function")return _(D.value)}I=i(I)}function P(){return null}return P}let z=l(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),X=l(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),H=l(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Z=l(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Q=l(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ge=l(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ut=l(["#text"]),ct=l(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),He=l(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ft=l(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Te=l(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Pn=u(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Mn=u(/<%[\w\W]*|[\w\W]*%>/gm),kn=u(/\${[\w\W]*}/gm),Hn=u(/^data-[\-\w.\u00B7-\uFFFF]/),$n=u(/^aria-[\-\w]+$/),dt=u(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Fn=u(/^(?:\w+script|data):/i),Un=u(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ht=u(/^html$/i),Bn=u(/^[a-z][.\w]*(-[.\w]+)+$/i);var pt=Object.freeze({__proto__:null,MUSTACHE_EXPR:Pn,ERB_EXPR:Mn,TMPLIT_EXPR:kn,DATA_ATTR:Hn,ARIA_ATTR:$n,IS_ALLOWED_URI:dt,IS_SCRIPT_OR_DATA:Fn,ATTR_WHITESPACE:Un,DOCTYPE_NAME:ht,CUSTOM_ELEMENT:Bn});let ye={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Jn=function(){return typeof window>"u"?null:window},zn=function(v,P){if(typeof v!="object"||typeof v.createPolicy!="function")return null;let D=null,G="data-tt-policy-suffix";P&&P.hasAttribute(G)&&(D=P.getAttribute(G));let ne="dompurify"+(D?"#"+D:"");try{return v.createPolicy(ne,{createHTML(oe){return oe},createScriptURL(oe){return oe}})}catch{return console.warn("TrustedTypes policy "+ne+" could not be created."),null}};function mt(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Jn(),v=R=>mt(R);if(v.version="3.1.5",v.removed=[],!I||!I.document||I.document.nodeType!==ye.document)return v.isSupported=!1,v;let{document:P}=I,D=P,G=D.currentScript,{DocumentFragment:ne,HTMLTemplateElement:oe,Node:$e,Element:gt,NodeFilter:Ee,NamedNodeMap:Vn=I.NamedNodeMap||I.MozNamedAttrMap,HTMLFormElement:Wn,DOMParser:qn,trustedTypes:be}=I,Ne=gt.prototype,Yn=M(Ne,"cloneNode"),Kn=M(Ne,"nextSibling"),Xn=M(Ne,"childNodes"),Fe=M(Ne,"parentNode");if(typeof oe=="function"){let R=P.createElement("template");R.content&&R.content.ownerDocument&&(P=R.content.ownerDocument)}let W,xe="",{implementation:Ue,createNodeIterator:Zn,createDocumentFragment:Qn,getElementsByTagName:jn}=P,{importNode:er}=D,j={};v.isSupported=typeof t=="function"&&typeof Fe=="function"&&Ue&&Ue.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:Be,ERB_EXPR:Je,TMPLIT_EXPR:ze,DATA_ATTR:tr,ARIA_ATTR:nr,IS_SCRIPT_OR_DATA:rr,ATTR_WHITESPACE:yt,CUSTOM_ELEMENT:ir}=pt,{IS_ALLOWED_URI:Et}=pt,F=null,xt=a({},[...z,...X,...H,...Q,...ut]),U=null,wt=a({},[...ct,...He,...ft,...Te]),$=Object.seal(s(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),we=null,Ge=null,Lt=!0,Ve=!0,Ot=!1,St=!0,se=!1,We=!0,ae=!1,qe=!1,Ye=!1,ue=!1,Ae=!1,_e=!1,Tt=!0,bt=!1,lr="user-content-",Ke=!0,Le=!1,ce={},fe=null,Nt=a({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),At=null,_t=a({},["audio","video","img","source","image","track"]),Xe=null,Ct=a({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ce="http://www.w3.org/1998/Math/MathML",ve="http://www.w3.org/2000/svg",re="http://www.w3.org/1999/xhtml",de=re,Ze=!1,Qe=null,ar=a({},[Ce,ve,re],E),Oe=null,or=["application/xhtml+xml","text/html"],sr="text/html",B=null,he=null,ur=P.createElement("form"),vt=function(f){return f instanceof RegExp||f instanceof Function},je=function(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(he&&he===f)){if((!f||typeof f!="object")&&(f={}),f=L(f),Oe=or.indexOf(f.PARSER_MEDIA_TYPE)===-1?sr:f.PARSER_MEDIA_TYPE,B=Oe==="application/xhtml+xml"?E:y,F=p(f,"ALLOWED_TAGS")?a({},f.ALLOWED_TAGS,B):xt,U=p(f,"ALLOWED_ATTR")?a({},f.ALLOWED_ATTR,B):wt,Qe=p(f,"ALLOWED_NAMESPACES")?a({},f.ALLOWED_NAMESPACES,E):ar,Xe=p(f,"ADD_URI_SAFE_ATTR")?a(L(Ct),f.ADD_URI_SAFE_ATTR,B):Ct,At=p(f,"ADD_DATA_URI_TAGS")?a(L(_t),f.ADD_DATA_URI_TAGS,B):_t,fe=p(f,"FORBID_CONTENTS")?a({},f.FORBID_CONTENTS,B):Nt,we=p(f,"FORBID_TAGS")?a({},f.FORBID_TAGS,B):{},Ge=p(f,"FORBID_ATTR")?a({},f.FORBID_ATTR,B):{},ce=p(f,"USE_PROFILES")?f.USE_PROFILES:!1,Lt=f.ALLOW_ARIA_ATTR!==!1,Ve=f.ALLOW_DATA_ATTR!==!1,Ot=f.ALLOW_UNKNOWN_PROTOCOLS||!1,St=f.ALLOW_SELF_CLOSE_IN_ATTR!==!1,se=f.SAFE_FOR_TEMPLATES||!1,We=f.SAFE_FOR_XML!==!1,ae=f.WHOLE_DOCUMENT||!1,ue=f.RETURN_DOM||!1,Ae=f.RETURN_DOM_FRAGMENT||!1,_e=f.RETURN_TRUSTED_TYPE||!1,Ye=f.FORCE_BODY||!1,Tt=f.SANITIZE_DOM!==!1,bt=f.SANITIZE_NAMED_PROPS||!1,Ke=f.KEEP_CONTENT!==!1,Le=f.IN_PLACE||!1,Et=f.ALLOWED_URI_REGEXP||dt,de=f.NAMESPACE||re,$=f.CUSTOM_ELEMENT_HANDLING||{},f.CUSTOM_ELEMENT_HANDLING&&vt(f.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&($.tagNameCheck=f.CUSTOM_ELEMENT_HANDLING.tagNameCheck),f.CUSTOM_ELEMENT_HANDLING&&vt(f.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&($.attributeNameCheck=f.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),f.CUSTOM_ELEMENT_HANDLING&&typeof f.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&($.allowCustomizedBuiltInElements=f.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),se&&(Ve=!1),Ae&&(ue=!0),ce&&(F=a({},ut),U=[],ce.html===!0&&(a(F,z),a(U,ct)),ce.svg===!0&&(a(F,X),a(U,He),a(U,Te)),ce.svgFilters===!0&&(a(F,H),a(U,He),a(U,Te)),ce.mathMl===!0&&(a(F,Q),a(U,ft),a(U,Te))),f.ADD_TAGS&&(F===xt&&(F=L(F)),a(F,f.ADD_TAGS,B)),f.ADD_ATTR&&(U===wt&&(U=L(U)),a(U,f.ADD_ATTR,B)),f.ADD_URI_SAFE_ATTR&&a(Xe,f.ADD_URI_SAFE_ATTR,B),f.FORBID_CONTENTS&&(fe===Nt&&(fe=L(fe)),a(fe,f.FORBID_CONTENTS,B)),Ke&&(F["#text"]=!0),ae&&a(F,["html","head","body"]),F.table&&(a(F,["tbody"]),delete we.tbody),f.TRUSTED_TYPES_POLICY){if(typeof f.TRUSTED_TYPES_POLICY.createHTML!="function")throw N('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof f.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw N('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');W=f.TRUSTED_TYPES_POLICY,xe=W.createHTML("")}else W===void 0&&(W=zn(be,G)),W!==null&&typeof xe=="string"&&(xe=W.createHTML(""));l&&l(f),he=f}},Rt=a({},["mi","mo","mn","ms","mtext"]),Dt=a({},["foreignobject","annotation-xml"]),cr=a({},["title","style","font","a","script"]),It=a({},[...X,...H,...Z]),Pt=a({},[...Q,...ge]),fr=function(f){let b=Fe(f);(!b||!b.tagName)&&(b={namespaceURI:de,tagName:"template"});let C=y(f.tagName),k=y(b.tagName);return Qe[f.namespaceURI]?f.namespaceURI===ve?b.namespaceURI===re?C==="svg":b.namespaceURI===Ce?C==="svg"&&(k==="annotation-xml"||Rt[k]):!!It[C]:f.namespaceURI===Ce?b.namespaceURI===re?C==="math":b.namespaceURI===ve?C==="math"&&Dt[k]:!!Pt[C]:f.namespaceURI===re?b.namespaceURI===ve&&!Dt[k]||b.namespaceURI===Ce&&!Rt[k]?!1:!Pt[C]&&(cr[C]||!It[C]):!!(Oe==="application/xhtml+xml"&&Qe[f.namespaceURI]):!1},ee=function(f){O(v.removed,{element:f});try{f.parentNode.removeChild(f)}catch{f.remove()}},Re=function(f,b){try{O(v.removed,{attribute:b.getAttributeNode(f),from:b})}catch{O(v.removed,{attribute:null,from:b})}if(b.removeAttribute(f),f==="is"&&!U[f])if(ue||Ae)try{ee(b)}catch{}else try{b.setAttribute(f,"")}catch{}},Mt=function(f){let b=null,C=null;if(Ye)f="<remove></remove>"+f;else{let J=d(f,/^[\r\n\t ]+/);C=J&&J[0]}Oe==="application/xhtml+xml"&&de===re&&(f='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+f+"</body></html>");let k=W?W.createHTML(f):f;if(de===re)try{b=new qn().parseFromString(k,Oe)}catch{}if(!b||!b.documentElement){b=Ue.createDocument(de,"template",null);try{b.documentElement.innerHTML=Ze?xe:k}catch{}}let V=b.body||b.documentElement;return f&&C&&V.insertBefore(P.createTextNode(C),V.childNodes[0]||null),de===re?jn.call(b,ae?"html":"body")[0]:ae?b.documentElement:V},kt=function(f){return Zn.call(f.ownerDocument||f,f,Ee.SHOW_ELEMENT|Ee.SHOW_COMMENT|Ee.SHOW_TEXT|Ee.SHOW_PROCESSING_INSTRUCTION|Ee.SHOW_CDATA_SECTION,null)},Ht=function(f){return f instanceof Wn&&(typeof f.nodeName!="string"||typeof f.textContent!="string"||typeof f.removeChild!="function"||!(f.attributes instanceof Vn)||typeof f.removeAttribute!="function"||typeof f.setAttribute!="function"||typeof f.namespaceURI!="string"||typeof f.insertBefore!="function"||typeof f.hasChildNodes!="function")},$t=function(f){return typeof $e=="function"&&f instanceof $e},ie=function(f,b,C){j[f]&&g(j[f],k=>{k.call(v,b,C,he)})},Ft=function(f){let b=null;if(ie("beforeSanitizeElements",f,null),Ht(f))return ee(f),!0;let C=B(f.nodeName);if(ie("uponSanitizeElement",f,{tagName:C,allowedTags:F}),f.hasChildNodes()&&!$t(f.firstElementChild)&&x(/<[/\w]/g,f.innerHTML)&&x(/<[/\w]/g,f.textContent)||f.nodeType===ye.progressingInstruction||We&&f.nodeType===ye.comment&&x(/<[/\w]/g,f.data))return ee(f),!0;if(!F[C]||we[C]){if(!we[C]&&Bt(C)&&($.tagNameCheck instanceof RegExp&&x($.tagNameCheck,C)||$.tagNameCheck instanceof Function&&$.tagNameCheck(C)))return!1;if(Ke&&!fe[C]){let k=Fe(f)||f.parentNode,V=Xn(f)||f.childNodes;if(V&&k){let J=V.length;for(let K=J-1;K>=0;--K){let te=Yn(V[K],!0);te.__removalCount=(f.__removalCount||0)+1,k.insertBefore(te,Kn(f))}}}return ee(f),!0}return f instanceof gt&&!fr(f)||(C==="noscript"||C==="noembed"||C==="noframes")&&x(/<\/no(script|embed|frames)/i,f.innerHTML)?(ee(f),!0):(se&&f.nodeType===ye.text&&(b=f.textContent,g([Be,Je,ze],k=>{b=S(b,k," ")}),f.textContent!==b&&(O(v.removed,{element:f.cloneNode()}),f.textContent=b)),ie("afterSanitizeElements",f,null),!1)},Ut=function(f,b,C){if(Tt&&(b==="id"||b==="name")&&(C in P||C in ur))return!1;if(!(Ve&&!Ge[b]&&x(tr,b))){if(!(Lt&&x(nr,b))){if(!U[b]||Ge[b]){if(!(Bt(f)&&($.tagNameCheck instanceof RegExp&&x($.tagNameCheck,f)||$.tagNameCheck instanceof Function&&$.tagNameCheck(f))&&($.attributeNameCheck instanceof RegExp&&x($.attributeNameCheck,b)||$.attributeNameCheck instanceof Function&&$.attributeNameCheck(b))||b==="is"&&$.allowCustomizedBuiltInElements&&($.tagNameCheck instanceof RegExp&&x($.tagNameCheck,C)||$.tagNameCheck instanceof Function&&$.tagNameCheck(C))))return!1}else if(!Xe[b]){if(!x(Et,S(C,yt,""))){if(!((b==="src"||b==="xlink:href"||b==="href")&&f!=="script"&&T(C,"data:")===0&&At[f])){if(!(Ot&&!x(rr,S(C,yt,"")))){if(C)return!1}}}}}}return!0},Bt=function(f){return f!=="annotation-xml"&&d(f,ir)},Jt=function(f){ie("beforeSanitizeAttributes",f,null);let{attributes:b}=f;if(!b)return;let C={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U},k=b.length;for(;k--;){let V=b[k],{name:J,namespaceURI:K,value:te}=V,Se=B(J),q=J==="value"?te:w(te);if(C.attrName=Se,C.attrValue=q,C.keepAttr=!0,C.forceKeepAttr=void 0,ie("uponSanitizeAttribute",f,C),q=C.attrValue,C.forceKeepAttr||(Re(J,f),!C.keepAttr))continue;if(!St&&x(/\/>/i,q)){Re(J,f);continue}if(We&&x(/((--!?|])>)|<\/(style|title)/i,q)){Re(J,f);continue}se&&g([Be,Je,ze],Gt=>{q=S(q,Gt," ")});let zt=B(f.nodeName);if(Ut(zt,Se,q)){if(bt&&(Se==="id"||Se==="name")&&(Re(J,f),q=lr+q),W&&typeof be=="object"&&typeof be.getAttributeType=="function"&&!K)switch(be.getAttributeType(zt,Se)){case"TrustedHTML":{q=W.createHTML(q);break}case"TrustedScriptURL":{q=W.createScriptURL(q);break}}try{K?f.setAttributeNS(K,J,q):f.setAttribute(J,q),Ht(f)?ee(f):o(v.removed)}catch{}}}ie("afterSanitizeAttributes",f,null)},dr=function R(f){let b=null,C=kt(f);for(ie("beforeSanitizeShadowDOM",f,null);b=C.nextNode();)ie("uponSanitizeShadowNode",b,null),!Ft(b)&&(b.content instanceof ne&&R(b.content),Jt(b));ie("afterSanitizeShadowDOM",f,null)};return v.sanitize=function(R){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=null,C=null,k=null,V=null;if(Ze=!R,Ze&&(R="<!-->"),typeof R!="string"&&!$t(R))if(typeof R.toString=="function"){if(R=R.toString(),typeof R!="string")throw N("dirty is not a string, aborting")}else throw N("toString is not a function");if(!v.isSupported)return R;if(qe||je(f),v.removed=[],typeof R=="string"&&(Le=!1),Le){if(R.nodeName){let te=B(R.nodeName);if(!F[te]||we[te])throw N("root node is forbidden and cannot be sanitized in-place")}}else if(R instanceof $e)b=Mt("<!---->"),C=b.ownerDocument.importNode(R,!0),C.nodeType===ye.element&&C.nodeName==="BODY"||C.nodeName==="HTML"?b=C:b.appendChild(C);else{if(!ue&&!se&&!ae&&R.indexOf("<")===-1)return W&&_e?W.createHTML(R):R;if(b=Mt(R),!b)return ue?null:_e?xe:""}b&&Ye&&ee(b.firstChild);let J=kt(Le?R:b);for(;k=J.nextNode();)Ft(k)||(k.content instanceof ne&&dr(k.content),Jt(k));if(Le)return R;if(ue){if(Ae)for(V=Qn.call(b.ownerDocument);b.firstChild;)V.appendChild(b.firstChild);else V=b;return(U.shadowroot||U.shadowrootmode)&&(V=er.call(D,V,!0)),V}let K=ae?b.outerHTML:b.innerHTML;return ae&&F["!doctype"]&&b.ownerDocument&&b.ownerDocument.doctype&&b.ownerDocument.doctype.name&&x(ht,b.ownerDocument.doctype.name)&&(K="<!DOCTYPE "+b.ownerDocument.doctype.name+`>
`+K),se&&g([Be,Je,ze],te=>{K=S(K,te," ")}),W&&_e?W.createHTML(K):K},v.setConfig=function(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};je(R),qe=!0},v.clearConfig=function(){he=null,qe=!1},v.isValidAttribute=function(R,f,b){he||je({});let C=B(R),k=B(f);return Ut(C,k,b)},v.addHook=function(R,f){typeof f=="function"&&(j[R]=j[R]||[],O(j[R],f))},v.removeHook=function(R){if(j[R])return o(j[R])},v.removeHooks=function(R){j[R]&&(j[R]=[])},v.removeAllHooks=function(){j={}},v}var Gn=mt();return Gn})});var Tn=le((Fr,Sn)=>{var Y=Ie(On());Sn.exports=class{constructor(){let e=this}escape(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}mapToHtmlList(e,n=!1,i=void 0){let r=this;var l=0,u=document.createElement("ul"),s;return i!==void 0&&(s=JSON.parse(i)),u.className="DAMON-List",h(e,u),u;function h(c,g){if(typeof g!="object"||g==null||Array.isArray(g))throw new Error("Error List Item number "+l+": @param { {} } list");if(typeof c=="object"&&c!==null&&!Array.isArray(c)&&c instanceof Map&&c.constructor===Map){if(g.tagName=="UL")for(let[y,E]of c){let d=document.createElement("ul"),S=document.createElement("code"),T=document.createElement("span"),w=document.createElement("li");if(T.className="type-key",/^https?:\/\//.test(y)){let p=Y.sanitize(`<a href="${y}">${y}</a>`);T.innerHTML=p}else i!==void 0&&y in s["@context"]?T.innerHTML=Y.sanitize(`<a href="${s["@context"][y]["@id"]}">${y}</a>`):T.textContent=y;if(typeof E=="object"&&E!==null)if(Array.isArray(E))if(c.inlineArrays!==void 0&&c.inlineArrays.indexOf(y)>-1){S.innerHTML=T.outerHTML+": [";for(let p=0,x=E.length;p<x;p++){let N=document.createElement("span"),_=E[p];_===!0?(N.textContent="true",N.className="type-boolean"):_===!1?(N.textContent="false",N.className="type-boolean"):_===null?(N.textContent="null",N.className="type-null"):Number.isFinite(_)&&!Number.isNaN(_)?(N.textContent=_+"",N.className="type-number"):(n?/^https?:\/\//.test(_)?N.innerHTML=Y.sanitize(`<a href="${_}">"${_}"</a>`):N.innerHTML=`"${_}"`:/^https?:\/\//.test(_)?N.innerHTML=Y.sanitize(`<a href="${_}">"${_}"</a>`):N.textContent=`"${_}"`,N.className="type-string"),p!==0&&(S.innerHTML+=", "),S.appendChild(N)}S.innerHTML+="]",w.appendChild(S),w.appendChild(d),g.appendChild(w)}else S.innerHTML=T.outerHTML+": []",w.appendChild(S),w.appendChild(d),g.appendChild(w),h(E,d);else c.implicitMaps!==void 0&&c.implicitMaps.indexOf(y)>-1?S.innerHTML=T.outerHTML:S.innerHTML=T.outerHTML+": {}",w.appendChild(S),w.appendChild(d),g.appendChild(w),h(E,d);else{l++,S.innerHTML=T.outerHTML+": ";let p=document.createElement("span"),x=E;x===!0?(p.textContent="true",p.className="type-boolean"):x===!1?(p.textContent="false",p.className="type-boolean"):x===null?(p.textContent="null",p.className="type-null"):Number.isFinite(x)&&!Number.isNaN(x)?(p.textContent=x+"",p.className="type-number"):(n?/^https?:\/\//.test(x)?p.innerHTML=Y.sanitize(`<a href="${x}">"${x}"</a>`):p.innerHTML=`"${x}"`:/^https?:\/\//.test(x)?p.innerHTML=Y.sanitize(`<a href="${x}">"${x}"</a>`):p.textContent=`"${x}"`,p.className="type-string"),c.implicitNulls===void 0||c.implicitNulls.indexOf(y)==-1?S.appendChild(p):S.innerHTML=S.innerHTML.slice(0,-2),w.appendChild(S),g.appendChild(w)}}}else if(Array.isArray(c))for(var o=0,O=c.length;o<O;o++){let y=document.createElement("ul"),E=document.createElement("code"),d=document.createElement("li");if(typeof c[o]=="object"&&c[o]!==null)if(Array.isArray(c[o]))if(c.inlineArrays!==void 0&&c.inlineArrays.indexOf(o)>-1){E.innerHTML+="[";for(let S=0,T=c[o].length;S<T;S++){let w=document.createElement("span"),p=c[o][S];p===!0?(w.textContent="true",w.className="type-boolean"):p===!1?(w.textContent="false",w.className="type-boolean"):p===null?(w.textContent="null",w.className="type-null"):Number.isFinite(p)&&!Number.isNaN(p)?(w.textContent=p+"",w.className="type-number"):(n?/^https?:\/\//.test(p)?w.innerHTML=Y.sanitize(`<a href="${p}">"${p}"</a>`):w.innerHTML=`"${p}"`:/^https?:\/\//.test(p)?w.innerHTML=Y.sanitize(`<a href="${p}">"${p}"</a>`):w.textContent=`"${p}"`,w.className="type-string"),S!==0&&(E.innerHTML+=", "),E.appendChild(w)}E.innerHTML+="]",d.appendChild(E),d.appendChild(y),g.appendChild(d)}else E.textContent="[]",d.appendChild(E),d.appendChild(y),g.appendChild(d),h(c[o],y);else E.textContent="{}",d.appendChild(E),d.appendChild(y),g.appendChild(d),h(c[o],y);else{l++;let S=c[o];S===!0?(E.textContent="true",E.className="type-boolean"):S===!1?(E.textContent="false",E.className="type-boolean"):S===null?(E.textContent="null",E.className="type-null"):Number.isFinite(S)&&!Number.isNaN(S)?(E.textContent=S+"",E.className="type-number"):(n?/^https?:\/\//.test(S)?E.innerHTML=Y.sanitize(`<a href="${S}">"${S}"</a>`):E.innerHTML=`"${S}"`:/^https?:\/\//.test(S)?E.innerHTML=Y.sanitize(`<a href="${S}">"${S}"</a>`):E.textContent=`"${S}"`,E.className="type-string"),d.appendChild(E),d.appendChild(y),g.appendChild(d)}}}}mapToHtmlTable(e,n=!1){let i=this;var r=0,l=document.createElement("table"),u=document.createElement("thead"),s=document.createElement("tbody"),h=!1,c=0;if(l.className="DAMON-Table",typeof e!="object"||e==null||Array.isArray(e)||!(e instanceof Map)||e.constructor!==Map)throw new Error("Error List Item number "+r+": @param { {} } list");for(let[g,o]of e){if(typeof o=="object"&&o!==null&&!Array.isArray(o)&&o instanceof Map&&o.constructor===Map)if(g=="0"&&!h){let O=document.createElement("tr");c=o.length;for(let[y,E]of o)if(E===null){let d=document.createElement("th");n?/^https?:\/\//.test(y)?d.innerHTML=Y.sanitize(`<a href="${y}">${y}</a>`):d.innerHTML=`${y}`:/^https?:\/\//.test(y)?d.innerHTML=Y.sanitize(`<a href="${y}">${y}</a>`):d.textContent=`${y}`,O.appendChild(d)}else throw new Error("Expected implicit null property, saw otherwise");u.appendChild(O),h=!0}else{if(c==0&&(c=o.length),o.length!=c)throw new Error("Error List Item number "+r+": @param { {} } list");let O=document.createElement("tr");for(let[y,E]of o)if(E===null){let d=document.createElement("td");n?/^https?:\/\//.test(y)?d.innerHTML=Y.sanitize(`<a href="${y}">${y}</a>`):d.innerHTML=`${y}`:/^https?:\/\//.test(y)?d.innerHTML=Y.sanitize(`<a href="${y}">${y}</a>`):d.textContent=`${y}`,O.appendChild(d)}else throw new Error("Expected implicit null property, saw otherwise");s.appendChild(O)}else if(typeof o!="object"&&g=="00"){let O=document.createElement("caption");n?O.innerHTML=o:O.textContent=o,l.appendChild(O)}else throw new Error("Error List Item number "+r+": @param { {} } list");r++}return h&&l.appendChild(u),l.appendChild(s),l}mapTreeLeavesToHtmlTable(e,n=!1){let i=this;var r=0,l=0,u=document.createElement("table"),s=document.createElement("thead"),h=document.createElement("tbody"),c=!1;if(u.className="DAMON-LeavesToTable",typeof e!="object"||e==null||Array.isArray(e)||!(e instanceof Map)||e.constructor!==Map)throw new Error("Error List Item number "+r+": @param { {} } list");for(let[o,O]of e){if(typeof O=="object"&&!Array.isArray(O)){if(o=="head"&&!c){try{g(O,s)}catch{return}c=!0}else if(o=="body")try{g(O,h)}catch{return}}else if(typeof O!="object"&&o=="caption"){let y=document.createElement("caption");n?y.innerHTML=O:y.textContent=O,u.appendChild(y)}else throw new Error("Error List Item number "+r+": @param { {} } list");r++}return c&&u.appendChild(s),u.appendChild(h),u;function g(o,O,y=0,E=[]){if(typeof O!="object"||O==null)throw new Error("Error List Item number "+r+": @param { {} } list");if(typeof o=="object"&&o!==null&&!Array.isArray(o)&&o instanceof Map&&o.constructor===Map){if(O.tagName=="THEAD")if(Array.from(o.keys()).length==1)if(typeof o.get(Array.from(o.keys())[0])=="object"&&o.get(Array.from(o.keys())[0])!==null)r++,g(o.get(Array.from(o.keys())[0]),O,y+1,E.concat([Array.from(o.keys())[0]]));else throw new Error("Error List Item number "+r+": @param { {} } list");else throw new Error("Error List Item number "+r+": @param { {} } list");else if(O.tagName=="TBODY"){if(Array.from(o.keys()).length==0)throw new Error("Error List Item number "+r+": @param { {} } list");for(let[d,S]of o)if(typeof S=="object"&&S!==null)r++,g(S,O,y+1,E.concat([d]));else throw new Error("Error List Item number "+r+": @param { {} } list")}}else if(Array.isArray(o)){if(O.tagName=="THEAD")if(o.length==1){r++,l=y;let d=document.createElement("tr");E.push(o[0]);for(let S=0,T=E.length;S<T;S++){let w=document.createElement("th");n?w.innerHTML=E[S]:w.textContent=E[S],d.appendChild(w)}O.appendChild(d)}else throw new Error("Error List Item number "+r+": @param { {} } list");else if(O.tagName=="TBODY")if(y==l){if(o.length==0)throw new Error("Error List Item number "+r+": @param { {} } list");for(let d=0,S=o.length;d<S;d++){r++;let T=document.createElement("tr");for(let p=0,x=E.length;p<x;p++){let N=document.createElement("td");n?N.innerHTML=E[p]:N.textContent=E[p],T.appendChild(N)}let w=document.createElement("td");n?w.innerHTML=o[d]:w.textContent=o[d],w.textContent=o[d],T.appendChild(w),O.appendChild(T)}}else throw new Error("Error List Item number "+r+": @param { {} } list")}}}htmlToJSON(e){let n=this;var i=0;if(e.firstElementChild.textContent=="{}")return n.mapToJSON(r(tree,new Map));if(e.firstElementChild.textContent=="[]")return n.mapToJSON(r(tree,[]));function r(l,u){if(typeof l!="object"||l==null||Array.isArray(l))throw new Error("Error List Item number "+i+": @param { {} } list");if(typeof u=="object"&&u!==null&&!Array.isArray(u)&&u instanceof Map&&u.constructor===Map){for(let s=0,h=l.children.length;s<h;s++)if(i++,l.children[s].tagName=="LI")if(l.children[s].firstElementChild.tagName=="CODE")if(l.children[s].firstElementChild.innerHTML.length){let c=l.children[s].firstElementChild.innerHTML.trim();if(c[c.length-1]==":"&&c.length>1){let g=l.children[s].children[1];if(g.tagName=="UL"&&g.firstElementChild.tagName=="LI"&&g.children.length==1&&g.firstElementChild.firstElementChild.tagName=="CODE"){i++;let o=g.firstElementChild.firstElementChild.textContent.trim();o=="true"?u.set(c.slice(0,-1),!0):o=="false"?u.set(c.slice(0,-1),!1):o=="null"?u.set(c.slice(0,-1),null):isFinite(o)&&!isNaN(parseFloat(o))?u.set(c.slice(0,-1),o*1):u.set(c.slice(0,-1),o)}else throw new Error("Error List Item number "+i+": not DAMON-compliant.")}else if(c[c.length-4]==":"&&c.length>4){if(c.slice(-3)==" []")if(u.set(c.slice(0,-4),[]),l.children[s].children[1].tagName=="UL")r(l.children[s].children[1],u.get(c.slice(0,-4)));else throw new Error("Error List Item number "+i+": not DAMON-compliant.");else if(c.slice(-3)==" {}")if(u.set(c.slice(0,-4),new Map),l.children[s].children[1].tagName=="UL")r(l.children[s].children[1],u.get(c.slice(0,-4)));else throw new Error("Error List Item number "+i+": not DAMON-compliant.")}else throw new Error("Error List Item number "+i+": map items need a key")}else throw new Error("Error List Item number "+i+": empty node.");else throw new Error("Error List Item number "+i+": not DAMON-compliant.")}else if(Array.isArray(u)){for(let s=0,h=l.children.length;s<h;s++)if(i++,l.children[s].tagName=="LI")if(l.children[s].firstElementChild.tagName=="CODE")if(l.children[s].firstElementChild.innerHTML.length){let c=l.children[s].firstElementChild.innerHTML.trim();if(c[c.length-1]==":"&&c.length>1)throw new Error("Error List Item number "+i+": lists can't have keys.");if(c[c.length-4]==":"&&c.length>4)throw new Error("Error List Item number "+i+": not DAMON-compliant.");if(c=="[]")if(u.push([]),l.children[s].children[1]&&l.children[s].children[1].tagName=="UL")r(l.children[s].children[1],u[u.length-1]);else throw new Error("Error List Item number "+i+": not DAMON-compliant.");else if(c=="{}")if(u.push({}),l.children[s].children[1]&&l.children[s].children[1].tagName=="UL")r(l.children[s].children[1],u[u.length-1]);else throw new Error("Error List Item number "+i+": not DAMON-compliant.");else c=="true"?u.push(!0):c=="false"?u.push(!1):c=="null"?u.push(null):isFinite(c)&&!isNaN(parseFloat(c))?u.push(c*1):u.push(c)}else throw new Error("Error List Item number "+i+": empty node.");else throw new Error("Error List Item number "+i+": not DAMON-compliant.")}else throw new Error("Error List Item number "+i+": @param { {} | [] } jsonMap");return u}}}});var _n=le((Br,An)=>{var bn=Ie(Ln()),Nn=Ie(Tn());An.exports=class{constructor(e=!1){let n=this;if(this.indentation=4,[!0,!1,void 0].indexOf(e)==-1)throw new Error("@param {Boolean} pedantic");this.pedantic=e,this.damonOriginalLinesMapping=[],this.utils=new Nn.default}template(e){let n=this;var i=e[0];for(let l=1;l<e.length;l++)typeof arguments[l]=="string"?i+='"'+arguments[l]+'"':i+=arguments[l],i+=e[l];return n._treeToMap(n._damonToTree(i))}damonToMap(e){let n=this;return n._treeToMap(n._damonToTree(e))}damonToJSON(e){let n=this;return n.mapToJSON(n.damonToMap(e))}jsonToDamon(e){let n=this,i=(0,bn.parse)(e);return n.mapToDamon(i)}_damonToTree(e){let n=this;if(e==="")throw new Error("Error line 1: empty string",{line:1,language:"DAMON"});if(/[\s]/.test(e)&&e.match(new RegExp(/[\s]/))[0].length==e.length)throw new Error("Error line 1: string only contains whitespace",{line:1,language:"DAMON"});var i=/\r\n/.test(e)?`\r
`:`
`,r=e.split(i),l=r.slice(0);r=r.filter(d=>!/^ *\/\//.test(d)),r=r.filter(d=>d!=""),r=r.filter(d=>!/^[ \t]+$/.test(d));let u=0;n.damonOriginalLinesMapping=[];for(let d=0,S=l.length;d<S;d++)r.slice(u).indexOf(l[d])>-1?n.damonOriginalLinesMapping[d]=r.slice(u).indexOf(l[d]):n.damonOriginalLinesMapping[d]=null;let s=new RegExp("^(	)+");for(let d=0,S=r.length;d<S;d++){if(s.test(r[d])){let T=r[d].match(s)[0].length;for(let w=0,p=T;w<p;w++)r[d]=r[d].replace("	"," ".repeat(n.indentation))}if(!/^ *- $/.test(r[d])&&/[ \t]+$/.test(r[d]))throw new Error("Error line "+(n.damonOriginalLinesMapping.indexOf(d)+1)+": trailing whitespace",{line:n.damonOriginalLinesMapping.indexOf(d)+1,language:"DAMON"})}let h=new RegExp("^("+" ".repeat(n.indentation)+")+");if(h.test(r[0])){let d=r[0].match(h)[0].length,S=!0;for(let T=0,w=r.length;T<w;T++)h.test(r[T])&&r[T].match(h)[0].length>=d?r[T]=r[T].slice(d):S=!1;if(!S)throw new Error("Error line 1: bad formatting",{line:1,language:"DAMON"})}else if(h.test(r[1])&&r[1].match(h)[0].length>n.indentation){let d=r[1].match(h)[0].length-n.indentation,S=!0;for(let T=1,w=r.length;T<w;T++)h.test(r[T])&&r[T].match(h)[0].length>=d?r[T]=r[T].slice(d):S=!1;if(!S)throw new Error("Error line 2: bad formatting",{line:2,language:"DAMON"})}let c=!1;if(r.length>1)for(let d=0,S=r.length;d<S;d++)d!==0&&/^- /.test(r[d])&&(c=!0);if(!/^- \{\}$/.test(r[0])&&!/^- \[\]$/.test(r[0])&&(c=!0),c){for(let d=0,S=r.length;d<S;d++)r[d]=" ".repeat(n.indentation)+r[d];r.unshift("- {}")}var g={content:r[0],level:0,id:0,children:[],headless:c},o=g;if(!/^- /.test(r[0].trimStart())||/^ +/.test(r[0])&&(r[0].match(/^ +/)[0].length%n.indentation!=0||r[0].match(/^ +/)[0].length!=n.indentation))throw new Error("Error line "+(c*1+1)+": bad formatting",{line:c*1+1,language:"DAMON"});r.shift();for(let d=0,S=r.length;d<S;d++){if(!/^- /.test(r[d].trimStart())||/^ +/.test(r[d])&&(r[d].match(/^ +/)[0].length%n.indentation!=0||d==0&&r[d].match(/^ +/)[0].length!=n.indentation||d!=0&&/^- /.test(r[d-1])&&r[d].match(/^ +/)[0].length!=n.indentation||d!=0&&!/^- /.test(r[d-1])&&r[d].match(/^ +/)[0].length>r[d-1].match(/^ +/)[0].length+n.indentation))throw new Error("Error line "+(n.damonOriginalLinesMapping.indexOf(d)+1)+": bad formatting",{line:n.damonOriginalLinesMapping.indexOf(d)+1,language:"DAMON"});let T={content:r[d].trimStart().slice(2),level:1+r[d].match(/^ +/)[0].length/n.indentation,id:"",children:[]};if(o===g)T.id=g.children.length+1,g.children.push(T);else if(o.level===T.level){var O=n._findListItemCommonDirectParent(o,g);O.level==0?T.id=O.children.length+1:T.id=O.id+"-"+(O.children.length+1),O.children.push(T)}else if(o.level>T.level){var y=n._findListItemCommonAncestor(o,g,T.level);y.level==0?T.id=y.children.length+1:T.id=y.id+"-"+(y.children.length+1),y.children.push(T)}else if(o.level<T.level){var E=n._findListItemCommonDirectParent(o,g);let w=E.children.indexOf(o),p=E.children[w].id,x=E.children[w].children.length+1;T.id=p+"-"+x,E.children[w].children.push(T)}o=T}return g}_findListItemCommonDirectParent(e,n){let i=this;if(n.children.indexOf(e)>-1)return n;var r;for(let l=n.children.length-1,u=0;l>=u;l--)if(r=i._findListItemCommonDirectParent(e,n.children[l]),r)return r}_findListItemCommonAncestor(e,n,i){let r=this;var l=r._findListItemCommonDirectParent(e,n);return l.level<i?l:r._findListItemCommonAncestor(l,n,i)}_treeToMap(e){let n=this;var i=0;if(e.content=="- {}")return r(e,new Map);if(e.content=="- []")return r(e,[]);{let s=new Map;return e.headless&&(s.headless=!0),r(e,s)}function r(s,h){if(typeof s!="object"||s==null||Array.isArray(s))throw new Error("Error line number "+(e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2)+": @param { {} } tree",{line:e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2,language:"DAMON"});if(typeof h=="object"&&h!==null&&!Array.isArray(h)&&h instanceof Map&&h.constructor===Map)l(s,h);else if(Array.isArray(h))u(s,h);else throw new Error("Error line number "+(e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2)+": @param { {} | [] } jsonMap",{line:e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2,language:"DAMON"});return h}function l(s,h){for(let c=0,g=s.children.length;c<g;c++)if(i++,s.children[c].content.length==0){let o;s.children[c].children.length>0?(o="implicit map key",h.set("",new Map),h.implicitMaps===void 0&&(h.implicitMaps=[]),h.implicitMaps.push(""),r(s.children[c],h.get(""))):(o="implicit null key",h.set("",null),h.implicitNulls===void 0&&(h.implicitNulls=[]),h.implicitNulls.push(""))}else{let o=s.children[c].content,O="key";try{if(/^.*: +\[/.test(o)&&o[o.length-1]=="]")if(/: +\[ *\]$/.test(o)){let y=JSON.stringify(JSON.parse(`["${o.slice(0,-1*o.match(/: +\[ *\]$/)[0].length)}"]`)[0]).slice(1,-1);h.set(y,[]),s.children[c].children.length>0&&r(s.children[c],h.get(y))}else{let y=new RegExp(/: +\[/g),E=o.slice(0,-1).split(y),d=o.match(y).concat([""]),S=E.map((x,N)=>x+d[N]),T="",w=[];for(let x=0,N=E.length;x<N;x++)try{let _;if(x==0?_=E[0]:_=S.slice(0,x).join("")+E[x],T=JSON.stringify(JSON.parse(`["${_}"]`)[0]).slice(1,-1),O="list",w=JSON.parse(`[${S.slice(x+1).join("")}]`),Array.isArray(w))break}catch{if(x==N-2)throw new Error("Error line number "+(e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2)+": invalid inline list",{line:e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2,language:"DAMON"})}if(w.every(function(x){if(x===!0)return!0;if(x===!1)return!0;if(x===null)return nullsCounter++,!0;if(typeof x=="string")return!0;if(isFinite(x)&&!isNaN(parseFloat(x))&&Number.isFinite(x*1)&&!Number.isNaN(x*1)){if(x.indexOf(0)==0&&x.length>1)throw new Error("Error line number "+(e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2)+": leading 0",{line:e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2,language:"DAMON"});return!0}else return!1}))h.set(T,w),h.inlineArrays===void 0&&(h.inlineArrays=[]),h.inlineArrays.push(T);else throw new Error("Error line number "+(e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2)+": no nesting in inline lists",{line:e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2,language:"DAMON"});if(s.children[c].children.length>0)throw new Error("Error line number "+(e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+3)+": inline lists can't have children",{line:e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+3,language:"DAMON"})}else if(/: +\{ *\}$/.test(o)){let y=JSON.stringify(JSON.parse(`["${o.slice(0,-1*o.match(/: +\{ *\}$/)[0].length)}"]`)[0]).slice(1,-1);h.set(y,new Map),r(s.children[c],h.get(y))}else{let y=!1;if(o.split(new RegExp(/: +/))[o.split(new RegExp(/: +/)).length-1]==="true"){let E=o.match(new RegExp(/: +/g))[o.match(new RegExp(/: +/g)).length-1],d=JSON.stringify(JSON.parse(`["${o.slice(0,-1*E.length-4)}"]`)[0]).slice(1,-1);h.set(d,!0)}else if(o.split(new RegExp(/: +/))[o.split(new RegExp(/: +/)).length-1]==="false"){let E=o.match(new RegExp(/: +/g))[o.match(new RegExp(/: +/g)).length-1],d=JSON.stringify(JSON.parse(`["${o.slice(0,-1*E.length-5)}"]`)[0]).slice(1,-1);h.set(d,!1)}else if(o.split(new RegExp(/: +/))[o.split(new RegExp(/: +/)).length-1]=="null"){let E=o.match(new RegExp(/: +/g))[o.match(new RegExp(/: +/g)).length-1],d=JSON.stringify(JSON.parse(`["${o.slice(0,-1*E.length-4)}"]`)[0]).slice(1,-1);h.set(d,null)}else if(/^.*: +"/.test(o)&&o[o.length-1]=='"'){let E=o.match(new RegExp(/: +"/g));if(E.length==1){let d=JSON.stringify(JSON.parse(`["${o.split(E[0])[0]}"]`)[0]).slice(1,-1);O="string";let S=JSON.stringify(JSON.parse(`["${o.split(E[0]).slice(1).join("").slice(0,-1)}"]`)[0]).slice(1,-1);h.set(d,S)}else if(E.length==2&&/: +"$/.test(o)){let d=JSON.stringify(JSON.parse(`["${o.split(E[0])[0]}"]`)[0]).slice(1,-1);O="string";let S=JSON.stringify(JSON.parse(`["${o.split(E[0]).slice(1).join("")+": "}"]`)[0]).slice(1,-1);h.set(d,S)}else throw new Error("Error line number "+(e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2)+": unescaped double quote",{line:e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2,language:"DAMON"})}else if(/^.*: /.test(o)&&isFinite(o.split(": ")[o.split(": ").length-1])&&!isNaN(parseFloat(o.split(": ")[o.split(": ").length-1]))&&Number.isFinite(o.split(": ")[o.split(": ").length-1]*1)&&!Number.isNaN(o.split(": ")[o.split(": ").length-1]*1)){let E=JSON.stringify(JSON.parse(`["${o.split(": ").slice(0,-1).join(": ")}"]`)[0]).slice(1,-1);O="number";let d=o.match(new RegExp(/: +/g)),S=d[d.length-1],T=o.split(S)[o.split(S).length-1];if(T.indexOf(0)==0&&T.length>1)throw new Error("Error line number "+(e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2)+": leading 0",{line:e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2,language:"DAMON"});let w=JSON.stringify(JSON.parse(`[${o.split(": ")[o.split(": ").length-1]*1}]`)[0])*1;h.set(E,w)}else if(/^.*: /.test(o)&&o.split(new RegExp(/: +/))[o.split(new RegExp(/: +/)).length-1]*1===1/0){let E=JSON.stringify(JSON.parse(`["${o.split(": ").slice(0,-1).join(": ")}"]`)[0]).slice(1,-1);O="infinity";let d=JSON.stringify(JSON.parse(`[${o.split(": ")[o.split(": ").length-1]*1}]`))*1}else{let E=!1,d=0;if(/\[ *\]$/.test(o)&&(E=!0,d=o.match(new RegExp(/\[ *\]$/g))[0].length),/\{ *\}$/.test(o)&&(E=!0,d=o.match(new RegExp(/\{ *\}$/g))[0].length),/true$/.test(o)&&(E=!0,d=4),/false$/.test(o)&&(E=!0,d=5),/null$/.test(o)&&(E=!0,d=4),/".*"$/.test(o)&&(E=!0,d=o.match(new RegExp(/".*"$/g))[0].length),!E){let S="";for(let T=o.length-1;T>-1&&(S=o[T].concat(S),isFinite(S)&&!isNaN(parseFloat(S))&&Number.isFinite(S*1)&&!Number.isNaN(S*1));T--){if(!/[ \t]/.test(o[T]))break;E=!0,d=S.length}}if(E){let S=JSON.stringify(JSON.parse(`["${o.slice(0,-1*d)}"]`)[0]).slice(1,-1);if(n.pedantic)throw new Error("Error line number "+(e.headless*-1+n.damonOriginalLinesMapping.indexOf(i))+": missing separator",{line:e.headless*-1+n.damonOriginalLinesMapping.indexOf(i),language:"DAMON",errorType:"pedantic"});if(/: +$/.test(S))if(y=!0,s.children[c].children.length>0){O="implicit map key";let T=JSON.stringify(JSON.parse(`["${o}"]`)[0]).slice(1,-1);h.set(T,new Map),h.implicitMaps===void 0&&(h.implicitMaps=[]),h.implicitMaps.push(T),r(s.children[c],h.get(T))}else{O="implicit null key";let T=JSON.stringify(JSON.parse(`["${o}"]`)[0]).slice(1,-1);h.set(T,null),h.implicitNulls===void 0&&(h.implicitNulls=[]),h.implicitNulls.push(T)}else throw new Error("Error line number "+(e.headless*-1+n.damonOriginalLinesMapping.indexOf(i))+": missing separator",{line:e.headless*-1+n.damonOriginalLinesMapping.indexOf(i),language:"DAMON",errorType:"pedantic"})}else{let S=JSON.stringify(JSON.parse(`["${o.slice(0,-1*d)}"]`)[0]).slice(1,-1);if(n.pedantic)throw/: +$/.test(S)?new Error("Error line number "+(e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+3)+": bad value",{line:e.headless*-1+n.damonOriginalLinesMapping.indexOf(i),language:"DAMON",errorType:"pedantic"}):new Error("Error line number "+(e.headless*-1+n.damonOriginalLinesMapping.indexOf(i))+": missing separator",{line:e.headless*-1+n.damonOriginalLinesMapping.indexOf(i),language:"DAMON",errorType:"pedantic"});if(y=!0,s.children[c].children.length>0){O="implicit map key";let T=JSON.stringify(JSON.parse(`["${o}"]`)[0]).slice(1,-1);h.set(T,new Map),h.implicitMaps===void 0&&(h.implicitMaps=[]),h.implicitMaps.push(T),r(s.children[c],h.get(T))}else{O="implicit null key";let T=JSON.stringify(JSON.parse(`["${o}"]`)[0]).slice(1,-1);h.set(T,null),h.implicitNulls===void 0&&(h.implicitNulls=[]),h.implicitNulls.push(T)}}}if(!y&&s.children[c].children.length>0)throw new Error("Error line number "+(e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+3)+": missing container or excess indentation",{line:e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+3,language:"DAMON"})}}catch(y){throw y.language===void 0&&(console.error("Error line number "+(e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2)+": not JSON-compliant, detailed error follows"),y.line=e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2,y.language="JSON",y.type=O),y}}}function u(s,h){for(let c=0,g=s.children.length;c<g;c++)if(i++,s.children[c].content.length){let o=s.children[c].content;if(/^[ \t]*\[/.test(o)&&o[o.length-1]=="]")if(/^[ \t]*\[ *\]$/.test(o))h.push([]),r(s.children[c],h[h.length-1]);else{let O;try{O=JSON.parse(o)}catch{throw new Error("Error line number "+(e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2)+": invalid inline lists",{line:e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2,language:"JSON",type:"list"})}if(O.every(function(E){return E===!0||E===!1?!0:E===null?(nullsCounter++,!0):typeof E=="string"?!0:!!(isFinite(E)&&!isNaN(parseFloat(E))&&Number.isFinite(E*1)&&!Number.isNaN(E*1))}))h.push(O),h.inlineArrays===void 0&&(h.inlineArrays=[]),h.inlineArrays.push(c);else throw new Error("Error line number "+(e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2)+": no nesting in inline lists",{line:e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2,language:"DAMON"});if(s.children[c].children.length>0)throw new Error("Error line number "+(e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+3)+": inline lists can't have children",{line:e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+3,language:"DAMON"})}else if(/^[ \t]*\{\}$/.test(o))h.push(new Map),r(s.children[c],h[h.length-1]);else if(/^[ \t]*true$/.test(o))h.push(!0);else if(/^[ \t]*false$/.test(o))h.push(!1);else if(/^[ \t]*null$/.test(o))h.push(null);else if(/^[ \t]*".*"$/.test(o))try{h.push(JSON.stringify(JSON.parse(`[${o.trimStart()}]`)[0]).slice(1,-1))}catch(O){throw console.error("Error line number "+(e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2)+": not JSON-compliant, detailed error follows"),O.line=e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2,O.language="JSON",O.type="string",O}else if(isFinite(o)&&!isNaN(parseFloat(o))&&Number.isFinite(o*1)&&!Number.isNaN(o*1)){if(o.indexOf(0)==0&&o.length>1)throw new Error("Error line number "+(e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2)+": leading 0",{line:e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2,language:"DAMON"});try{h.push(JSON.stringify(JSON.parse(`[${o*1}]`)[0])*1)}catch(O){throw console.error("Error line number "+(e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2)+": not JSON-compliant, detailed error follows"),O.line=e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2,O.language="JSON",O.type="number",O}}else if(o*1===1/0)try{JSON.stringify(JSON.parse(o*1))}catch(O){throw console.error("Error line number "+(e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2)+": not JSON-compliant, detailed error follows"),O.line=e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2,O.language="JSON",O.type="infinity",O}else throw new Error("Error line number "+(e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2)+": list items can't have a key",{line:e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2,language:"DAMON"})}else throw new Error("Error line number "+(e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2)+": empty list node",{line:e.headless*-1+n.damonOriginalLinesMapping.indexOf(i-1)+2,language:"DAMON"})}}mapToDamon(e){let n=this;var i="";return Array.isArray(e)?i+=`- []
`:i+=`- {}
`,r(e),i.slice(0,-1);function r(l,u=1){if(typeof l=="object"&&l!==null&&!Array.isArray(l)&&l instanceof Map&&l.constructor===Map)for(let[c,g]of l)if(typeof g=="object"&&g!==null)if(Array.isArray(g)){let o=0,O=g.filter(function(y){return y===!0||y===!1?!0:y===null?(o++,!0):typeof y=="string"?!0:!!(isFinite(y)&&!isNaN(parseFloat(y))&&Number.isFinite(y*1)&&!Number.isNaN(y*1))});if(g.length==O.length&&u*4+2+g.join(", ").length+o*4<=80){let y="["+g.map(E=>JSON.stringify(E)).join(", ")+"]";i+="    ".repeat(u)+"- "+JSON.stringify(c).slice(1,-1)+": "+y+`
`}else i+="    ".repeat(u)+"- "+JSON.stringify(c).slice(1,-1)+`: []
`,r(g,u+1)}else i+="    ".repeat(u)+"- "+JSON.stringify(c).slice(1,-1)+`: {}
`,r(g,u+1);else i+="    ".repeat(u)+"- "+JSON.stringify(c).slice(1,-1)+": ",g===!0?i+=`true
`:g===!1?i+=`false
`:g===null?i+=`null
`:Number.isFinite(g)&&!Number.isNaN(g)?i+=g+`
`:i+=`${JSON.stringify(g)}
`;else if(Array.isArray(l))for(var s=0,h=l.length;s<h;s++)if(typeof l[s]=="object"&&l[s]!==null)if(Array.isArray(l[s])){let c=0,g=l[s].filter(function(o){return o===!0||o===!1?!0:o===null?(c++,!0):typeof o=="string"?!0:!!(isFinite(o)&&!isNaN(parseFloat(o))&&Number.isFinite(o*1)&&!Number.isNaN(o*1))});if(l[s].length==g.length&&u*4+2+l[s].join(", ").length+c*4<=80){let o="["+l[s].map(O=>JSON.stringify(O)).join(", ")+"]";i+="    ".repeat(u)+"- "+o+`
`}else i+="    ".repeat(u)+`- []
`,r(l[s],u+1)}else i+="    ".repeat(u)+`- {}
`,r(l[s],u+1);else l[s]===!0?i+="    ".repeat(u)+`- true
`:l[s]===!1?i+="    ".repeat(u)+`- false
`:l[s]===null?i+="    ".repeat(u)+`- null
`:Number.isFinite(l[s])&&!Number.isNaN(l[s])?i+="    ".repeat(u)+"- "+l[s]+`
`:i+="    ".repeat(u)+`- ${JSON.stringify(l[s])}
`}}mapToJSON(e){let n=this;var i="";if(Array.isArray(e))return i+=`[\r
`,r(e),i+="]",i;return i+=`{\r
`,r(e),i+="}",i;function r(l,u=1){if(typeof l=="object"&&l!==null&&!Array.isArray(l)&&l instanceof Map&&l.constructor===Map)for(let[c,g]of l)typeof g=="object"&&g!==null?Array.isArray(g)?g.length>0?(i+="    ".repeat(u)+`"${c}": [\r
`,r(g,u+1),i+="    ".repeat(u)+"]"):i+="    ".repeat(u)+`"${c}": []`:Array.from(g.keys()).length>0?(i+="    ".repeat(u)+`"${c}": {\r
`,r(g,u+1),i+="    ".repeat(u)+"}"):i+="    ".repeat(u)+`"${c}": {}`:g===!0?i+="    ".repeat(u)+`"${c}": true`:g===!1?i+="    ".repeat(u)+`"${c}": false`:g===null?i+="    ".repeat(u)+`"${c}": null`:Number.isFinite(g)&&!Number.isNaN(g)?i+="    ".repeat(u)+`"${c}": `+g:i+="    ".repeat(u)+`"${c}": "${g}"`,c!=Array.from(l.keys())[Array.from(l.keys()).length-1]?i+=`,\r
`:i+=`\r
`;else if(Array.isArray(l))for(var s=0,h=l.length;s<h;s++)typeof l[s]=="object"&&l[s]!==null?Array.isArray(l[s])?l[s].length>0?(i+="    ".repeat(u)+`[\r
`,r(l[s],u+1),i+="    ".repeat(u)+"]"):i+="    ".repeat(u)+"[]":Array.from(l[s].keys()).length>0?(i+="    ".repeat(u)+`{\r
`,r(l[s],u+1),i+="    ".repeat(u)+"}"):i+="    ".repeat(u)+"{}":l[s]===!0?i+="    ".repeat(u)+"true":l[s]===!1?i+="    ".repeat(u)+"false":l[s]===null?i+="    ".repeat(u)+"null":Number.isFinite(l[s])&&!Number.isNaN(l[s])?i+="    ".repeat(u)+l[s]:i+="    ".repeat(u)+`"${l[s]}"`,s!=h-1?i+=`,\r
`:i+=`\r
`}}implicitMapToSExpression(e){let n=this;var i="";return i+=`[\r
`,r(e),i+="]",i;function r(l,u=1){if(typeof l=="object"&&l!==null&&!Array.isArray(l)&&l instanceof Map&&l.constructor===Map){let c=-1;for(let[g,o]of l){if(c++,typeof o=="object"&&o!==null)if(Array.isArray(o))o.length>0?(i+="    ".repeat(u)+`"${g}", [\r
`,r(o,u+1),i+="    ".repeat(u)+"]"):i+="    ".repeat(u)+`"${g}", []`;else if(Array.from(o.keys()).length>0){if(u==1)if(c==0)i="";else throw new Error("Multiple S-Expression roots");i+="    ".repeat(u)+`["${g}", \r
`,r(o,u+1),u!=1&&(i+="    ".repeat(u)+"]")}else i+="    ".repeat(u)+`"${g}", []`;else{if(o===!0)throw new Error("Booleans require quotes");if(o===!1)throw new Error("Booleans require quotes");o===null?i+="    ".repeat(u)+`"${g}"`:Number.isFinite(o)&&!Number.isNaN(o)?i+="    ".repeat(u)+`"${g}", `+o:i+="    ".repeat(u)+`"${g}", "${o}"`}g!=Array.from(l.keys())[Array.from(l.keys()).length-1]?i+=`,\r
`:i+=`\r
`}}else if(Array.isArray(l))for(var s=0,h=l.length;s<h;s++){if(typeof l[s]=="object"&&l[s]!==null)Array.isArray(l[s])?l[s].length>0?(i+="    ".repeat(u)+`[\r
`,r(l[s],u+1),i+="    ".repeat(u)+"]"):i+="    ".repeat(u)+"[]":Array.from(l[s].keys()).length>0?(i+="    ".repeat(u)+`[\r
`,r(l[s],u+1),i+="    ".repeat(u)+"]"):i+="    ".repeat(u)+"[]";else{if(l[s]===!0)throw new Error("Booleans require quotes");if(l[s]===!1)throw new Error("Booleans require quotes");if(l[s]===null)throw new Error("Array-nulls require quotes");Number.isFinite(l[s])&&!Number.isNaN(l[s])?i+="    ".repeat(u)+l[s]:i+="    ".repeat(u)+`"${l[s]}"`}s!=h-1?i+=`,\r
`:i+=`\r
`}}}}});var ot=le((zr,Cn)=>{Cn.exports=class{constructor(e){let n=this;this.parent=e,this.itemHeight=parseFloat(getComputedStyle(this.parent.editor).getPropertyValue("--fontSize"))*parseFloat(getComputedStyle(this.parent.editor).getPropertyValue("--lineHeight")),this.viewportHeight=this.parent.editor.getBoundingClientRect().height,this.viewable=Math.ceil(n.viewportHeight/n.itemHeight),this.maxCounter=this.parent.textarea.value.split(`
`).length,this.buffer=n.viewable*2,this.visibleNodesCount=n.viewable+n.buffer,this.lastScrollTop=void 0,this.lastStart=void 0,this.active=!1}inputHandler(e){let n=this;n.parent.textarea.value.split(`
`).length<=n.visibleNodesCount?(n.parent.gutter.innerHTML="",n.init(0)):(n.parent.gutter.innerHTML="",n.init(n.getStartNode(n.parent.textarea.value.split(`
`).length)))}scrollHandler(){let e=this;e.maxCounter<e.visibleNodesCount?e.lastScrollTop!==e.parent.editor.scrollTop?(e.parent.gutter.innerHTML="",e.parent.editor.style.setProperty("--scrollbarPadding","0px"),e.init(0)):(e.parent.editor.style.setProperty("--scrollbarPadding","0px"),e.parent.gutter.style.transform="translate("+e.parent.editor.scrollLeft+"px, "+0*e.itemHeight+"px)",e.parent.overlay.firstElementChild.style.transform="translate(0px, "+0*e.itemHeight+"px)"):e.lastScrollTop!==e.parent.editor.scrollTop?(e.active=!0,e.parent.editor.style.setProperty("--scrollbarPadding","var(--textareaPadding) * 4"),e.update(e.getStartNode(e.maxCounter))):(e.parent.gutter.style.transform="translate("+e.parent.editor.scrollLeft+"px, "+e.getStartNode(e.maxCounter)*e.itemHeight+"px)",e.parent.overlay.firstElementChild.style.transform="translate(0px, "+e.getStartNode(e.maxCounter)*e.itemHeight+"px)")}init(e){let n=this;n.parent.textarea.style.height=(n.parent.textarea.value.split(`
`).length+1)*n.itemHeight+"px",n.resetProperties(),e>n.maxCounter-n.visibleNodesCount&&(n.maxCounter-n.visibleNodesCount>0?e=n.maxCounter-n.visibleNodesCount:e=0);let i=Math.max(1,Math.min(n.maxCounter-e,n.visibleNodesCount));for(let h=e;h<e+i;h++){let c=document.createElement("div"),g=document.createElement("span"),o=(n.maxCounter+"").length,O=(h+1+"").length,y=o-O;g.textContent=" ".repeat(y)+(h+1),c.appendChild(g),n.parent.gutter.appendChild(c)}n.parent.gutter.style.transform="translate("+n.parent.editor.scrollLeft+"px, "+e*n.itemHeight+"px)",n.parent.overlay.firstElementChild.style.transform="translate(0px, "+e*n.itemHeight+"px)",n.lastStart=e,n.lastScrollTop=n.parent.editor.scrollTop,n.maxCounter>=n.visibleNodesCount&&(n.active=!0),n.setGutterWidth(),n.parent.updateCurrentLine(!0);let r=n.parent.textarea.value.split(`
`);n.parent.textarea.rows=r.length+1,n.parent.textarea.cols=r.map(h=>h.length).reduce(function(h,c){return Math.max(h,c)});let l=n.parent.textarea.value.replaceAll(/&amp;/g,"&").replaceAll(/&lt;/g,"<").replaceAll(/&gt;/g,">"),u=[`<span class="token lf">
</span>`],s=n.parent.lastTextareaValue.split(`
`);l!=""&&(u=n.parent.prism.highlight(l+`
`,n.parent.prism.languages.damon,"damon").replace(/<span>\n<\/span>$/,"").split(`
`).map(h=>h.replace(/^<\/span>/,"")+`
</span>`));for(let h=e,c=e+i;h<c;h++){let g=document.createElement("span"),o=0;g.classList.add("space-line"),g.innerHTML=u[h];for(let O=0,y=g.children.length;O<y&&g.children[O].textContent==" ";O++)o++,o==4&&(o=0,g.children[O-3].classList.add("indent-guide"));(!n.parent.initialized||s[h]==null||s[h]!=r[h]||n.parent.overlay.firstElementChild.children[h-e]!=null&&g.innerHTML!=n.parent.overlay.firstElementChild.children[h-e].innerHTML)&&(s[h]==null||!n.parent.initialized?(n.parent.overlay.firstElementChild.appendChild(g),n.parent.overlay.firstElementChild.children.length>i+1&&n.parent.overlay.firstElementChild.firstElementChild.remove()):n.parent.overlay.firstElementChild.replaceChild(g,n.parent.overlay.firstElementChild.children[h-e]))}if(n.parent.overlay.firstElementChild.children.length>i)for(let h=i,c=n.parent.overlay.firstElementChild.children.length;h<c;h++)n.parent.overlay.firstElementChild.lastElementChild.remove()}getStartNode(e){let n=this,i=Math.floor(n.parent.editor.scrollTop/n.itemHeight)-n.viewable;return i=Math.min(Math.max(0,i),Math.max(0,e-n.buffer)),i}resetProperties(){let e=this;e.viewportHeight=e.parent.editor.getBoundingClientRect().height,e.viewable=Math.ceil(e.viewportHeight/e.itemHeight),e.maxCounter=e.parent.textarea.value.split(`
`).length,e.buffer=e.viewable*2,e.visibleNodesCount=e.viewable+e.buffer,e.active=!1}update(e){let n=this;if(n.resetProperties(),n.parent.gutter.firstElementChild)if(n.lastScrollTop!=n.parent.editor.scrollTop)e>n.maxCounter-n.visibleNodesCount&&(n.maxCounter-n.visibleNodesCount>0?e=n.maxCounter-n.visibleNodesCount:e=0),n.diffItems(e,n.visibleNodesCount),n.parent.gutter.style.transform="translate("+n.parent.editor.scrollLeft+"px, "+e*n.itemHeight+"px)",n.parent.overlay.firstElementChild.style.transform="translate(0px, "+e*n.itemHeight+"px)",n.lastScrollTop=n.parent.editor.scrollTop;else if(/^translate\(.+px, .+px\)$/.test(n.parent.gutter.style.transform))n.parent.gutter.style.transform="translate("+n.parent.editor.scrollLeft+"px, "+n.parent.gutter.style.transform.split(", ")[1];else throw new Error("You need to update this regex.");n.setGutterWidth(),n.parent.updateCurrentLine(!0)}diffItems(e,n){let i=this;if(i.lastStart!=e){if(i.lastStart<e){let r=Math.min(n,Math.abs(e-i.lastStart));for(let c=0,g=r;c<g;c++)i.parent.gutter.firstElementChild.remove();for(let c=e+n-r;c<e+n;c++){let g=document.createElement("div"),o=document.createElement("span"),O=(i.maxCounter+"").length,y=(c+1+"").length,E=O-y;o.textContent=" ".repeat(E)+(c+1),g.appendChild(o),i.parent.gutter.appendChild(g)}let l=i.parent.textarea.value.split(`
`);i.parent.textarea.rows=l.length+1,i.parent.textarea.cols=l.map(c=>c.length).reduce(function(c,g){return Math.max(c,g)});let u=i.parent.textarea.value.replaceAll(/&amp;/g,"&").replaceAll(/&lt;/g,"<").replaceAll(/&gt;/g,">"),s=i.parent.prism.highlight(u+`
`,i.parent.prism.languages.damon,"damon").replace(/<span>\n<\/span>$/,"").split(`
`).map(c=>c.replace(/^<\/span>/,"")+`
</span>`),h=i.parent.lastTextareaValue.split(`
`);for(let c=0,g=r;c<g;c++)i.parent.overlay.firstElementChild.firstElementChild.remove();for(let c=e+n-r;c<e+n;c++){let g=document.createElement("span"),o=0;g.classList.add("space-line"),g.innerHTML=s[c];for(let O=0,y=g.children.length;O<y&&g.children[O].textContent==" ";O++)o++,o==4&&(o=0,g.children[O-3].classList.add("indent-guide"));i.parent.overlay.firstElementChild.appendChild(g)}}else{let r=Math.min(n,Math.abs(i.lastStart-e));for(let o=0,O=r;o<O;o++)i.parent.gutter.lastElementChild.remove();let l=document.createDocumentFragment();for(let o=e;o<e+r;o++){let O=document.createElement("div"),y=document.createElement("span"),E=(i.maxCounter+"").length,d=(o+1+"").length,S=E-d;y.textContent=" ".repeat(S)+(o+1),O.appendChild(y),l.appendChild(O)}i.parent.gutter.insertBefore(l,i.parent.gutter.firstElementChild);let u=i.parent.textarea.value.split(`
`);i.parent.textarea.rows=u.length+1,i.parent.textarea.cols=u.map(o=>o.length).reduce(function(o,O){return Math.max(o,O)});let s=i.parent.textarea.value.replaceAll(/&amp;/g,"&").replaceAll(/&lt;/g,"<").replaceAll(/&gt;/g,">"),h=i.parent.prism.highlight(s+`
`,i.parent.prism.languages.damon,"damon").replace(/<span>\n<\/span>$/,"").split(`
`).map(o=>o.replace(/^<\/span>/,"")+`
</span>`),c=i.parent.lastTextareaValue.split(`
`);for(let o=0,O=r;o<O;o++)i.parent.overlay.firstElementChild.lastElementChild.remove();let g=document.createDocumentFragment();for(let o=e;o<e+r;o++){let O=document.createElement("span"),y=0;O.classList.add("space-line"),O.innerHTML=h[o];for(let E=0,d=O.children.length;E<d&&O.children[E].textContent==" ";E++)y++,y==4&&(y=0,O.children[E-3].classList.add("indent-guide"));g.appendChild(O)}i.parent.overlay.firstElementChild.insertBefore(g,i.parent.overlay.firstElementChild.firstElementChild)}i.lastStart=e}}setGutterWidth(){let e=this,n=e.parent.gutter.children[0].children[0].getBoundingClientRect().width,i=parseFloat(getComputedStyle(e.parent.editor).getPropertyValue("--gutterWidth"));n>i?(e.parent.gutter.style.width=n+"px",e.parent.container.style.left=n+"px"):(e.parent.gutter.style.width="",e.parent.container.style.left="")}}});var Rn=le((Wr,vn)=>{var Gr=Ie(ot());vn.exports=function(t){t.update(),t.historyUpdate(),window.addEventListener("load",e),t.editor.addEventListener("focusin",n),t.editor.addEventListener("focusout",i),t.gutter.addEventListener("click",r),document.addEventListener("mousedown",u),document.addEventListener("mousemove",s),document.addEventListener("mouseup",h),document.addEventListener("selectionchange",c),t.textarea.addEventListener("beforeinput",g),t.textarea.addEventListener("keydown",o),t.textarea.addEventListener("cut",O),t.textarea.addEventListener("copy",y),t.textarea.addEventListener("paste",E);function e(w){t.overlay.firstElementChild.innerHTML="",t.gutter.innerHTML="",t.update(),t.updateCurrentLine(),t.initialized=!0}function n(w){t.utils.addDataState(t.editor,"focused")}function i(w){t.editor.contains(w.target)||t.utils.removeDataState(t.editor,"focused")}function r(w){(Array.from(t.gutter.children).indexOf(w.target)>-1||Array.from(t.gutter.children).indexOf(w.target.parentNode)>-1)&&t.setCarretAt(parseInt(w.target.textContent.trim())-1)}var l;function u(w){if(w.target==t.container){l=w.target,w.preventDefault();let p=t.gutter.children,x="0";for(let N=0,_=p.length;N<_;N++)w.clientY>p[N].getBoundingClientRect().y&&(x=p[N].textContent.trim());x-1<0&&(x=1),t.setCarretAt(x-1),t.textarea.focus()}}function s(w){if(l==t.container&&w.buttons==1){let p=t.gutter.children,x="0";for(let N=0,_=p.length;N<_;N++)w.clientY>p[N].getBoundingClientRect().y&&(x=p[N].textContent.trim());t.textarea.focus(),t.textarea.setSelectionRange(t.textarea.value.split(`
`).slice(0,x).join().length,t.textarea.value.length,"backward")}}function h(w){l==t.container&&w.target==t.textarea&&(t.textarea.selectionEnd=t.textarea.value.length,t.textarea.selectionStart=t.textarea.value.length,t.textarea.focus()),l=void 0}function c(w){document.activeElement===t.textarea&&(t.updateCaret(),t.updateCurrentLine(),t.updateHorizontalScroll(),t.lastSelection=t.getTextareaSelection())}function g(w){t.lastTextareaValue=t.textarea.value}function o(w){if(!w.ctrlKey&&!w.shiftKey&&!w.altKey){if(w.key==" "&&t.textarea.selectionStart==t.textarea.selectionEnd&&(!/\n/.test(t.textarea.value.slice(0,t.textarea.selectionStart))&&(/ +$/.test(t.textarea.value.slice(0,t.textarea.selectionStart))||t.textarea.selectionStart===0)||/\n +$/.test(t.textarea.value.slice(0,t.textarea.selectionStart))||t.textarea.selectionStart<t.textarea.value.length&&(/\n +\n$/.test(t.textarea.value.slice(0,t.textarea.selectionStart+1))||/\n$/.test(t.textarea.value.slice(0,t.textarea.selectionStart)))||t.textarea.value.length==t.textarea.selectionStart&&(/\n +$/.test(t.textarea.value)||/\n$/.test(t.textarea.value)))){w.preventDefault();let p=t.textarea.selectionStart+4,x=t.textarea.value.slice(0,t.textarea.selectionStart)+"    "+t.textarea.value.slice(t.textarea.selectionEnd);t.setTextarea(x,p),d()}if(w.key=="Enter"){let p=t.textarea.value,x=p.split(`
`),N=t.getSelectionStartCoordinates(),_=N[0],m=N[1],a=x[_];if(/^    /.test(a)){if(w.preventDefault(),m%4!==0&&m<a.match(/^(    )+/)[0].length){for(let X=m;0<=X;X--)if(X%4==0){t.textarea.selectionStart==t.textarea.selectionEnd&&(t.textarea.selectionEnd=x.slice(0,_).join().length+X),t.textarea.selectionStart=x.slice(0,_).join().length+X,m=X;break}}let A=0;m>0&&(A=a.slice(0,m).match(/^(    )+/)[0].length);let L=t.textarea.selectionStart,M=t.textarea.value.slice(t.textarea.selectionEnd);M.split(`
`)[0].trim()==""&&(M=`
`+M.split(`
`).slice(1).join(`
`));let z=t.textarea.value.slice(0,t.textarea.selectionStart)+`
`+" ".repeat(A)+M;t.setTextarea(z,L+A+1),d()}}}else if(!w.ctrlKey&&w.shiftKey&&!w.altKey)w.key==" "&&t.textarea.selectionStart==t.textarea.selectionEnd;else if(w.ctrlKey&&!w.shiftKey&&!w.altKey){if(w.key=="Backspace"){let p=t.textarea.value.split(`
`),x=t.getSelectionStartCoordinates(),N=p[x[0]],_=N.slice(0,x[1]);if(t.textarea.selectionEnd==t.textarea.selectionStart&&/^ +$/.test(_)){w.preventDefault();let m=0;_.length%4==0?(p[x[0]]=N.slice(4),m=4):(p[x[0]]=N.slice(_.length%4),m=_.length%4),t.setTextarea(p.join(`
`)),d(),t.setCarretAt(x[0],x[1]-m)}}if(w.key==" "){let p=t.textarea.value.slice(0,t.textarea.selectionStart)+"	"+t.textarea.value.slice(t.textarea.selectionEnd);t.setTextarea(t.formatIndentation(p),t.textarea.selectionEnd+1),d()}if(w.key=="]"){w.preventDefault();let p=t.textarea.value.split(`
`),x=t.textarea.value.slice(0,t.textarea.selectionStart).split(`
`).length-1,N=t.textarea.value.slice(0,t.textarea.selectionEnd).split(`
`).length-1,_=t.textarea.selectionStart+4,m=t.textarea.selectionEnd+4*(N-x+1);for(let a=0,A=p.length;a<A;a++)a>=x&&a<=N&&(p[a]="    "+p[a]);t.setTextarea(p.join(`
`),_,m),d()}if(w.key=="["){let p=t.textarea.value,x=t.textarea.value.split(`
`),N=t.textarea.value.slice(0,t.textarea.selectionStart).split(`
`).length-1,_=t.textarea.value.slice(0,t.textarea.selectionEnd).split(`
`).length-1,m=t.textarea.selectionStart,a=t.textarea.selectionEnd;for(let A=0,L=x.length;A<L;A++)A>=N&&A<=_&&x[A].startsWith("    ")&&(A==N&&(m-=4),a-=4,x[A]=x[A].slice(4));t.setTextarea(x.join(`
`),m,a),d()}if(w.key=="Enter"){let p=t.textarea.value.split(`
`),x=t.getCurrentLine();x==p.length-1?t.setTextarea(p.join(`
`)+`
`):t.setTextarea(p.slice(0,x+1).join(`
`)+`

`+p.slice(x+1).join(`
`)),d(),t.setCarretAt(x+1)}w.key=="z"&&(w.preventDefault(),t.historyPosition>1&&(t.historyPosition-=1,t.setTextarea(t.history[t.historyPosition-1][0],t.history[t.historyPosition-1][1]),t.update(),t.virtualScroller.inputHandler(!0),t.textarea.blur(),t.textarea.focus())),w.key=="y"&&(w.preventDefault(),t.historyPosition<t.history.length&&(t.historyPosition+=1,t.setTextarea(t.history[t.historyPosition-1][0],t.history[t.historyPosition-1][1]),t.update(),t.virtualScroller.inputHandler(!0),t.textarea.blur(),t.textarea.focus()))}else if(!w.ctrlKey&&w.shiftKey&&w.altKey)w.key=="f"&&t.setTextarea(t.formatIndentation(t.textarea.value),t.textarea.selectionEnd);else if(!w.ctrlKey&&!w.shiftKey&&w.altKey){if(w.key=="ArrowDown")if(t.getSelectionStartCoordinates()[0]==t.getSelectionEndCoordinates()[0]){let p=t.textarea.value.split(`
`),x=t.getCurrentLine(),N=p[t.getCurrentLine()].slice();if(t.getCurrentLine()!==p.length){let _=p[t.getCurrentLine()+1].slice();p[t.getCurrentLine()]=_,p[t.getCurrentLine()+1]=N,t.setTextarea(p.join(`
`)),d(),t.setCarretAt(x+1)}}else{let p=t.textarea.value.split(`
`),x=t.getSelectionStartCoordinates()[0],N=t.getSelectionEndCoordinates()[0];if(N<x&&(x=t.getSelectionEndCoordinates()[0],N=t.getSelectionStartCoordinates()[0]),N!=p.length){let _=p.slice(x,N+1),m=p[N+1].slice();p[x]=m;for(let a=x,A=a+_.length;a<A;a++)p[a+1]=_[a-x];N<x?t.setTextarea(p.join(`
`),t.textarea.selectionEnd+m.length+1,t.textarea.selectionStart+m.length+1):t.setTextarea(p.join(`
`),t.textarea.selectionStart+m.length+1,t.textarea.selectionEnd+m.length+1),d()}}else if(w.key=="ArrowUp")if(t.getSelectionStartCoordinates()[0]==t.getSelectionEndCoordinates()[0]){let p=t.textarea.value.split(`
`),x=t.getCurrentLine(),N=p[t.getCurrentLine()].slice();if(t.getCurrentLine()!==0){let _=p[t.getCurrentLine()-1].slice();p[t.getCurrentLine()]=_,p[t.getCurrentLine()-1]=N,t.setTextarea(p.join(`
`)),d(),t.setCarretAt(x-1)}}else{let p=t.textarea.value.split(`
`),x=t.getSelectionStartCoordinates()[0],N=t.getSelectionEndCoordinates()[0];if(N<x&&(x=t.getSelectionEndCoordinates()[0],N=t.getSelectionStartCoordinates()[0]),x!=0){let _=p.slice(x,N+1),m=p[x-1].slice();p[N]=m;for(let a=x,A=a+_.length;a<A;a++)p[a-1]=_[a-x];N<x?t.setTextarea(p.join(`
`),t.textarea.selectionEnd-m.length-1,t.textarea.selectionStart-m.length-1):t.setTextarea(p.join(`
`),t.textarea.selectionStart-m.length-1,t.textarea.selectionEnd-m.length-1),d()}}}t.debounceLint()}function O(w){if(t.textarea.selectionStart==t.textarea.selectionEnd){w.preventDefault();let p=t.textarea.value.split(`
`),x=t.getCurrentLine(),N=p.slice(0,x).join(`
`).length,_=N+p[x].length+1;t.textarea.setSelectionRange(N,_),t.lastTextareaValue=t.textarea.value,document.execCommand("cut"),t.updateCaret()}}function y(w){if(t.textarea.selectionStart==t.textarea.selectionEnd){w.preventDefault();let p=t.textarea.value.split(`
`),x=t.getCurrentLine(),N=p.slice(0,x).join(`
`).length,_=N+p[x].length+1;t.textarea.setSelectionRange(N,_),document.execCommand("copy")}}function E(w){w.preventDefault();let p=w.clipboardData.getData("text").replace(new RegExp(/\r/g),""),x=t.textarea.value.slice(0,t.textarea.selectionStart),N=t.textarea.value.slice(t.textarea.selectionEnd),_=x+p+N,m=t.textarea.selectionStart+p.length;try{JSON.parse(_),t.setTextarea(t.damon.jsonToDamon(_)),d(),t.updateCaret(),t.debounceLint();return}catch{}let a=_.split(`
`),A=m,L=0,M=0;for(let H=0,Z=a.length;H<Z;H++)if(L+a[H].length+H<A)L+=a[H].length;else{L+=H,M=H;break}let z=[M,m-L],X=a[M].slice(0);if(_=t.formatIndentation(_),a=_.split(`
`),t.textarea.value!==_){let H=a.slice(0,M+1).join(`
`).length-X.length+z[1];t.setTextarea(_,H),d()}t.updateCaret(),t.debounceLint()}t.textarea.addEventListener("input",d),t.editor.addEventListener("scroll",S);function d(){document.activeElement==t.textarea&&(t.update(),t.debounceHistoryUpdate(),t.updateCurrentLine(),t.updateHorizontalScroll(),t.updateCaret(),t.debounceLint())}function S(w){t.virtualScroller.scrollHandler()}window.spaceResizeTimeout=null;function T(w){spaceResizeTimeout&&clearTimeout(spaceResizeTimeout),window.spaceResizeTimeout=setTimeout(function(){let p=t.editor.scrollTop;t.gutter.innerHTML="",t.overlay.firstElementChild.innerHTML="",t.initialized=!1,t.virtualScroller.inputHandler(),t.initialized=!0,t.editor.scrollTop=p},100)}}});var In=le((Yr,Dn)=>{var st=qt(),Dr=_n(),Ir=ot();Dn.exports=class{constructor(e,n,i){let r=this;r.dom=e,r.innerHTML="",r.editor={},r.gutter={},r.container={},r.overlay={},r.textarea={},r.caretPadding={},r.caret={},r.statusBar={},r.copyButton={},r.prism=n,r.indentation="    ",r.currentLine=0,r.history=[],r.historyPosition=0,r.historyUpdateTimeoutId,r.lintTimeoutId,r.lastTextareaValue="",r.lastSelection="",r.initialized=!1,r.virtualScroller={},r.damon=new Dr,r.utils=st}init(){let e=this;e.statusBarHTML=st.html`
<div>
    Spaces: <a href="https://github.com/adrianturcev/space/blob/master/bindings.md"><kbd>SPACE</kbd></a>
</div>
<a href="https://github.com/adrianturcev/damon/blob/master/language_reference.md">
    DAMON 
    <svg
    viewBox="0 0 24 24"
    xmlns="http://www.w3.org/2000/svg">
        <title>help-circle</title>
        <circle
            style="fill:#FEFEFE;stroke-width:1.04312;fill-opacity:1"
            cx="12"
            cy="12"
            r="9.6854191" />
        <path
            fill="#FEFEFE"
            d="M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"
            style="fill:#4169e1;fill-opacity:1" />
    </svg>
</a>
<button class="space-copyButton">
    JSON
    <svg
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg">
        <title>content-copy</title>
        <path
            fill="#FEFEFE"
            d="M 4,21 H 15 V 7 H 4 M 4,5 h 11 a -2,2 0 0 1 2,2 v 14 a -2,2 0 0 1 -2,2 H 4 A -2,2 0 0 1 2,21 V 7 A -2,2 0 0 1 4,5 M 7,1 h 12 a -2,2 0 0 1 2,2 V 17 H 19 V 3 H 7 Z"/>
    </svg>
</button>`,e.innerHTML=st.html`
<div class="space-editor" data-state="js-off">
    <div class="space-gutter"></div>
    <div class="space-container">
<pre class="space-dummyTextarea"><span class="space-caretPadding"></span><span class="space-caret">&nbsp;</span></pre>
        <pre class="space-overlay" aria-hidden="true" tabindex="-1">
            <code class="language-damon"></code>
        </pre>
        <textarea
            class="space-textarea"
            placeholder="Paste JSON or type DAMON"
            spellcheck="false"
            aria-labelledby=""
            aria-controls="space-statusBar0"
            maxlength="500000">
        </textarea>
        <ul class="space-suggestions"></ul>
    </div>
</div>
<div class="space-statusBar" id="space-statusBar0" role="log" aria-live="polite">${e.statusBarHTML}</div>
        `;let n="";e.dom.innerHTML!==e.innerHTML&&(e.dom.getElementsByTagName("textarea")[0]!==void 0&&(n=e.dom.getElementsByTagName("textarea")[0].innerHTML),e.dom.innerHTML=e.innerHTML),e.editor=e.dom.getElementsByClassName("space-editor")[0],e.gutter=e.dom.getElementsByClassName("space-gutter")[0],e.container=e.dom.getElementsByClassName("space-container")[0],e.overlay=e.dom.getElementsByClassName("space-overlay")[0],e.textarea=e.dom.getElementsByClassName("space-textarea")[0],e.textarea.innerHTML=n,e.caretPadding=e.dom.getElementsByClassName("space-caretPadding")[0],e.caret=e.dom.getElementsByClassName("space-caret")[0],e.statusBar=e.dom.getElementsByClassName("space-statusBar")[0],e.copyButton=e.dom.getElementsByClassName("space-copyButton")[0],e.virtualScroller=new Ir(this),e.editor.dataset.state="",e.textarea.value=e.formatIndentation(e.textarea.value.replaceAll(/\r/g,"")),e.routes=Rn()(this),e.lint()}update(){let e=this;e.initialized&&e.lastTextareaValue==e.textarea.value||(e.gutter.children.length==0?e.virtualScroller.init(0):e.virtualScroller.inputHandler(),e.initialized&&(e.lastTextareaValue=e.textarea.value))}updateHorizontalScroll(){let e=this;if(document.activeElement==e.textarea){let n=e.textarea.value.split(`
`),i=0,r=e.gutter.children[0].children[0].getBoundingClientRect().width;for(let l=0,u=n.length;l<u&&i+n[l].length<e.textarea.selectionEnd;l++)i+=n[l].length+1;(e.textarea.selectionEnd-i)*r-e.gutter.clientWidth<=e.editor.scrollLeft&&(e.editor.scrollLeft=0)}}getCurrentLine(){let e=this,n=e.textarea.value.split(`
`),i=0,r=0,l=0;(e.textarea.selectionDirection=="forward"||e.textarea.selectionStart==e.textarea.selectionEnd)&&(i=e.textarea.selectionEnd),e.textarea.selectionDirection=="backward"&&(i=e.textarea.selectionStart);for(let u=0,s=n.length;u<s;u++)if(r+n[u].length+u<i)r+=n[u].length;else{l=u;break}return l}getSelectionStartCoordinates(){let e=this,n=e.textarea.value.split(`
`),i=e.textarea.selectionStart,r=0,l=0;for(let u=0,s=n.length;u<s;u++)if(r+n[u].length+u<i)r+=n[u].length;else{r+=u,l=u;break}return[l,e.textarea.selectionStart-r]}getSelectionEndCoordinates(){let e=this,n=e.textarea.value.split(`
`),i=e.textarea.selectionEnd,r=0,l=0;for(let u=0,s=n.length;u<s;u++)if(r+n[u].length+u<i)r+=n[u].length;else{r+=u,l=u;break}return[l,e.textarea.selectionEnd-r]}setCarretAt(e,n){let i=this;if(n==null&&(n=i.textarea.value.split(`
`)[e].length),e==0)i.textarea.selectionStart=n;else{let r=Math.min(n,i.textarea.value.split(`
`)[e].length);i.textarea.selectionStart=i.textarea.value.split(`
`).slice(0,e).reduce(function(l,u){return l+u}).length+e+n}i.textarea.selectionEnd=i.textarea.selectionStart,i.textarea.focus()}getTextareaSelection(){let e=this;return e.textarea.selectionStart<e.textarea.selectionEnd?e.textarea.value.slice(e.textarea.selectionStart,e.textarea.selectionEnd):e.textarea.selectionStart<e.textarea.selectionEnd?e.textarea.value.slice(e.textarea.selectionEnd,e.textarea.selectionStart):void 0}updateCurrentLine(e){let n=this,i=n.currentLine;if(n.currentLine=n.getCurrentLine(),i!=n.currentLine||!n.initialized||e||n.lastSelection!=null&&n.getTextareaSelection()==null){for(let l=0,u=n.gutter.children.length;l<u;l++)n.gutter.children[l].classList.remove("currentLine"),n.gutter.children[l].classList.remove("selectionEnd");n.gutter.children[n.currentLine-n.gutter.children[0].textContent.trim()+1]&&(n.textarea.selectionEnd==n.textarea.selectionStart?n.gutter.children[n.currentLine-n.gutter.children[0].textContent.trim()+1].classList.add("currentLine"):n.gutter.children[n.currentLine-n.gutter.children[0].textContent.trim()+1].classList.add("selectionEnd"))}}historyUpdate(){let e=this;if(e.history.length==0||e.textarea.value!=e.history[e.historyPosition-1][0]){let i=function(r,l){return r+l[0]+l[1]};var n=i;if(e.historyPosition!=e.history.length&&(e.history=e.history.slice(0,e.historyPosition)),e.history.push([e.textarea.value,e.textarea.selectionStart]),e.history.reduce(i,"").length*4>1e8){let r=0;for(;e.history.reduce(i,"").length*4>1e8;)r++,e.history.shift();e.historyPosition-=r}e.historyPosition++}}debounceHistoryUpdate(){var e=this,n=arguments;clearTimeout(this.historyUpdateTimeoutId),this.historyUpdateTimeoutId=setTimeout(function(){e.historyUpdateTimeoutId=null,e.historyUpdate.apply(e,n)},200)}formatIndentation(e){let n=this,i=e.split(`
`);for(let r=0,l=i.length;r<l;r++){if(/^ *(\t)+/.test(i[r])){let u=i[r].match(/^ *(\t)+/)[0].length;for(let s=0,h=u;s<h;s++)i[r]=i[r].replace("	","    ")}if(/^( )+/.test(i[r])&&i[r].match(/^( )+/)[0].length%4!==0){for(let u=i[r].match(/^( )+/)[0].length;0<=u;u--)if(u%4==0){i[r].trimStart(),i[r]=" ".repeat(u)+i[r];break}}}return i.join(`
`)}formatHyphens(e){let n=this,i=e.split(`
`);for(let r=0,l=i.length;r<l;r++)if(!/^ *- /.test(i[r])){let u="";/^ /.test(i[r])&&(u=i[r].match(/^( )+/)[0]),i[r]=u+"- "+i[r].slice(u.length)}return i.join(`
`)}updateCaret(){let e=this;e.textarea.selectionDirection=="forward"||e.textarea.selectionStart==e.textarea.selectionEnd?e.caretPadding.textContent=e.textarea.value.slice(0,e.textarea.selectionEnd):e.caretPadding.textContent=e.textarea.value.slice(0,e.textarea.selectionStart)}setTextarea(e,n,i=n){let r=this;r.lastTextareaValue=r.textarea.value,r.textarea.value=e,r.textarea.setSelectionRange(n,i)}lint(){let e=this;try{e.damon.damonToMap(e.textarea.value),e.statusBar.innerHTML=e.statusBarHTML}catch(n){n.language=="JSON"?e.statusBar.innerHTML="<span>( ! ) Error line number "+n.line+": "+n.type+" not JSON-compliant</span>"+e.statusBarHTML:e.statusBar.innerHTML="<span>( ! ) "+n.message+"</span>"+e.statusBarHTML,console.error(n)}e.copyButton=e.dom.getElementsByClassName("space-copyButton")[0],e.copyButton.addEventListener("click",function(n){let i=document.createElement("textarea");i.style.opacity="0";try{i.value=e.damon.damonToJSON(e.textarea.value)}catch{setTimeout(function(){e.copyButton.classList.remove("error")},1100),e.copyButton.classList.add("error");return}document.body.appendChild(i),i.focus(),i.select();try{document.execCommand("copy")&&(setTimeout(function(){e.copyButton.classList.remove("success")},1100),e.copyButton.classList.add("success"))}catch(r){console.error(r.name,r.message)}document.body.removeChild(i)})}debounceLint(){var e=this,n=arguments;clearTimeout(this.lintTimeoutId),this.lintTimeoutId=setTimeout(function(){e.lintTimeoutId=null,e.lint.apply(e,n)},200)}}});(function(){window.Space=In()})();})();
/*! Bundled license information:

dompurify/dist/purify.js:
  (*! @license DOMPurify 3.1.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.5/LICENSE *)
*/
