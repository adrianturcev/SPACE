/* PrismJS 1.28.0
https://prismjs.com/download.html#themes=prism-okaidia&languages=json&plugins=show-invisibles+normalize-whitespace */
var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(e){var n=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,t=0,r={},a={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(n){return n instanceof i?new i(n.type,e(n.content),n.alias):Array.isArray(n)?n.map(e):n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function e(n,t){var r,i;switch(t=t||{},a.util.type(n)){case"Object":if(i=a.util.objId(n),t[i])return t[i];for(var l in r={},t[i]=r,n)n.hasOwnProperty(l)&&(r[l]=e(n[l],t));return r;case"Array":return i=a.util.objId(n),t[i]?t[i]:(r=[],t[i]=r,n.forEach((function(n,a){r[a]=e(n,t)})),r);default:return n}},getLanguage:function(e){for(;e;){var t=n.exec(e.className);if(t)return t[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,t){e.className=e.className.replace(RegExp(n,"gi"),""),e.classList.add("language-"+t)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(r.stack)||[])[1];if(e){var n=document.getElementsByTagName("script");for(var t in n)if(n[t].src==e)return n[t]}return null}},isActive:function(e,n,t){for(var r="no-"+n;e;){var a=e.classList;if(a.contains(n))return!0;if(a.contains(r))return!1;e=e.parentElement}return!!t}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,n){var t=a.util.clone(a.languages[e]);for(var r in n)t[r]=n[r];return t},insertBefore:function(e,n,t,r){var i=(r=r||a.languages)[e],l={};for(var o in i)if(i.hasOwnProperty(o)){if(o==n)for(var s in t)t.hasOwnProperty(s)&&(l[s]=t[s]);t.hasOwnProperty(o)||(l[o]=i[o])}var u=r[e];return r[e]=l,a.languages.DFS(a.languages,(function(n,t){t===u&&n!=e&&(this[n]=l)})),l},DFS:function e(n,t,r,i){i=i||{};var l=a.util.objId;for(var o in n)if(n.hasOwnProperty(o)){t.call(n,o,n[o],r||o);var s=n[o],u=a.util.type(s);"Object"!==u||i[l(s)]?"Array"!==u||i[l(s)]||(i[l(s)]=!0,e(s,t,o,i)):(i[l(s)]=!0,e(s,t,null,i))}}},plugins:{},highlightAll:function(e,n){a.highlightAllUnder(document,e,n)},highlightAllUnder:function(e,n,t){var r={callback:t,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),a.hooks.run("before-all-elements-highlight",r);for(var i,l=0;i=r.elements[l++];)a.highlightElement(i,!0===n,r.callback)},highlightElement:function(n,t,r){var i=a.util.getLanguage(n),l=a.languages[i];a.util.setLanguage(n,i);var o=n.parentElement;o&&"pre"===o.nodeName.toLowerCase()&&a.util.setLanguage(o,i);var s={element:n,language:i,grammar:l,code:n.textContent};function u(e){s.highlightedCode=e,a.hooks.run("before-insert",s),s.element.innerHTML=s.highlightedCode,a.hooks.run("after-highlight",s),a.hooks.run("complete",s),r&&r.call(s.element)}if(a.hooks.run("before-sanity-check",s),(o=s.element.parentElement)&&"pre"===o.nodeName.toLowerCase()&&!o.hasAttribute("tabindex")&&o.setAttribute("tabindex","0"),!s.code)return a.hooks.run("complete",s),void(r&&r.call(s.element));if(a.hooks.run("before-highlight",s),s.grammar)if(t&&e.Worker){var c=new Worker(a.filename);c.onmessage=function(e){u(e.data)},c.postMessage(JSON.stringify({language:s.language,code:s.code,immediateClose:!0}))}else u(a.highlight(s.code,s.grammar,s.language));else u(a.util.encode(s.code))},highlight:function(e,n,t){var r={code:e,grammar:n,language:t};if(a.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=a.tokenize(r.code,r.grammar),a.hooks.run("after-tokenize",r),i.stringify(a.util.encode(r.tokens),r.language)},tokenize:function(e,n){var t=n.rest;if(t){for(var r in t)n[r]=t[r];delete n.rest}var a=new s;return u(a,a.head,e),o(e,a,n,a.head,0),function(e){for(var n=[],t=e.head.next;t!==e.tail;)n.push(t.value),t=t.next;return n}(a)},hooks:{all:{},add:function(e,n){var t=a.hooks.all;t[e]=t[e]||[],t[e].push(n)},run:function(e,n){var t=a.hooks.all[e];if(t&&t.length)for(var r,i=0;r=t[i++];)r(n)}},Token:i};function i(e,n,t,r){this.type=e,this.content=n,this.alias=t,this.length=0|(r||"").length}function l(e,n,t,r){e.lastIndex=n;var a=e.exec(t);if(a&&r&&a[1]){var i=a[1].length;a.index+=i,a[0]=a[0].slice(i)}return a}function o(e,n,t,r,s,g){for(var f in t)if(t.hasOwnProperty(f)&&t[f]){var h=t[f];h=Array.isArray(h)?h:[h];for(var d=0;d<h.length;++d){if(g&&g.cause==f+","+d)return;var v=h[d],p=v.inside,m=!!v.lookbehind,y=!!v.greedy,k=v.alias;if(y&&!v.pattern.global){var x=v.pattern.toString().match(/[imsuy]*$/)[0];v.pattern=RegExp(v.pattern.source,x+"g")}for(var b=v.pattern||v,w=r.next,A=s;w!==n.tail&&!(g&&A>=g.reach);A+=w.value.length,w=w.next){var E=w.value;if(n.length>e.length)return;if(!(E instanceof i)){var P,L=1;if(y){if(!(P=l(b,A,e,m))||P.index>=e.length)break;var S=P.index,O=P.index+P[0].length,j=A;for(j+=w.value.length;S>=j;)j+=(w=w.next).value.length;if(A=j-=w.value.length,w.value instanceof i)continue;for(var C=w;C!==n.tail&&(j<O||"string"==typeof C.value);C=C.next)L++,j+=C.value.length;L--,E=e.slice(A,j),P.index-=A}else if(!(P=l(b,0,E,m)))continue;S=P.index;var N=P[0],_=E.slice(0,S),M=E.slice(S+N.length),W=A+E.length;g&&W>g.reach&&(g.reach=W);var z=w.prev;if(_&&(z=u(n,z,_),A+=_.length),c(n,z,L),w=u(n,z,new i(f,p?a.tokenize(N,p):N,k,N)),M&&u(n,w,M),L>1){var I={cause:f+","+d,reach:W};o(e,n,t,w.prev,A,I),g&&I.reach>g.reach&&(g.reach=I.reach)}}}}}}function s(){var e={value:null,prev:null,next:null},n={value:null,prev:e,next:null};e.next=n,this.head=e,this.tail=n,this.length=0}function u(e,n,t){var r=n.next,a={value:t,prev:n,next:r};return n.next=a,r.prev=a,e.length++,a}function c(e,n,t){for(var r=n.next,a=0;a<t&&r!==e.tail;a++)r=r.next;n.next=r,r.prev=n,e.length-=a}if(e.Prism=a,i.stringify=function e(n,t){if("string"==typeof n)return n;if(Array.isArray(n)){var r="";return n.forEach((function(n){r+=e(n,t)})),r}var i={type:n.type,content:e(n.content,t),tag:"span",classes:["token",n.type],attributes:{},language:t},l=n.alias;l&&(Array.isArray(l)?Array.prototype.push.apply(i.classes,l):i.classes.push(l)),a.hooks.run("wrap",i);var o="";for(var s in i.attributes)o+=" "+s+'="'+(i.attributes[s]||"").replace(/"/g,"&quot;")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+o+">"+i.content+"</"+i.tag+">"},!e.document)return e.addEventListener?(a.disableWorkerMessageHandler||e.addEventListener("message",(function(n){var t=JSON.parse(n.data),r=t.language,i=t.code,l=t.immediateClose;e.postMessage(a.highlight(i,a.languages[r],r)),l&&e.close()}),!1),a):a;var g=a.util.currentScript();function f(){a.manual||a.highlightAll()}if(g&&(a.filename=g.src,g.hasAttribute("data-manual")&&(a.manual=!0)),!a.manual){var h=document.readyState;"loading"===h||"interactive"===h&&g&&g.defer?document.addEventListener("DOMContentLoaded",f):window.requestAnimationFrame?window.requestAnimationFrame(f):window.setTimeout(f,16)}return a}(_self);"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism);
Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},Prism.languages.webmanifest=Prism.languages.json;
!function(){if("undefined"!=typeof Prism){var r={tab:/\t/,crlf:/\r\n/,lf:/\n/,cr:/\r/,space:/ /};Prism.hooks.add("before-highlight",(function(r){i(r.grammar)}))}function e(r,a){var n=r[a];switch(Prism.util.type(n)){case"RegExp":var t={};r[a]={pattern:n,inside:t},i(t);break;case"Array":for(var f=0,s=n.length;f<s;f++)e(n,f);break;default:i(t=n.inside||(n.inside={}))}}function i(a){if(a&&!a.tab){for(var n in r)r.hasOwnProperty(n)&&(a[n]=r[n]);for(var n in a)a.hasOwnProperty(n)&&!r[n]&&("rest"===n?i(a.rest):e(a,n))}}}();
!function(){if("undefined"!=typeof Prism){var e=Object.assign||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},t={"remove-trailing":"boolean","remove-indent":"boolean","left-trim":"boolean","right-trim":"boolean","break-lines":"number",indent:"number","remove-initial-line-feed":"boolean","tabs-to-spaces":"number","spaces-to-tabs":"number"};n.prototype={setDefaults:function(t){this.defaults=e(this.defaults,t)},normalize:function(t,n){for(var r in n=e(this.defaults,n)){var i=r.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}));"normalize"!==r&&"setDefaults"!==i&&n[r]&&this[i]&&(t=this[i].call(this,t,n[r]))}return t},leftTrim:function(e){return e.replace(/^\s+/,"")},rightTrim:function(e){return e.replace(/\s+$/,"")},tabsToSpaces:function(e,t){return t=0|t||4,e.replace(/\t/g,new Array(++t).join(" "))},spacesToTabs:function(e,t){return t=0|t||4,e.replace(RegExp(" {"+t+"}","g"),"\t")},removeTrailing:function(e){return e.replace(/\s*?$/gm,"")},removeInitialLineFeed:function(e){return e.replace(/^(?:\r?\n|\r)/,"")},removeIndent:function(e){var t=e.match(/^[^\S\n\r]*(?=\S)/gm);return t&&t[0].length?(t.sort((function(e,t){return e.length-t.length})),t[0].length?e.replace(RegExp("^"+t[0],"gm"),""):e):e},indent:function(e,t){return e.replace(/^[^\S\n\r]*(?=\S)/gm,new Array(++t).join("\t")+"$&")},breakLines:function(e,t){t=!0===t?80:0|t||80;for(var n=e.split("\n"),i=0;i<n.length;++i)if(!(r(n[i])<=t)){for(var o=n[i].split(/(\s+)/g),a=0,l=0;l<o.length;++l){var s=r(o[l]);(a+=s)>t&&(o[l]="\n"+o[l],a=s)}n[i]=o.join("")}return n.join("\n")}},"undefined"!=typeof module&&module.exports&&(module.exports=n),Prism.plugins.NormalizeWhitespace=new n({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0}),Prism.hooks.add("before-sanity-check",(function(e){var n=Prism.plugins.NormalizeWhitespace;if((!e.settings||!1!==e.settings["whitespace-normalization"])&&Prism.util.isActive(e.element,"whitespace-normalization",!0))if(e.element&&e.element.parentNode||!e.code){var r=e.element.parentNode;if(e.code&&r&&"pre"===r.nodeName.toLowerCase()){for(var i in null==e.settings&&(e.settings={}),t)if(Object.hasOwnProperty.call(t,i)){var o=t[i];if(r.hasAttribute("data-"+i))try{var a=JSON.parse(r.getAttribute("data-"+i)||"true");typeof a===o&&(e.settings[i]=a)}catch(e){}}for(var l=r.childNodes,s="",c="",u=!1,m=0;m<l.length;++m){var f=l[m];f==e.element?u=!0:"#text"===f.nodeName&&(u?c+=f.nodeValue:s+=f.nodeValue,r.removeChild(f),--m)}if(e.element.children.length&&Prism.plugins.KeepMarkup){var d=s+e.element.innerHTML+c;e.element.innerHTML=n.normalize(d,e.settings),e.code=e.element.textContent}else e.code=s+e.code+c,e.code=n.normalize(e.code,e.settings)}}else e.code=n.normalize(e.code,e.settings)}))}function n(t){this.defaults=e({},t)}function r(e){for(var t=0,n=0;n<e.length;++n)e.charCodeAt(n)=="\t".charCodeAt(0)&&(t+=3);return e.length+t}}();
;
Prism.languages.damon = {
    'list-hyphen': {
        pattern: /(^\s*)(?:[*-])/m,
        lookbehind: true,
        greedy: true
    },
    'key': {
        pattern: /.+(?=(: (true *$|false *$|null *$|\".*\" *$|\\{.*\\} *$|\\[.*] *$|-?(?:0|[1-9]\\d*)(?:(?:\\.\\d+)?(?:[eE][+-]?\\d+)?)? *$)))/,
    },
    'string': {
        pattern: /(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,
        lookbehind: true,
        greedy: true
    },
    'comment': {
        pattern: /\/\/.*|\/\*[\s\S]*?(?:\*\/|$)\n/,
        greedy: true
    },
    'number': /-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,
    'operator': /:/,
    'boolean': /\b(?:false|true)\b/,
    'null': {
        pattern: /\bnull\b/,
        alias: 'keyword'
    },
    'map': {
        pattern: /(\{\})\n/,
    },
    'list': {
        pattern: /(\[\])\n/,
    },
    'punctuation': /[\{\}\[\],]/,
};

Prism.languages.webmanifest = Prism.languages.damon;
;
(()=>{var mr=Object.create;var Z=Object.defineProperty;var xr=Object.getOwnPropertyDescriptor;var vr=Object.getOwnPropertyNames;var wr=Object.getPrototypeOf,Er=Object.prototype.hasOwnProperty;var br=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var Sr=(e,t)=>()=>(e&&(t=e(e=0)),t);var A=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Or=(e,t)=>{for(var r in t)Z(e,r,{get:t[r],enumerable:!0})},He=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of vr(t))!Er.call(e,i)&&i!==r&&Z(e,i,{get:()=>t[i],enumerable:!(n=xr(t,i))||n.enumerable});return e};var Lr=(e,t,r)=>(r=e!=null?mr(wr(e)):{},He(t||!e||!e.__esModule?Z(r,"default",{value:e,enumerable:!0}):r,e)),Nr=e=>He(Z({},"__esModule",{value:!0}),e);var Ue=A((Kn,qe)=>{qe.exports={nil(e){return e===null||typeof e>"u"},hack(e,t,r){return e.slice(t,r+1)},pick(e,t){return e.filter(t)},prune(e,t){return e.filter(function(r){return!t(r)})},check(e,t){return e.every(t)},escape(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},html(e){let t=e[0],r=Math.max(e.length,arguments.length-1);for(let n=1;n<e.length;n++)t+=arguments[n],t+=e[n];return t},addDataState(e,t){let r=[];e.dataset.state&&e.dataset.state.indexOf(" ")>-1?r=e.dataset.state.split(" "):r=[e.dataset.state],r.indexOf(t)===-1&&(r.push(t),e.dataset.state=r.join(" "))},removeDataState(e,t){let r=[];e.dataset.state&&e.dataset.state.indexOf(" ")>-1?r=e.dataset.state.split(" "):r=[e.dataset.state],e.dataset.state=r.filter(n=>n!==t).join(" ")},replaceDataState(e,t,r){this.removeDataState(e,t),this.addDataState(e,r)},toggleDataState(e,t){e.dataset.state.split(" ").indexOf(t)==-1?this.addDataState(e,t):this.removeDataState(e,t)},ajaxGet(e,t,r,n){var i=new XMLHttpRequest;i.open("GET",e),i.addEventListener("load",function(){if(i.status>=200&&i.status<400)if(r){var l={};try{l=JSON.parse(i.responseText)}catch{console.error("Get request returned invalid JSON.")}n===void 0?t(l):t.apply(n,[l])}else n===void 0?t(i.responseText):t.apply(n,[i.responseText]);else console.error(i.status+" "+i.statusText+" "+e)}),i.addEventListener("error",function(){console.error("Network error trying to access: "+e)}),i.send(null)},ajaxPost(e,t,r,n,i,l,a){var o=new XMLHttpRequest;o.open("POST",e),o.addEventListener("load",function(){o.status>=200&&o.status<400?l===void 0?r(o):r.apply(l,[o]):(a===void 0?n(o):n.apply(a,[o]),console.error(o.status+" "+o.statusText+" "+e))}),o.addEventListener("error",function(){console.error("Network error trying to access: "+e)}),i&&(o.setRequestHeader("Content-Type","application/json"),t=JSON.stringify(t)),o.send(t)}}});var yt={};Or(yt,{__addDisposableResource:()=>ht,__assign:()=>ee,__asyncDelegator:()=>lt,__asyncGenerator:()=>it,__asyncValues:()=>at,__await:()=>H,__awaiter:()=>Qe,__classPrivateFieldGet:()=>ft,__classPrivateFieldIn:()=>dt,__classPrivateFieldSet:()=>ct,__createBinding:()=>re,__decorate:()=>ze,__disposeResources:()=>pt,__esDecorate:()=>Ge,__exportStar:()=>et,__extends:()=>ke,__generator:()=>Ze,__importDefault:()=>ut,__importStar:()=>st,__makeTemplateObject:()=>ot,__metadata:()=>Xe,__param:()=>We,__propKey:()=>Ye,__read:()=>ye,__rest:()=>Ve,__rewriteRelativeImportExtension:()=>gt,__runInitializers:()=>Ke,__setFunctionName:()=>je,__spread:()=>tt,__spreadArray:()=>nt,__spreadArrays:()=>rt,__values:()=>te,default:()=>Ar});function ke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");pe(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Ve(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function ze(e,t,r,n){var i=arguments.length,l=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(l=(i<3?a(l):i>3?a(t,r,l):a(t,r))||l);return i>3&&l&&Object.defineProperty(t,r,l),l}function We(e,t){return function(r,n){t(r,n,e)}}function Ge(e,t,r,n,i,l){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var o=n.kind,f=o==="getter"?"get":o==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,h=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),u,m=!1,g=r.length-1;g>=0;g--){var y={};for(var d in n)y[d]=d==="access"?{}:n[d];for(var d in n.access)y.access[d]=n.access[d];y.addInitializer=function(w){if(m)throw new TypeError("Cannot add initializers after decoration has completed");l.push(a(w||null))};var S=(0,r[g])(o==="accessor"?{get:h.get,set:h.set}:h[f],y);if(o==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(u=a(S.get))&&(h.get=u),(u=a(S.set))&&(h.set=u),(u=a(S.init))&&i.unshift(u)}else(u=a(S))&&(o==="field"?i.unshift(u):h[f]=u)}c&&Object.defineProperty(c,n.name,h),m=!0}function Ke(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function Ye(e){return typeof e=="symbol"?e:"".concat(e)}function je(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Xe(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Qe(e,t,r,n){function i(l){return l instanceof r?l:new r(function(a){a(l)})}return new(r||(r=Promise))(function(l,a){function o(h){try{c(n.next(h))}catch(u){a(u)}}function f(h){try{c(n.throw(h))}catch(u){a(u)}}function c(h){h.done?l(h.value):i(h.value).then(o,f)}c((n=n.apply(e,t||[])).next())})}function Ze(e,t){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,i,l,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(h){return f([c,h])}}function f(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(l=c[0]&2?i.return:c[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,c[1])).done)return l;switch(i=0,l&&(c=[c[0]&2,l.value]),c[0]){case 0:case 1:l=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!l||c[1]>l[0]&&c[1]<l[3])){r.label=c[1];break}if(c[0]===6&&r.label<l[1]){r.label=l[1],l=c;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(c);break}l[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(h){c=[6,h],i=0}finally{n=l=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function et(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&re(t,e,r)}function te(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ye(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,l=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)l.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return l}function tt(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ye(arguments[t]));return e}function rt(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var l=arguments[t],a=0,o=l.length;a<o;a++,i++)n[i]=l[a];return n}function nt(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,l;n<i;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))}function H(e){return this instanceof H?(this.v=e,this):new H(e)}function it(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,l=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(y){return Promise.resolve(y).then(g,u)}}function o(g,y){n[g]&&(i[g]=function(d){return new Promise(function(S,w){l.push([g,d,S,w])>1||f(g,d)})},y&&(i[g]=y(i[g])))}function f(g,y){try{c(n[g](y))}catch(d){m(l[0][3],d)}}function c(g){g.value instanceof H?Promise.resolve(g.value.v).then(h,u):m(l[0][2],g)}function h(g){f("next",g)}function u(g){f("throw",g)}function m(g,y){g(y),l.shift(),l.length&&f(l[0][0],l[0][1])}}function lt(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,l){t[i]=e[i]?function(a){return(r=!r)?{value:H(e[i](a)),done:!1}:l?l(a):a}:l}}function at(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof te=="function"?te(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(l){r[l]=e[l]&&function(a){return new Promise(function(o,f){a=e[l](a),i(o,f,a.done,a.value)})}}function i(l,a,o,f){Promise.resolve(f).then(function(c){l({value:c,done:o})},a)}}function ot(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function st(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=ge(e),n=0;n<r.length;n++)r[n]!=="default"&&re(t,e,r[n]);return _r(t,e),t}function ut(e){return e&&e.__esModule?e:{default:e}}function ft(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function ct(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function dt(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function ht(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(l){return Promise.reject(l)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function pt(e){function t(l){e.error=e.hasError?new Cr(l,e.error,"An error was suppressed during disposal."):l,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(l).then(i,function(a){return t(a),i()})}else n|=1}catch(a){t(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function gt(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,l,a){return n?t?".jsx":".js":i&&(!l||!a)?r:i+l+"."+a.toLowerCase()+"js"}):e}var pe,ee,re,_r,ge,Cr,Ar,mt=Sr(()=>{pe=function(e,t){return pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},pe(e,t)};ee=function(){return ee=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},ee.apply(this,arguments)};re=Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};_r=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},ge=function(e){return ge=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},ge(e)};Cr=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};Ar={__extends:ke,__assign:ee,__rest:Ve,__decorate:ze,__param:We,__esDecorate:Ge,__runInitializers:Ke,__propKey:Ye,__setFunctionName:je,__metadata:Xe,__awaiter:Qe,__generator:Ze,__createBinding:re,__exportStar:et,__values:te,__read:ye,__spread:tt,__spreadArrays:rt,__spreadArray:nt,__await:H,__asyncGenerator:it,__asyncDelegator:lt,__asyncValues:at,__makeTemplateObject:ot,__importStar:st,__importDefault:ut,__classPrivateFieldGet:ft,__classPrivateFieldSet:ct,__classPrivateFieldIn:dt,__addDisposableResource:ht,__disposeResources:pt,__rewriteRelativeImportExtension:gt}});var xt=A(me=>{(function(e){"use strict";var t=typeof process=="object"&&process.env?process.env:self;e.parser=function(p){return new u(p)},e.CParser=u,e.CStream=g,e.createStream=m,e.MAX_BUFFER_LENGTH=64*1024,e.DEBUG=t.CDEBUG==="debug",e.INFO=t.CDEBUG==="debug"||t.CDEBUG==="info",e.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var r={textNode:void 0,numberNode:""},n=e.EVENTS.filter(function(p){return p!=="error"&&p!=="end"}),i=0,l;e.STATE={BEGIN:i++,VALUE:i++,OPEN_OBJECT:i++,CLOSE_OBJECT:i++,OPEN_ARRAY:i++,CLOSE_ARRAY:i++,TEXT_ESCAPE:i++,STRING:i++,BACKSLASH:i++,END:i++,OPEN_KEY:i++,CLOSE_KEY:i++,TRUE:i++,TRUE2:i++,TRUE3:i++,FALSE:i++,FALSE2:i++,FALSE3:i++,FALSE4:i++,NULL:i++,NULL2:i++,NULL3:i++,NUMBER_DECIMAL_POINT:i++,NUMBER_DIGIT:i++};for(var a in e.STATE)e.STATE[e.STATE[a]]=a;i=e.STATE;let o={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(p){function s(){this.__proto__=p}return s.prototype=p,new s}),Object.getPrototypeOf||(Object.getPrototypeOf=function(p){return p.__proto__}),Object.keys||(Object.keys=function(p){var s=[];for(var O in p)p.hasOwnProperty(O)&&s.push(O);return s});function f(p){var s=Math.max(e.MAX_BUFFER_LENGTH,10),O=0;for(var E in r){var _=p[E]===void 0?0:p[E].length;if(_>s)switch(E){case"text":closeText(p);break;default:v(p,"Max buffer length exceeded: "+E)}O=Math.max(O,_)}p.bufferCheckPosition=e.MAX_BUFFER_LENGTH-O+p.position}function c(p){for(var s in r)p[s]=r[s]}var h=/[\\"\n]/g;function u(p){if(!(this instanceof u))return new u(p);var s=this;c(s),s.bufferCheckPosition=e.MAX_BUFFER_LENGTH,s.q=s.c=s.p="",s.opt=p||{},s.closed=s.closedRoot=s.sawRoot=!1,s.tag=s.error=null,s.state=i.BEGIN,s.stack=new Array,s.position=s.column=0,s.line=1,s.slashed=!1,s.unicodeI=0,s.unicodeS=null,s.depth=0,y(s,"onready")}u.prototype={end:function(){x(this)},write:N,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{l=br("stream").Stream}catch{l=function(){}}function m(p){return new g(p)}function g(p){if(!(this instanceof g))return new g(p);this._parser=new u(p),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var s=this;l.apply(s),this._parser.onend=function(){s.emit("end")},this._parser.onerror=function(O){s.emit("error",O),s._parser.error=null},n.forEach(function(O){Object.defineProperty(s,"on"+O,{get:function(){return s._parser["on"+O]},set:function(E){if(!E)return s.removeAllListeners(O),s._parser["on"+O]=E,E;s.on(O,E)},enumerable:!0,configurable:!1})})}g.prototype=Object.create(l.prototype,{constructor:{value:g}}),g.prototype.write=function(p){p=new Buffer(p);for(var s=0;s<p.length;s++){var O=p[s];if(this.bytes_remaining>0){for(var E=0;E<this.bytes_remaining;E++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+E]=p[E];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,s=s+E-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&O>=128)if(O>=194&&O<=223&&(this.bytes_in_sequence=2),O>=224&&O<=239&&(this.bytes_in_sequence=3),O>=240&&O<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+s>p.length){for(var _=0;_<=p.length-1-s;_++)this.temp_buffs[this.bytes_in_sequence][_]=p[s+_];return this.bytes_remaining=s+this.bytes_in_sequence-p.length,!0}else{this.string=p.slice(s,s+this.bytes_in_sequence).toString(),s=s+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var P=s;P<p.length&&!(p[P]>=128);P++);this.string=p.slice(s,P).toString(),this._parser.write(this.string),this.emit("data",this.string),s=P-1}},g.prototype.end=function(p){return p&&p.length&&this._parser.write(p.toString()),this._parser.end(),!0},g.prototype.on=function(p,s){var O=this;return!O._parser["on"+p]&&n.indexOf(p)!==-1&&(O._parser["on"+p]=function(){var E=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);E.splice(0,0,p),O.emit.apply(O,E)}),l.prototype.on.call(O,p,s)},g.prototype.destroy=function(){c(this._parser),this.emit("close")};function y(p,s,O){e.INFO&&console.log("-- emit",s,O),p[s]&&p[s](O)}function d(p,s,O){S(p),y(p,s,O)}function S(p,s){p.textNode=b(p.opt,p.textNode),p.textNode!==void 0&&y(p,s||"onvalue",p.textNode),p.textNode=void 0}function w(p){p.numberNode&&y(p,"onvalue",parseFloat(p.numberNode)),p.numberNode=""}function b(p,s){return s===void 0||(p.trim&&(s=s.trim()),p.normalize&&(s=s.replace(/\s+/g," "))),s}function v(p,s){return S(p),s+=`
Line: `+p.line+`
Column: `+p.column+`
Char: `+p.c,s=new Error(s),p.error=s,y(p,"onerror",s),p}function x(p){return(p.state!==i.VALUE||p.depth!==0)&&v(p,"Unexpected end"),S(p),p.c="",p.closed=!0,y(p,"onend"),u.call(p,p.opt),p}function L(p){return p===o.carriageReturn||p===o.lineFeed||p===o.space||p===o.tab}function N(p){var s=this;if(this.error)throw this.error;if(s.closed)return v(s,"Cannot write after close. Assign an onready handler.");if(p===null)return x(s);var O=0,E=p.charCodeAt(0),_=s.p,P=!1;for(e.DEBUG&&console.log("write -> ["+p+"]");E&&(_=E,s.c=E=p.charCodeAt(O++),_!==E?s.p=_:_=s.p,!!E);)switch(e.DEBUG&&console.log(O,E,e.STATE[s.state]),P?P=!1:(s.position++,E===o.lineFeed?(s.line++,s.column=0):s.column++),s.state){case i.BEGIN:E===o.openBrace?s.state=i.OPEN_OBJECT:E===o.openBracket?s.state=i.OPEN_ARRAY:L(E)||v(s,"Non-whitespace before {[.");continue;case i.OPEN_KEY:case i.OPEN_OBJECT:if(L(E))continue;if(s.state===i.OPEN_KEY)s.stack.push(i.CLOSE_KEY);else if(E===o.closeBrace){y(s,"onopenobject"),this.depth++,y(s,"oncloseobject"),this.depth--,s.state=s.stack.pop()||i.VALUE;continue}else s.stack.push(i.CLOSE_OBJECT);E===o.doubleQuote?s.state=i.STRING:v(s,'Malformed object key should start with "');continue;case i.CLOSE_KEY:case i.CLOSE_OBJECT:if(L(E))continue;var R=s.state===i.CLOSE_KEY?"key":"object";E===o.colon?(s.state===i.CLOSE_OBJECT?(s.stack.push(i.CLOSE_OBJECT),S(s,"onopenobject"),this.depth++):S(s,"onkey"),s.state=i.VALUE):E===o.closeBrace?(d(s,"oncloseobject"),this.depth--,s.state=s.stack.pop()||i.VALUE):E===o.comma?(s.state===i.CLOSE_OBJECT&&s.stack.push(i.CLOSE_OBJECT),S(s),s.state=i.OPEN_KEY):v(s,"Bad object");continue;case i.OPEN_ARRAY:case i.VALUE:if(L(E))continue;if(s.state===i.OPEN_ARRAY)if(y(s,"onopenarray"),this.depth++,s.state=i.VALUE,E===o.closeBracket){y(s,"onclosearray"),this.depth--,s.state=s.stack.pop()||i.VALUE;continue}else s.stack.push(i.CLOSE_ARRAY);E===o.doubleQuote?s.state=i.STRING:E===o.openBrace?s.state=i.OPEN_OBJECT:E===o.openBracket?s.state=i.OPEN_ARRAY:E===o.t?s.state=i.TRUE:E===o.f?s.state=i.FALSE:E===o.n?s.state=i.NULL:E===o.minus?s.numberNode+="-":o._0<=E&&E<=o._9?(s.numberNode+=String.fromCharCode(E),s.state=i.NUMBER_DIGIT):v(s,"Bad value");continue;case i.CLOSE_ARRAY:if(E===o.comma)s.stack.push(i.CLOSE_ARRAY),S(s,"onvalue"),s.state=i.VALUE;else if(E===o.closeBracket)d(s,"onclosearray"),this.depth--,s.state=s.stack.pop()||i.VALUE;else{if(L(E))continue;v(s,"Bad array")}continue;case i.STRING:s.textNode===void 0&&(s.textNode="");var C=O-1,D=s.slashed,F=s.unicodeI;e:for(;;){for(e.DEBUG&&console.log(O,E,e.STATE[s.state],D);F>0;)if(s.unicodeS+=String.fromCharCode(E),E=p.charCodeAt(O++),s.position++,F===4?(s.textNode+=String.fromCharCode(parseInt(s.unicodeS,16)),F=0,C=O-1):F++,!E)break e;if(E===o.doubleQuote&&!D){s.state=s.stack.pop()||i.VALUE,s.textNode+=p.substring(C,O-1),s.position+=O-1-C;break}if(E===o.backslash&&!D&&(D=!0,s.textNode+=p.substring(C,O-1),s.position+=O-1-C,E=p.charCodeAt(O++),s.position++,!E))break;if(D){if(D=!1,E===o.n?s.textNode+=`
`:E===o.r?s.textNode+="\r":E===o.t?s.textNode+="	":E===o.f?s.textNode+="\f":E===o.b?s.textNode+="\b":E===o.u?(F=1,s.unicodeS=""):s.textNode+=String.fromCharCode(E),E=p.charCodeAt(O++),s.position++,C=O-1,E)continue;break}h.lastIndex=O;var I=h.exec(p);if(I===null){O=p.length+1,s.textNode+=p.substring(C,O-1),s.position+=O-1-C;break}if(O=I.index+1,E=p.charCodeAt(I.index),!E){s.textNode+=p.substring(C,O-1),s.position+=O-1-C;break}}s.slashed=D,s.unicodeI=F;continue;case i.TRUE:E===o.r?s.state=i.TRUE2:v(s,"Invalid true started with t"+E);continue;case i.TRUE2:E===o.u?s.state=i.TRUE3:v(s,"Invalid true started with tr"+E);continue;case i.TRUE3:E===o.e?(y(s,"onvalue",!0),s.state=s.stack.pop()||i.VALUE):v(s,"Invalid true started with tru"+E);continue;case i.FALSE:E===o.a?s.state=i.FALSE2:v(s,"Invalid false started with f"+E);continue;case i.FALSE2:E===o.l?s.state=i.FALSE3:v(s,"Invalid false started with fa"+E);continue;case i.FALSE3:E===o.s?s.state=i.FALSE4:v(s,"Invalid false started with fal"+E);continue;case i.FALSE4:E===o.e?(y(s,"onvalue",!1),s.state=s.stack.pop()||i.VALUE):v(s,"Invalid false started with fals"+E);continue;case i.NULL:E===o.u?s.state=i.NULL2:v(s,"Invalid null started with n"+E);continue;case i.NULL2:E===o.l?s.state=i.NULL3:v(s,"Invalid null started with nu"+E);continue;case i.NULL3:E===o.l?(y(s,"onvalue",null),s.state=s.stack.pop()||i.VALUE):v(s,"Invalid null started with nul"+E);continue;case i.NUMBER_DECIMAL_POINT:E===o.period?(s.numberNode+=".",s.state=i.NUMBER_DIGIT):v(s,"Leading zero not followed by .");continue;case i.NUMBER_DIGIT:o._0<=E&&E<=o._9?s.numberNode+=String.fromCharCode(E):E===o.period?(s.numberNode.indexOf(".")!==-1&&v(s,"Invalid number has two dots"),s.numberNode+="."):E===o.e||E===o.E?((s.numberNode.indexOf("e")!==-1||s.numberNode.indexOf("E")!==-1)&&v(s,"Invalid number has two exponential"),s.numberNode+="e"):E===o.plus||E===o.minus?(_===o.e||_===o.E||v(s,"Invalid symbol in number"),s.numberNode+=String.fromCharCode(E)):(w(s),O--,P=!0,s.state=s.stack.pop()||i.VALUE);continue;default:v(s,"Unknown state: "+s.state)}return s.position>=s.bufferCheckPosition&&f(s),s}})(typeof me>"u"?clarinet={}:me)});var wt=A(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.stringify=q.parse=void 0;var Tr=(mt(),Nr(yt)),Pr=Tr.__importDefault(xt());function Rr(e){let t=ve(),r,n;function i(a){try{let o=t.next(a);o.done&&(r=o.value)}catch(o){n=o}}let l=Pr.default.parser();if(l.onopenobject=a=>i({type:"openobject",key:a}),l.onopenarray=()=>i({type:"openarray"}),l.onkey=a=>i({type:"key",key:a}),l.onvalue=a=>i({type:"value",value:a}),l.oncloseobject=()=>i({type:"closeobject"}),l.onclosearray=()=>i({type:"closearray"}),l.onerror=a=>i({type:"error",err:a}),t.next(),l.write(e).close(),n)throw n;return r}q.parse=Rr;function xe(e){return Array.isArray(e)?`[${e.map(xe).join(",")}]`:e instanceof Map?`{${[...e].map(([t,r])=>JSON.stringify(t)+":"+xe(r)).join(",")}}`:JSON.stringify(e)}q.stringify=xe;var vt=Symbol();function*ve(){let e=yield;switch(e.type){case"value":return e.value;case"openobject":let t=new Map,r=e.key;for(r===void 0&&(yield);r!==void 0;)t.set(r,yield*ve()),r=(yield).key;return t;case"openarray":let n=[],i;for(;;){if(i=yield*ve(),i===vt)return n;n.push(i)}case"closearray":return vt;case"error":throw e.err;default:throw Error(`Unexpected ParseEvent ${e.type}`)}}});var St=A((Qn,bt)=>{var Et=wt().parse;bt.exports=class{constructor(t=!1){let r=this;if(this.indentation=4,[!0,!1,void 0].indexOf(t)==-1)throw new Error("@param {Boolean} pedantic");this.pedantic=t}template(t){let r=this;var n=t.raw[0];for(let l=1;l<t.raw.length;l++)typeof arguments[l]=="string"?n+='"'+arguments[l]+'"':n+=arguments[l],n+=t.raw[l];return r._treeToMap(r._damonToTree(n))}damonToMap(t){let r=this,n=r._damonToTree(t);return n===!0||n===!1||n===null||typeof n=="string"||typeof n=="number"?n:r._treeToMap(r._damonToTree(t))}damonToJSON(t){let r=this;return r.mapToJSON(r.damonToMap(t))}jsonToDamon(t){let r=this;return r.mapToDamon(r.jsonToMap(t),!1)}jsonToMap(t){var n=this._getLines(t,"JSON");if(n=n.filter(i=>!/^ *\/\//.test(i)),n=n.filter(i=>i!=""),n=n.filter(i=>!/^[ \t]+$/.test(i)),n.length==1){if(["true","false","null"].indexOf(n[0].trim())>-1)return JSON.parse(n[0]);if(/^".*"$/.test(n[0].trim()))try{return JSON.parse(n[0].trim())}catch(i){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),i.line=1,i.language="JSON",i.type="string",i}else if(isFinite(n[0])&&!isNaN(parseFloat(n[0]))&&Number.isFinite(n[0]*1)&&!Number.isNaN(n[0]*1)){if(n[0].indexOf(0)==0&&n[0].length>1&&n[0].indexOf(".")!==1){let i=new Error("Error line number 1: leading 0");throw i.line=1,i.language="DAMON",i}try{return JSON.parse(n[0]*1)}catch(i){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),i.line=1,i.language="JSON",i.type="number",i}}else if(n[0]*1===1/0)try{JSON.parse(n[0]*1)}catch(i){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),i.line=1,i.language="JSON",i.type="infinity",i}else return Et(t)}else return Et(t)}_getLines(t,r="DAMON"){if(["DAMON","JSON"].indexOf(r)==-1)throw new Error("Bad language argument, expected 'DAMON' or 'JSON'");if(t===""){let l=new Error("Error line 1: empty string");throw l.line=1,l.language=r,l}if(/[\s]/.test(t)&&t.match(new RegExp(/[\s]/))[0].length==t.length){let l=new Error("Error line 1: string only contains whitespace");throw l.line=1,l.language=r,l}var n=/\r\n/.test(t)?`\r
`:`
`,i=t.split(n);if(/\\*\n/.test(t)&&n==`
`){if(/[^\\]\\(\\\\)*\n/.test(t)){let o=t.split(/[^\\]\\(\\\\)*\n/)[0].split(`
`).length,f=new Error("Error line "+o+": oddly escaped newline");throw f.line=o,f.language=r,f}i=t.split("").reverse().join("").split(/\n/).map(o=>o.split("").reverse().join("")).reverse()}return i}_damonToTree(t){let r=this,n=r._getLines(t),i=n.slice(0);if(n=n.filter(d=>!/^ *\/\//.test(d)),n=n.filter(d=>d!=""),n=n.filter(d=>!/^[ \t]+$/.test(d)),n.length==1){if(["true","false","null"].indexOf(n[0].trim())>-1)return JSON.parse(n[0]);if(/^".*"$/.test(n[0].trim()))try{return JSON.parse(n[0].trim())}catch(d){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),d.line=1,d.language="JSON",d.type="string",d}else if(isFinite(n[0])&&!isNaN(parseFloat(n[0]))&&Number.isFinite(n[0]*1)&&!Number.isNaN(n[0]*1)){if(n[0].indexOf(0)==0&&n[0].length>1&&n[0].indexOf(".")!==1){let d=new Error("Error line number 1: leading 0");throw d.line=1,d.language="DAMON",d}try{return JSON.parse(n[0]*1)}catch(d){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),d.line=1,d.language="JSON",d.type="number",d}}else if(n[0]*1===1/0)try{JSON.parse(n[0]*1)}catch(d){throw console.error("Error line number 1: not JSON-compliant, detailed error follows"),d.line=1,d.language="JSON",d.type="infinity",d}}let l=0,a=[];for(let d=0,S=i.length;d<S;d++)n.slice(l).indexOf(i[d])>-1?a[d]=n.slice(l).indexOf(i[d]):a[d]=null;let o=new RegExp("^(\\t)+");for(let d=0,S=n.length;d<S;d++){if(o.test(n[d])){let w=n[d].match(o)[0].length;for(let b=0,v=w;b<v;b++)n[d]=n[d].replace("	"," ".repeat(r.indentation))}if(!/^ *- $/.test(n[d])&&/[ \t]+$/.test(n[d])){let w=new Error("Error line "+(a.indexOf(d)+1)+": trailing whitespace");throw w.line=a.indexOf(d)+1,w.language="DAMON",w}}let f=new RegExp("^("+" ".repeat(r.indentation)+")+");if(f.test(n[0])){let d=n[0].match(f)[0].length,S=!0;for(let w=0,b=n.length;w<b;w++)f.test(n[w])&&n[w].match(f)[0].length>=d?n[w]=n[w].slice(d):S=!1;if(!S){let w=new Error("Error line 1: bad formatting");throw w.line=1,w.language="DAMON",w}}else if(f.test(n[1])&&n[1].match(f)[0].length>r.indentation){let d=n[1].match(f)[0].length-r.indentation,S=!0;for(let w=1,b=n.length;w<b;w++)f.test(n[w])&&n[w].match(f)[0].length>=d?n[w]=n[w].slice(d):S=!1;if(!S){let w=new Error("Error line 2: bad formatting");throw w.line=2,w.language="DAMON",w}}let c=!1;if(n.length>1)for(let d=0,S=n.length;d<S;d++)d!==0&&/^- /.test(n[d])&&(c=!0);if(!/^- \{\}$/.test(n[0])&&!/^- \[\]$/.test(n[0])&&(c=!0),c){for(let d=0,S=n.length;d<S;d++)n[d]=" ".repeat(r.indentation)+n[d];n.unshift("- {}")}var h={content:n[0],level:0,id:0,children:[],headless:c,damonOriginalLinesMapping:a},u=h;if(!/^- /.test(n[0].trimStart())||/^ +/.test(n[0])&&(n[0].match(/^ +/)[0].length%r.indentation!=0||n[0].match(/^ +/)[0].length!=r.indentation)){let d=new Error("Error line "+(c*1+1)+": bad formatting");throw d.line=c*1+1,d.language="DAMON",d}n.shift();for(let d=0,S=n.length;d<S;d++){if(!/^- /.test(n[d].trimStart())||/^ +/.test(n[d])&&(n[d].match(/^ +/)[0].length%r.indentation!=0||d==0&&n[d].match(/^ +/)[0].length!=r.indentation||d!=0&&/^- /.test(n[d-1])&&n[d].match(/^ +/)[0].length!=r.indentation||d!=0&&!/^- /.test(n[d-1])&&n[d].match(/^ +/)[0].length>n[d-1].match(/^ +/)[0].length+r.indentation)){console.log(n[d]);let b=new Error("Error line "+(a.indexOf(d)+1)+": bad formatting");throw b.line=a.indexOf(d)+1,b.language="DAMON",b}let w={content:n[d].trimStart().slice(2),level:1+n[d].match(/^ +/)[0].length/r.indentation,id:"",children:[]};if(u===h)w.id=h.children.length+1,h.children.push(w);else if(u.level===w.level){var m=r._findListItemCommonDirectParent(u,h);m.level==0?w.id=m.children.length+1:w.id=m.id+"-"+(m.children.length+1),m.children.push(w)}else if(u.level>w.level){var g=r._findListItemCommonAncestor(u,h,w.level);g.level==0?w.id=g.children.length+1:w.id=g.id+"-"+(g.children.length+1),g.children.push(w)}else if(u.level<w.level){var y=r._findListItemCommonDirectParent(u,h);let b=y.children.indexOf(u),v=y.children[b].id,x=y.children[b].children.length+1;w.id=v+"-"+x,y.children[b].children.push(w)}u=w}return h}_findListItemCommonDirectParent(t,r){let n=this;if(r.children.indexOf(t)>-1)return r;var i;for(let l=r.children.length-1,a=0;l>=a;l--)if(i=n._findListItemCommonDirectParent(t,r.children[l]),i)return i}_findListItemCommonAncestor(t,r,n){let i=this;var l=i._findListItemCommonDirectParent(t,r);return l.level<n?l:i._findListItemCommonAncestor(l,r,n)}_treeToMap(t){let r=this;var n=0;if(t.content=="- {}"){let o=new Map;return o.damonOriginalLinesMapping=t.damonOriginalLinesMapping,i(t,o)}else if(t.content=="- []"){let o=[];return o.damonOriginalLinesMapping=t.damonOriginalLinesMapping,i(t,o)}else{let o=new Map;return o.damonOriginalLinesMapping=t.damonOriginalLinesMapping,t.headless&&(o.headless=!0),i(t,o)}function i(o,f){if(typeof o!="object"||o==null||Array.isArray(o)){let c=t.headless*-1+t.damonOriginalLinesMapping.indexOf(n-1)+2,h=new Error("Error line number "+c+": @param { {} } tree");throw h.line=c,h.language="DAMON",h}if(typeof f=="object"&&f!==null&&!Array.isArray(f)&&f instanceof Map&&f.constructor===Map)l(o,f);else if(Array.isArray(f))a(o,f);else{let c=t.headless*-1+t.damonOriginalLinesMapping.indexOf(n-1)+2,h=new Error("Error line number "+c+": @param { {} | [] } jsonMap");throw h.line=c,h.language="DAMON",h}return f}function l(o,f){for(let c=0,h=o.children.length;c<h;c++)if(n++,o.children[c].content.length==0){let u="";o.children[c].children.length>0?(u="implicit map key",f.set("",new Map),f.implicitMaps===void 0&&(f.implicitMaps=[]),f.implicitMaps.push(""),i(o.children[c],f.get(""))):(u="implicit null key",f.set("",null),f.implicitNulls===void 0&&(f.implicitNulls=[]),f.implicitNulls.push(""))}else{let u=o.children[c].content,m="key";try{if(/^.*: +\[/.test(u)&&u[u.length-1]=="]")if(/: +\[ *\]$/.test(u)){let g=JSON.parse(`["${u.slice(0,-1*u.match(/: +\[ *\]$/)[0].length)}"]`)[0];f.set(g,[]),o.children[c].children.length>0&&i(o.children[c],f.get(g))}else{let g=new RegExp(/: +\[/g),y=u.slice(0,-1).split(g),d=u.match(g).concat([""]),S=y.map((x,L)=>x+d[L]),w="",b=[];for(let x=0,L=y.length;x<L;x++)try{let N;if(x==0?N=y[0]:N=S.slice(0,x).join("")+y[x],w=JSON.parse(`["${N}"]`)[0],m="list",b=JSON.parse(`[${S.slice(x+1).join("")}]`),Array.isArray(b))break}catch{if(x==L-2){let p=t.headless*-1+t.damonOriginalLinesMapping.indexOf(n-1)+2,s=new Error("Error line number "+p+": invalid inline list");throw s.line=p,s.language="DAMON",s}}if(b.every(function(x){return x===!0||x===!1||x===null||typeof x=="string"?!0:!!(isFinite(x)&&!isNaN(parseFloat(x))&&Number.isFinite(x*1)&&!Number.isNaN(x*1))}))f.set(w,b),f.damonInlineArrays===void 0&&(f.damonInlineArrays=[]),f.damonInlineArrays.push(w);else{let x=+(t.headless*-1)+t.damonOriginalLinesMapping.indexOf(n-1)+2,L=new Error("Error line number "+x+": no nesting in inline lists");throw L.line=x,L.language="DAMON",L}if(o.children[c].children.length>0){let x=t.headless*-1+t.damonOriginalLinesMapping.indexOf(n-1)+3,L=new Error("Error line number "+x+": inline lists can't have children");throw L.line=x,L.language="DAMON",L}}else if(/: +\{ *\}$/.test(u)){let g=JSON.parse(`["${u.slice(0,-1*u.match(/: +\{ *\}$/)[0].length)}"]`)[0];f.set(g,new Map),i(o.children[c],f.get(g))}else{let g=!1;if(/^.*: /.test(u)&&u.split(new RegExp(/: +/))[u.split(new RegExp(/: +/)).length-1]==="true"){let y=u.match(new RegExp(/: +/g))[u.match(new RegExp(/: +/g)).length-1],d=JSON.parse(`["${u.slice(0,-1*y.length-4)}"]`)[0];f.set(d,!0)}else if(/^.*: /.test(u)&&u.split(new RegExp(/: +/))[u.split(new RegExp(/: +/)).length-1]==="false"){let y=u.match(new RegExp(/: +/g))[u.match(new RegExp(/: +/g)).length-1],d=JSON.parse(`["${u.slice(0,-1*y.length-5)}"]`)[0];f.set(d,!1)}else if(/^.*: /.test(u)&&u.split(new RegExp(/: +/))[u.split(new RegExp(/: +/)).length-1]==="null"){let y=u.match(new RegExp(/: +/g))[u.match(new RegExp(/: +/g)).length-1],d=JSON.parse(`["${u.slice(0,-1*y.length-4)}"]`)[0];f.set(d,null)}else if(/^.*: +"/.test(u)&&u[u.length-1]=='"'){let y=u.match(new RegExp(/: +"/g));if(y.length==1){let d=JSON.parse(`["${u.split(y[0])[0]}"]`)[0];m="string";let S=JSON.parse(`["${u.split(y[0]).slice(1).join("").slice(0,-1)}"]`)[0];f.set(d,S)}else if(y.length==2&&/: +"$/.test(u)){let d=JSON.parse(`["${u.split(y[0])[0]}"]`)[0];m="string";let S=JSON.parse(`["${u.split(y[0]).slice(1).join("")+": "}"]`)[0];f.set(d,S)}else{let d=+(t.headless*-1)+t.damonOriginalLinesMapping.indexOf(n-1)+2,S=new Error("Error line number "+d+": unescaped double quote");throw S.line=d,S.language="DAMON",S}}else if(/^.*: /.test(u)&&isFinite(u.split(": ")[u.split(": ").length-1])&&!isNaN(parseFloat(u.split(": ")[u.split(": ").length-1]))&&Number.isFinite(u.split(": ")[u.split(": ").length-1]*1)&&!Number.isNaN(u.split(": ")[u.split(": ").length-1]*1)){let y=JSON.parse(`["${u.split(": ").slice(0,-1).join(": ")}"]`)[0];m="number";let d=u.match(new RegExp(/: +/g)),S=d[d.length-1],w=u.split(S)[u.split(S).length-1];if(w.indexOf(0)==0&&w.length>1&&w.indexOf(".")!==1){let v=t.headless*-1+t.damonOriginalLinesMapping.indexOf(n-1)+2,x=new Error("Error line number "+v+": leading 0");throw x.line=v,x.language="DAMON",x}let b=JSON.parse(`[${u.split(": ")[u.split(": ").length-1]*1}]`)[0];f.set(y,b)}else if(/^.*: /.test(u)&&u.split(new RegExp(/: +/))[u.split(new RegExp(/: +/)).length-1]*1===1/0){let y=JSON.parse(`["${u.split(": ").slice(0,-1).join(": ")}"]`)[0];m="infinity";let d=JSON.parse(`[${u.split(": ")[u.split(": ").length-1]*1}]`)}else{let y=!1,d=0;if(/\[ *\]$/.test(u)&&(y=!0,d=u.match(new RegExp(/\[ *\]$/g))[0].length),/\{ *\}$/.test(u)&&(y=!0,d=u.match(new RegExp(/\{ *\}$/g))[0].length),/true$/.test(u)&&(y=!0,d=4),/false$/.test(u)&&(y=!0,d=5),/null$/.test(u)&&(y=!0,d=4),/".*"$/.test(u)&&(y=!0,d=u.match(new RegExp(/".*"$/g))[0].length),!y){let S="";for(let w=u.length-1;w>-1&&(S=u[w].concat(S),isFinite(S)&&!isNaN(parseFloat(S))&&Number.isFinite(S*1)&&!Number.isNaN(S*1));w--){if(!/[ \t]/.test(u[w]))break;y=!0,d=S.length}}if(y)if(JSON.parse(`["${u.slice(0,-1*d)}"]`)[0],r.pedantic){let S=t.headless*-1+t.damonOriginalLinesMapping.indexOf(n),w=new Error("Error line number "+S+": missing separator");throw w.line=S,w.language="DAMON",w.errorType="pedantic",w}else if(g=!0,o.children[c].children.length>0){m="implicit map key";let S=JSON.parse(`["${u}"]`)[0];f.set(S,new Map),f.implicitMaps===void 0&&(f.implicitMaps=[]),f.implicitMaps.push(S),i(o.children[c],f.get(S))}else{m="implicit null key";let S=JSON.parse(`["${u}"]`)[0];f.set(S,null),f.implicitNulls===void 0&&(f.implicitNulls=[]),f.implicitNulls.push(S)}else{let S=JSON.parse(`["${u.slice(0,-1*d)}"]`)[0];if(r.pedantic)if(/: +$/.test(S)){let w=t.headless*-1+t.damonOriginalLinesMapping.indexOf(n),b=new Error("Error line number "+w+": bad value");throw b.line=w,b.language="DAMON",b.errorType="pedantic",b}else{let w=t.headless*-1+t.damonOriginalLinesMapping.indexOf(n),b=new Error("Error line number "+w+": missing separator");throw b.line=w,b.language="DAMON",b.errorType="pedantic",b}else if(g=!0,o.children[c].children.length>0){m="implicit map key";let w=JSON.parse(`["${u}"]`)[0];f.set(w,new Map),f.implicitMaps===void 0&&(f.implicitMaps=[]),f.implicitMaps.push(w),i(o.children[c],f.get(w))}else{m="implicit null key";let w=JSON.parse(`["${u}"]`)[0];f.set(w,null),f.implicitNulls===void 0&&(f.implicitNulls=[]),f.implicitNulls.push(w)}}}if(!g&&o.children[c].children.length>0){let y=t.headless*-1+t.damonOriginalLinesMapping.indexOf(n-1)+3,d=new Error("Error line number "+y+": missing container or excess indentation");throw d.line=y,d.language="DAMON",d}}}catch(g){if(g.language===void 0){let y=t.headless*-1+t.damonOriginalLinesMapping.indexOf(n-1)+2;console.error("Error line number "+y+": not JSON-compliant, detailed error follows"),g.line=y,g.language="JSON",g.type=m}throw g}}}function a(o,f){for(let c=0,h=o.children.length;c<h;c++)if(n++,o.children[c].content.length){let u=o.children[c].content;if(/^[ \t]*\[/.test(u)&&u[u.length-1]=="]")if(/^[ \t]*\[ *\]$/.test(u))f.push([]),i(o.children[c],f[f.length-1]);else{let m;try{m=JSON.parse(u)}catch{let d=t.headless*-1+t.damonOriginalLinesMapping.indexOf(n-1)+2,S=new Error("Error line number "+d+": invalid inline lists");throw S.line=d,S.language="JSON",S.type="list",S}if(m.every(function(y){return y===!0||y===!1||y===null||typeof y=="string"?!0:!!(isFinite(y)&&!isNaN(parseFloat(y))&&Number.isFinite(y*1)&&!Number.isNaN(y*1))}))f.push(m),f.damonInlineArrays===void 0&&(f.damonInlineArrays=[]),f.damonInlineArrays.push(c);else{let y=t.headless*-1+t.damonOriginalLinesMapping.indexOf(n-1)+2,d=new Error("Error line number "+y+": no nesting in inline lists");throw d.line=y,d.language="DAMON",d}if(o.children[c].children.length>0){let y=t.headless*-1+t.damonOriginalLinesMapping.indexOf(n-1)+3,d=new Error("Error line number "+y+": inline lists can't have children");throw d.line=y,d.language="DAMON",d}}else if(/^[ \t]*\{\}$/.test(u))f.push(new Map),i(o.children[c],f[f.length-1]);else if(/^[ \t]*true$/.test(u))f.push(!0);else if(/^[ \t]*false$/.test(u))f.push(!1);else if(/^[ \t]*null$/.test(u))f.push(null);else if(/^[ \t]*".*"$/.test(u))try{f.push(JSON.parse(`[${u.trimStart()}]`)[0])}catch(m){let g=t.headless*-1+t.damonOriginalLinesMapping.indexOf(n-1)+2;throw console.error("Error line number "+g+": not JSON-compliant, detailed error follows"),m.line=g,m.language="JSON",m.type="string",m}else if(isFinite(u)&&!isNaN(parseFloat(u))&&Number.isFinite(u*1)&&!Number.isNaN(u*1)){if(u.indexOf(0)==0&&u.length>1&&u.indexOf(".")!==1){let m=t.headless*-1+t.damonOriginalLinesMapping.indexOf(n-1)+2,g=new Error("Error line number "+m+": leading 0");throw g.line=m,g.language="DAMON",g}try{f.push(JSON.parse(`[${u*1}]`)[0])}catch(m){let g=t.headless*-1+t.damonOriginalLinesMapping.indexOf(n-1)+2;throw console.error("Error line number "+g+": not JSON-compliant, detailed error follows"),m.line=g,m.language="JSON",m.type="number",m}}else if(u*1===1/0)try{JSON.parse(u*1)}catch(m){let g=t.headless*-1+t.damonOriginalLinesMapping.indexOf(n-1)+2;throw console.error("Error line number "+g+": not JSON-compliant, detailed error follows"),m.line=g,m.language="JSON",m.type="infinity",m}else{let m=t.headless*-1+t.damonOriginalLinesMapping.indexOf(n-1)+2,g=new Error("Error line number "+m+": list items can't have a key");throw g.line=m,g.language="DAMON",g}}else{let u=t.headless*-1+t.damonOriginalLinesMapping.indexOf(n-1)+2,m=new Error("Error line number "+u+": empty list node");throw m.line=u,m.language="DAMON",m}}}mapToDamon(t,r){let n=this;var i="";if(Array.isArray(t))i+=`- []
`;else if(typeof t=="object"&&t!==null&&t instanceof Map&&t.constructor===Map)i+=`- {}
`;else return typeof t=="string"&&(t='"'+t+'"'),JSON.parse(t),t;return l(t),n.damonToMap(i.slice(0,-1)),i.slice(0,-1);function l(a,o=1){if(typeof a=="object"&&a!==null&&!Array.isArray(a)&&a instanceof Map&&a.constructor===Map)for(let[h,u]of a)if(typeof u=="object"&&u!==null)if(Array.isArray(u)){let m=0,g=u.filter(function(y){return y===!0||y===!1?!0:y===null?(m++,!0):typeof y=="string"?!0:!!(isFinite(y)&&!isNaN(parseFloat(y))&&Number.isFinite(y*1)&&!Number.isNaN(y*1))});if(u.length==g.length&&o*4+2+u.join(", ").length+m*4<=80||r&&a.damonInlineArrays!==void 0&&a.damonInlineArrays.indexOf(h)>-1){let y="["+u.map(function(d){return typeof d=="string"&&(d=JSON.stringify(d)),d}).join(", ")+"]";i+="    ".repeat(o)+"- "+JSON.stringify(h).slice(1,-1)+": "+y+`
`}else i+="    ".repeat(o)+"- "+JSON.stringify(h).slice(1,-1)+`: []
`,l(u,o+1)}else i+="    ".repeat(o)+"- "+JSON.stringify(h).slice(1,-1)+`: {}
`,l(u,o+1);else i+="    ".repeat(o)+"- "+JSON.stringify(h).slice(1,-1)+": ",u===!0?i+=`true
`:u===!1?i+=`false
`:u===null?i+=`null
`:Number.isFinite(u)&&!Number.isNaN(u)?i+=u+`
`:i+=JSON.stringify(u)+`
`;else if(Array.isArray(a))for(var f=0,c=a.length;f<c;f++)if(typeof a[f]=="object"&&a[f]!==null)if(Array.isArray(a[f])){let h=0,u=a[f].filter(function(m){return m===!0||m===!1?!0:m===null?(h++,!0):typeof m=="string"?!0:!!(isFinite(m)&&!isNaN(parseFloat(m))&&Number.isFinite(m*1)&&!Number.isNaN(m*1))});if(a[f].length==u.length&&o*4+2+a[f].join(", ").length+h*4<=80||r&&a.damonInlineArrays!==void 0&&a.damonInlineArrays.indexOf(f)>-1){let m="["+a[f].map(function(g){return typeof g=="string"&&(g=JSON.stringify(g)),g}).join(", ")+"]";i+="    ".repeat(o)+"- "+m+`
`}else i+="    ".repeat(o)+`- []
`,l(a[f],o+1)}else i+="    ".repeat(o)+`- {}
`,l(a[f],o+1);else a[f]===!0?i+="    ".repeat(o)+`- true
`:a[f]===!1?i+="    ".repeat(o)+`- false
`:a[f]===null?i+="    ".repeat(o)+`- null
`:Number.isFinite(a[f])&&!Number.isNaN(a[f])?i+="    ".repeat(o)+"- "+a[f]+`
`:i+="    ".repeat(o)+"- "+JSON.stringify(a[f])+`
`}}mapToJSON(t){let r=this;var n="";if(Array.isArray(t))return n+=`[\r
`,i(t),n+="]",JSON.parse(n),n;return typeof t=="object"&&t!==null&&t instanceof Map&&t.constructor===Map?(n+=`{\r
`,i(t),n+="}",JSON.parse(n),n):(typeof t=="string"&&(t=JSON.stringify(t)),JSON.parse(t),t);function i(l,a=1){if(typeof l=="object"&&l!==null&&!Array.isArray(l)&&l instanceof Map&&l.constructor===Map)for(let[c,h]of l)typeof h=="object"&&h!==null?Array.isArray(h)?h.length>0?(n+="    ".repeat(a)+`${JSON.stringify(c)}: [\r
`,i(h,a+1),n+="    ".repeat(a)+"]"):n+="    ".repeat(a)+`${JSON.stringify(c)}: []`:Array.from(h.keys()).length>0?(n+="    ".repeat(a)+`${JSON.stringify(c)}: {\r
`,i(h,a+1),n+="    ".repeat(a)+"}"):n+="    ".repeat(a)+`${JSON.stringify(c)}: {}`:h===!0?n+="    ".repeat(a)+`${JSON.stringify(c)}: true`:h===!1?n+="    ".repeat(a)+`${JSON.stringify(c)}: false`:h===null?n+="    ".repeat(a)+`${JSON.stringify(c)}: null`:Number.isFinite(h)&&!Number.isNaN(h)?n+="    ".repeat(a)+`${JSON.stringify(c)}: `+h:n+="    ".repeat(a)+`${JSON.stringify(c)}: `+JSON.stringify(h),c!=Array.from(l.keys())[Array.from(l.keys()).length-1]?n+=`,\r
`:n+=`\r
`;else if(Array.isArray(l))for(var o=0,f=l.length;o<f;o++)typeof l[o]=="object"&&l[o]!==null?Array.isArray(l[o])?l[o].length>0?(n+="    ".repeat(a)+`[\r
`,i(l[o],a+1),n+="    ".repeat(a)+"]"):n+="    ".repeat(a)+"[]":Array.from(l[o].keys()).length>0?(n+="    ".repeat(a)+`{\r
`,i(l[o],a+1),n+="    ".repeat(a)+"}"):n+="    ".repeat(a)+"{}":l[o]===!0?n+="    ".repeat(a)+"true":l[o]===!1?n+="    ".repeat(a)+"false":l[o]===null?n+="    ".repeat(a)+"null":Number.isFinite(l[o])&&!Number.isNaN(l[o])?n+="    ".repeat(a)+l[o]:n+="    ".repeat(a)+JSON.stringify(l[o]),o!=f-1?n+=`,\r
`:n+=`\r
`}}getRangeFromPath(t,r){let n=this,i=n.damonToMap(t),l=-1,a=!1;m(i,r),i.headless&&(l-=1);let o=0,f=0;for(let g=0,y=i.damonOriginalLinesMapping.length;g<y;g++)if(i.damonOriginalLinesMapping[g]!==null&&f++,f==l){o=g+1;break}let c=n._getLines(t)[o],h=0,u=c.length;if(r.length==1)typeof r[r.length-1]=="string"?h=c.length-c.trimStart().slice(2+r[r.length-1].length+2).trimStart().length:h=c.length-c.trimStart().slice(2).length;else if(typeof r[r.length-2]=="string")if(typeof r[r.length-1]=="string")h=c.length-c.trimStart().slice(2+r[r.length-1].length+2).trimStart().length;else if(c[c.length-1]=="]"&&!/\[ *\]$/.test(c)){let g=c.trimStart().slice(2+r[r.length-2].length+2),y=JSON.parse(g),d=y.slice(0,r[r.length-1].length).reduce((b,v)=>b+(v===y[r[r.length-1]]),0),S=0,w=y[r[r.length-1]];typeof w=="string"&&(w='"'+w+'"');for(let b=0,v=d+1;b<v;b++)S=g.indexOf(w,S);h=c.length-g.length+S,u=h+w.length}else h=c.length-c.trimStart().slice(2).length;else if(typeof r[r.length-1]=="string")h=c.length-c.trimStart().slice(2+r[r.length-1].length+2).trimStart().length;else if(c[c.length-1]=="]"&&!/\[ *\]$/.test(c)){let g=c.trimStart().slice(2),y=JSON.parse(g),d=y.slice(0,r[r.length-1]).reduce((b,v)=>b+(v===y[r[r.length-1]]),0),S=0,w=y[r[r.length-1]];typeof w=="string"&&(w='"'+w+'"');for(let b=0,v=d+1;b<v;b++)S=g.indexOf(w,S);h=c.length-g.length+S,u=h+w.length}else h=c.length-c.trimStart().slice(2).length;return[[o,h],[o,u]];function m(g,y,d=[]){if(a!=!0)if(l+=1,typeof g=="object"&&g!==null&&!Array.isArray(g)&&g instanceof Map&&g.constructor===Map)for(let[S,w]of g){if(l+=1,JSON.stringify(y)===JSON.stringify(d.concat([S]))){a=!0;return}typeof w=="object"&&w!==null&&!Array.isArray(w)&&w instanceof Map&&w.constructor===Map&&Array.from(w.keys()).length?(l-=1,m(w,y,d.concat([S]))):Array.isArray(w)&&(g.damonInlineArrays==null||g.damonInlineArrays.indexOf(S)===-1)&&w.length&&(l-=1,m(w,y,d.concat([S])))}else for(let S=0,w=g.length;S<w;S++){if(l+=1,JSON.stringify(y)===JSON.stringify(d.concat([S]))){a=!0;return}typeof g[S]=="object"&&g[S]!==null&&!Array.isArray(g[S])&&g[S]instanceof Map&&g[S].constructor===Map&&Array.from(g[S].keys()).length?(l-=1,m(g[S],y,d.concat([S]))):Array.isArray(g[S])&&(g.damonInlineArrays==null||g.damonInlineArrays.indexOf(S)===-1)&&g[S].length&&(l-=1,m(g[S],y,d.concat([S])))}}}getTokenFromCoordinates(t,r){let n=this,i={},l=n._getLines(t).slice(0,r[0]);if(l[r[0]-1]=="")return i.type="newline",i.path=null,i.range=[r,r],i;if(/^[ \t]+$/.test(l[r[0]-1]))return i.type="indentation",i.path=null,i.range=[[r[0],1],[r[0],l[l.length-1].length]],i;if(/^[ \t]+/.test(l[r[0]-1].slice(0,r[1]-1))&&(i.type="indentation",i.range=[[r[0],1],[r[0],l[r[0]-1].match(/^[ \t]+/)[0].length]]),/^ *\/\//.test(l[r[0]-1]))return i.type=="indentation"?(i.path=null,i):(i.type="comment",i.path=null,i.range=[[[r[0],l[r[0]-1].split("//")[0].length]],[[r[0],l[r[0]-1].length]]],i);if(l.length==1)try{let h=JSON.parse(t);if(h===!0||h===!1||h===null||typeof h=="string"||typeof h=="number"){let u=t.match(/^ */)[0].length,m=t.match(/ *$/)[0].length;return i.type="null",typeof h!="object"&&(i.type=typeof h),i.path=null,i.range=[[0,u],[0,t.length-m]],i}}catch{}let a=n.damonToMap(l.join(`
`)),o=Array.from(a.keys()),f=[];for(;o.length;){let h=o[o.length-1];if(f.push(h),typeof a=="object"&&a!==null&&!Array.isArray(a)&&a instanceof Map&&a.constructor===Map?a=a.get(h):Array.isArray(a)&&(a=a[h]),a===!0||a===!1||a===null||typeof a=="string"||typeof a=="number")break;o=Array.from(a.keys())}i.path=f;let c=n.getRangeFromPath(t,f);if(typeof f[f.length-1]=="string")if(r[1]<c[0][1]){let h=l[r[0]-1].slice(0,-1*(c[1][1]-c[0][1])-1).length;if(r[1]<h){let u=l[r[0]-1].match(/^[ \t]+/)[0].length+3;r[1]>=u?(i.type="property",i.range=[[r[0],u],[r[0],h]]):(i.type="hyphen",i.range=[[r[0],u-2],[r[0],u-1]])}else i.type="separator",i.range=[[r[0],h+1],[r[0],c[0][1]-1]]}else i.type="?",i.range=c;else if(r[1]<c[0][1]){i.type="hyphen";let h=l[r[0]-1].match(/^[ \t]+/)[0].length+1;i.range=[[r[0],h],[r[0],h+1]]}else i.type="?",i.range=c;return i}}});var we=A((ei,Ot)=>{Ot.exports=class{constructor(t){let r=this;this.parent=t,this.itemHeight=parseFloat(getComputedStyle(this.parent.editor).getPropertyValue("--fontSize"))*parseFloat(getComputedStyle(this.parent.editor).getPropertyValue("--lineHeight")),this.viewportHeight=this.parent.editor.getBoundingClientRect().height,this.viewable=Math.ceil(r.viewportHeight/r.itemHeight),this.maxCounter=this.parent.textarea.value.split(`
`).length,this.buffer=r.viewable*2,this.visibleNodesCount=r.viewable+r.buffer,this.lastScrollTop=void 0,this.lastStart=void 0,this.active=!1}inputHandler(t){let r=this;r.parent.textarea.value.split(`
`).length<=r.visibleNodesCount?(r.parent.gutter.innerHTML="",r.init(0)):(r.parent.gutter.innerHTML="",r.init(r.getStartNode(r.parent.textarea.value.split(`
`).length)))}scrollHandler(){let t=this;t.maxCounter<t.visibleNodesCount?t.lastScrollTop!==t.parent.editor.scrollTop?(t.parent.gutter.innerHTML="",t.parent.editor.style.setProperty("--scrollbarPadding","0px"),t.init(0)):(t.parent.editor.style.setProperty("--scrollbarPadding","0px"),t.parent.gutter.style.transform="translate("+t.parent.editor.scrollLeft+"px, "+0*t.itemHeight+"px)",t.parent.overlay.firstElementChild.style.transform="translate(0px, "+0*t.itemHeight+"px)"):t.lastScrollTop!==t.parent.editor.scrollTop?(t.active=!0,t.parent.editor.style.setProperty("--scrollbarPadding","var(--textareaPadding) * 4"),t.update(t.getStartNode(t.maxCounter))):(t.parent.gutter.style.transform="translate("+t.parent.editor.scrollLeft+"px, "+t.getStartNode(t.maxCounter)*t.itemHeight+"px)",t.parent.overlay.firstElementChild.style.transform="translate(0px, "+t.getStartNode(t.maxCounter)*t.itemHeight+"px)")}init(t){let r=this;r.parent.textarea.style.height=(r.parent.textarea.value.split(`
`).length+1)*r.itemHeight+"px",r.resetProperties(),t>r.maxCounter-r.visibleNodesCount&&(r.maxCounter-r.visibleNodesCount>0?t=r.maxCounter-r.visibleNodesCount:t=0);let n=Math.max(1,Math.min(r.maxCounter-t,r.visibleNodesCount));for(let f=t;f<t+n;f++){let c=document.createElement("div"),h=document.createElement("span"),u=(r.maxCounter+"").length,m=(f+1+"").length,g=u-m;h.textContent=" ".repeat(g)+(f+1),c.appendChild(h),r.parent.gutter.appendChild(c)}r.parent.gutter.style.transform="translate("+r.parent.editor.scrollLeft+"px, "+t*r.itemHeight+"px)",r.parent.overlay.firstElementChild.style.transform="translate(0px, "+t*r.itemHeight+"px)",r.lastStart=t,r.lastScrollTop=r.parent.editor.scrollTop,r.maxCounter>=r.visibleNodesCount&&(r.active=!0),r.setGutterWidth(),r.parent.updateCurrentLine(!0);let i=r.parent.textarea.value.split(`
`);r.parent.textarea.rows=i.length+1,r.parent.textarea.cols=i.map(f=>f.length).reduce(function(f,c){return Math.max(f,c)});let l=r.parent.textarea.value.replaceAll(/&amp;/g,"&").replaceAll(/&lt;/g,"<").replaceAll(/&gt;/g,">"),a=[`<span class="token lf">
</span>`],o=r.parent.lastTextareaValue.split(`
`);l!=""&&(a=r.parent.prism.highlight(l+`
`,r.parent.prism.languages.damon,"damon").replace(/<span>\n<\/span>$/,"").split(`
`).map(f=>f.replace(/^<\/span>/,"")+`
</span>`));for(let f=t,c=t+n;f<c;f++){let h=document.createElement("span"),u=0;h.classList.add("space-line"),h.innerHTML=a[f];for(let m=0,g=h.children.length;m<g&&h.children[m].textContent==" ";m++)u++,u==4&&(u=0,h.children[m-3].classList.add("indent-guide"));(!r.parent.initialized||o[f]==null||o[f]!=i[f]||r.parent.overlay.firstElementChild.children[f-t]!=null&&h.innerHTML!=r.parent.overlay.firstElementChild.children[f-t].innerHTML)&&(o[f]==null||!r.parent.initialized?(r.parent.overlay.firstElementChild.appendChild(h),r.parent.overlay.firstElementChild.children.length>n+1&&r.parent.overlay.firstElementChild.firstElementChild.remove()):r.parent.overlay.firstElementChild.replaceChild(h,r.parent.overlay.firstElementChild.children[f-t]))}if(r.parent.overlay.firstElementChild.children.length>n)for(let f=n,c=r.parent.overlay.firstElementChild.children.length;f<c;f++)r.parent.overlay.firstElementChild.lastElementChild.remove()}getStartNode(t){let r=this,n=Math.floor(r.parent.editor.scrollTop/r.itemHeight)-r.viewable;return n=Math.min(Math.max(0,n),Math.max(0,t-r.buffer)),n}resetProperties(){let t=this;t.viewportHeight=t.parent.editor.getBoundingClientRect().height,t.viewable=Math.ceil(t.viewportHeight/t.itemHeight),t.maxCounter=t.parent.textarea.value.split(`
`).length,t.buffer=t.viewable*2,t.visibleNodesCount=t.viewable+t.buffer,t.active=!1}update(t){let r=this;if(r.resetProperties(),r.parent.gutter.firstElementChild)if(r.lastScrollTop!=r.parent.editor.scrollTop)t>r.maxCounter-r.visibleNodesCount&&(r.maxCounter-r.visibleNodesCount>0?t=r.maxCounter-r.visibleNodesCount:t=0),r.diffItems(t,r.visibleNodesCount),r.parent.gutter.style.transform="translate("+r.parent.editor.scrollLeft+"px, "+t*r.itemHeight+"px)",r.parent.overlay.firstElementChild.style.transform="translate(0px, "+t*r.itemHeight+"px)",r.lastScrollTop=r.parent.editor.scrollTop;else if(/^translate\(.+px, .+px\)$/.test(r.parent.gutter.style.transform))r.parent.gutter.style.transform="translate("+r.parent.editor.scrollLeft+"px, "+r.parent.gutter.style.transform.split(", ")[1];else throw new Error("You need to update this regex.");r.setGutterWidth(),r.parent.updateCurrentLine(!0)}diffItems(t,r){let n=this;if(n.lastStart!=t){if(n.lastStart<t){let i=Math.min(r,Math.abs(t-n.lastStart));for(let c=0,h=i;c<h;c++)n.parent.gutter.firstElementChild.remove();for(let c=t+r-i;c<t+r;c++){let h=document.createElement("div"),u=document.createElement("span"),m=(n.maxCounter+"").length,g=(c+1+"").length,y=m-g;u.textContent=" ".repeat(y)+(c+1),h.appendChild(u),n.parent.gutter.appendChild(h)}let l=n.parent.textarea.value.split(`
`);n.parent.textarea.rows=l.length+1,n.parent.textarea.cols=l.map(c=>c.length).reduce(function(c,h){return Math.max(c,h)});let a=n.parent.textarea.value.replaceAll(/&amp;/g,"&").replaceAll(/&lt;/g,"<").replaceAll(/&gt;/g,">"),o=n.parent.prism.highlight(a+`
`,n.parent.prism.languages.damon,"damon").replace(/<span>\n<\/span>$/,"").split(`
`).map(c=>c.replace(/^<\/span>/,"")+`
</span>`),f=n.parent.lastTextareaValue.split(`
`);for(let c=0,h=i;c<h;c++)n.parent.overlay.firstElementChild.firstElementChild.remove();for(let c=t+r-i;c<t+r;c++){let h=document.createElement("span"),u=0;h.classList.add("space-line"),h.innerHTML=o[c];for(let m=0,g=h.children.length;m<g&&h.children[m].textContent==" ";m++)u++,u==4&&(u=0,h.children[m-3].classList.add("indent-guide"));n.parent.overlay.firstElementChild.appendChild(h)}}else{let i=Math.min(r,Math.abs(n.lastStart-t));for(let u=0,m=i;u<m;u++)n.parent.gutter.lastElementChild.remove();let l=document.createDocumentFragment();for(let u=t;u<t+i;u++){let m=document.createElement("div"),g=document.createElement("span"),y=(n.maxCounter+"").length,d=(u+1+"").length,S=y-d;g.textContent=" ".repeat(S)+(u+1),m.appendChild(g),l.appendChild(m)}n.parent.gutter.insertBefore(l,n.parent.gutter.firstElementChild);let a=n.parent.textarea.value.split(`
`);n.parent.textarea.rows=a.length+1,n.parent.textarea.cols=a.map(u=>u.length).reduce(function(u,m){return Math.max(u,m)});let o=n.parent.textarea.value.replaceAll(/&amp;/g,"&").replaceAll(/&lt;/g,"<").replaceAll(/&gt;/g,">"),f=n.parent.prism.highlight(o+`
`,n.parent.prism.languages.damon,"damon").replace(/<span>\n<\/span>$/,"").split(`
`).map(u=>u.replace(/^<\/span>/,"")+`
</span>`),c=n.parent.lastTextareaValue.split(`
`);for(let u=0,m=i;u<m;u++)n.parent.overlay.firstElementChild.lastElementChild.remove();let h=document.createDocumentFragment();for(let u=t;u<t+i;u++){let m=document.createElement("span"),g=0;m.classList.add("space-line"),m.innerHTML=f[u];for(let y=0,d=m.children.length;y<d&&m.children[y].textContent==" ";y++)g++,g==4&&(g=0,m.children[y-3].classList.add("indent-guide"));h.appendChild(m)}n.parent.overlay.firstElementChild.insertBefore(h,n.parent.overlay.firstElementChild.firstElementChild)}n.lastStart=t}}setGutterWidth(){let t=this,r=t.parent.gutter.children[0].children[0].getBoundingClientRect().width,n=parseFloat(getComputedStyle(t.parent.editor).getPropertyValue("--gutterWidth"));r>n?(t.parent.gutter.style.width=r+"px",t.parent.container.style.left=r+"px"):(t.parent.gutter.style.width="",t.parent.container.style.left="")}}});var $=A(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.default=Lt;function Lt(){}Lt.prototype={diff:function(t,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=i.callback;typeof i=="function"&&(l=i,i={}),this.options=i;var a=this;function o(x){return l?(setTimeout(function(){l(void 0,x)},0),!0):x}t=this.castInput(t),r=this.castInput(r),t=this.removeEmpty(this.tokenize(t)),r=this.removeEmpty(this.tokenize(r));var f=r.length,c=t.length,h=1,u=f+c;i.maxEditLength&&(u=Math.min(u,i.maxEditLength));var m=(n=i.timeout)!==null&&n!==void 0?n:1/0,g=Date.now()+m,y=[{oldPos:-1,lastComponent:void 0}],d=this.extractCommon(y[0],r,t,0);if(y[0].oldPos+1>=c&&d+1>=f)return o([{value:this.join(r),count:r.length}]);var S=-1/0,w=1/0;function b(){for(var x=Math.max(S,-h);x<=Math.min(w,h);x+=2){var L=void 0,N=y[x-1],p=y[x+1];N&&(y[x-1]=void 0);var s=!1;if(p){var O=p.oldPos-x;s=p&&0<=O&&O<f}var E=N&&N.oldPos+1<c;if(!s&&!E){y[x]=void 0;continue}if(!E||s&&N.oldPos+1<p.oldPos?L=a.addToPath(p,!0,void 0,0):L=a.addToPath(N,void 0,!0,1),d=a.extractCommon(L,r,t,x),L.oldPos+1>=c&&d+1>=f)return o(Dr(a,L.lastComponent,r,t,a.useLongestToken));y[x]=L,L.oldPos+1>=c&&(w=Math.min(w,x-1)),d+1>=f&&(S=Math.max(S,x+1))}h++}if(l)(function x(){setTimeout(function(){if(h>u||Date.now()>g)return l();b()||x()},0)})();else for(;h<=u&&Date.now()<=g;){var v=b();if(v)return v}},addToPath:function(t,r,n,i){var l=t.lastComponent;return l&&l.added===r&&l.removed===n?{oldPos:t.oldPos+i,lastComponent:{count:l.count+1,added:r,removed:n,previousComponent:l.previousComponent}}:{oldPos:t.oldPos+i,lastComponent:{count:1,added:r,removed:n,previousComponent:l}}},extractCommon:function(t,r,n,i){for(var l=r.length,a=n.length,o=t.oldPos,f=o-i,c=0;f+1<l&&o+1<a&&this.equals(r[f+1],n[o+1]);)f++,o++,c++;return c&&(t.lastComponent={count:c,previousComponent:t.lastComponent}),t.oldPos=o,f},equals:function(t,r){return this.options.comparator?this.options.comparator(t,r):t===r||this.options.ignoreCase&&t.toLowerCase()===r.toLowerCase()},removeEmpty:function(t){for(var r=[],n=0;n<t.length;n++)t[n]&&r.push(t[n]);return r},castInput:function(t){return t},tokenize:function(t){return t.split("")},join:function(t){return t.join("")}};function Dr(e,t,r,n,i){for(var l=[],a;t;)l.push(t),a=t.previousComponent,delete t.previousComponent,t=a;l.reverse();for(var o=0,f=l.length,c=0,h=0;o<f;o++){var u=l[o];if(u.removed){if(u.value=e.join(n.slice(h,h+u.count)),h+=u.count,o&&l[o-1].added){var g=l[o-1];l[o-1]=l[o],l[o]=g}}else{if(!u.added&&i){var m=r.slice(c,c+u.count);m=m.map(function(d,S){var w=n[h+S];return w.length>d.length?w:d}),u.value=e.join(m)}else u.value=e.join(r.slice(c,c+u.count));c+=u.count,u.added||(h+=u.count)}}var y=l[f-1];return f>1&&typeof y.value=="string"&&(y.added||y.removed)&&e.equals("",y.value)&&(l[f-2].value+=y.value,l.pop()),l}});var _t=A(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.diffChars=Ir;G.characterDiff=void 0;var Fr=$r($());function $r(e){return e&&e.__esModule?e:{default:e}}var Nt=new Fr.default;G.characterDiff=Nt;function Ir(e,t,r){return Nt.diff(e,t,r)}});var Se=A(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.generateOptions=Jr;function Jr(e,t){if(typeof e=="function")t.callback=e;else if(e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}});var Tt=A(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.diffWords=qr;U.diffWordsWithSpace=Ur;U.wordDiff=void 0;var Br=Hr($()),Mr=Se();function Hr(e){return e&&e.__esModule?e:{default:e}}var Ct=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,At=/\S/,K=new Br.default;U.wordDiff=K;K.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!At.test(e)&&!At.test(t)};K.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<t.length-1;r++)!t[r+1]&&t[r+2]&&Ct.test(t[r])&&Ct.test(t[r+2])&&(t[r]+=t[r+2],t.splice(r+1,2),r--);return t};function qr(e,t,r){return r=(0,Mr.generateOptions)(r,{ignoreWhitespace:!0}),K.diff(e,t,r)}function Ur(e,t,r){return K.diff(e,t,r)}});var ie=A(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.diffLines=Wr;k.diffTrimmedLines=Gr;k.lineDiff=void 0;var kr=zr($()),Vr=Se();function zr(e){return e&&e.__esModule?e:{default:e}}var ne=new kr.default;k.lineDiff=ne;ne.tokenize=function(e){this.options.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var t=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var n=0;n<r.length;n++){var i=r[n];n%2&&!this.options.newlineIsToken?t[t.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),t.push(i))}return t};function Wr(e,t,r){return ne.diff(e,t,r)}function Gr(e,t,r){var n=(0,Vr.generateOptions)(r,{ignoreWhitespace:!0});return ne.diff(e,t,n)}});var Pt=A(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.diffSentences=jr;Y.sentenceDiff=void 0;var Kr=Yr($());function Yr(e){return e&&e.__esModule?e:{default:e}}var Oe=new Kr.default;Y.sentenceDiff=Oe;Oe.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};function jr(e,t,r){return Oe.diff(e,t,r)}});var Rt=A(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.diffCss=Zr;j.cssDiff=void 0;var Xr=Qr($());function Qr(e){return e&&e.__esModule?e:{default:e}}var Le=new Xr.default;j.cssDiff=Le;Le.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function Zr(e,t,r){return Le.diff(e,t,r)}});var Ft=A(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.diffJson=nn;V.canonicalize=ae;V.jsonDiff=void 0;var Dt=tn($()),en=ie();function tn(e){return e&&e.__esModule?e:{default:e}}function le(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?le=function(r){return typeof r}:le=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},le(e)}var rn=Object.prototype.toString,B=new Dt.default;V.jsonDiff=B;B.useLongestToken=!0;B.tokenize=en.lineDiff.tokenize;B.castInput=function(e){var t=this.options,r=t.undefinedReplacement,n=t.stringifyReplacer,i=n===void 0?function(l,a){return typeof a>"u"?r:a}:n;return typeof e=="string"?e:JSON.stringify(ae(e,null,null,i),i,"  ")};B.equals=function(e,t){return Dt.default.prototype.equals.call(B,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function nn(e,t,r){return B.diff(e,t,r)}function ae(e,t,r,n,i){t=t||[],r=r||[],n&&(e=n(i,e));var l;for(l=0;l<t.length;l+=1)if(t[l]===e)return r[l];var a;if(rn.call(e)==="[object Array]"){for(t.push(e),a=new Array(e.length),r.push(a),l=0;l<e.length;l+=1)a[l]=ae(e[l],t,r,n,i);return t.pop(),r.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),le(e)==="object"&&e!==null){t.push(e),a={},r.push(a);var o=[],f;for(f in e)e.hasOwnProperty(f)&&o.push(f);for(o.sort(),l=0;l<o.length;l+=1)f=o[l],a[f]=ae(e[f],t,r,n,f);t.pop(),r.pop()}else a=e;return a}});var $t=A(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});Q.diffArrays=on;Q.arrayDiff=void 0;var ln=an($());function an(e){return e&&e.__esModule?e:{default:e}}var X=new ln.default;Q.arrayDiff=X;X.tokenize=function(e){return e.slice()};X.join=X.removeEmpty=function(e){return e};function on(e,t,r){return X.diff(e,t,r)}});var oe=A(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.parsePatch=sn;function sn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.split(/\r\n|[\n\v\f\r\x85]/),n=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],i=[],l=0;function a(){var c={};for(i.push(c);l<r.length;){var h=r[l];if(/^(\-\-\-|\+\+\+|@@)\s/.test(h))break;var u=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(h);u&&(c.index=u[1]),l++}for(o(c),o(c),c.hunks=[];l<r.length;){var m=r[l];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(m))break;if(/^@@/.test(m))c.hunks.push(f());else{if(m&&t.strict)throw new Error("Unknown line "+(l+1)+" "+JSON.stringify(m));l++}}}function o(c){var h=/^(---|\+\+\+)\s+(.*)$/.exec(r[l]);if(h){var u=h[1]==="---"?"old":"new",m=h[2].split("	",2),g=m[0].replace(/\\\\/g,"\\");/^".*"$/.test(g)&&(g=g.substr(1,g.length-2)),c[u+"FileName"]=g,c[u+"Header"]=(m[1]||"").trim(),l++}}function f(){var c=l,h=r[l++],u=h.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),m={oldStart:+u[1],oldLines:typeof u[2]>"u"?1:+u[2],newStart:+u[3],newLines:typeof u[4]>"u"?1:+u[4],lines:[],linedelimiters:[]};m.oldLines===0&&(m.oldStart+=1),m.newLines===0&&(m.newStart+=1);for(var g=0,y=0;l<r.length&&!(r[l].indexOf("--- ")===0&&l+2<r.length&&r[l+1].indexOf("+++ ")===0&&r[l+2].indexOf("@@")===0);l++){var d=r[l].length==0&&l!=r.length-1?" ":r[l][0];if(d==="+"||d==="-"||d===" "||d==="\\")m.lines.push(r[l]),m.linedelimiters.push(n[l]||`
`),d==="+"?g++:d==="-"?y++:d===" "&&(g++,y++);else break}if(!g&&m.newLines===1&&(m.newLines=0),!y&&m.oldLines===1&&(m.oldLines=0),t.strict){if(g!==m.newLines)throw new Error("Added line count did not match for hunk at line "+(c+1));if(y!==m.oldLines)throw new Error("Removed line count did not match for hunk at line "+(c+1))}return m}for(;l<r.length;)a();return i}});var It=A(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.default=un;function un(e,t,r){var n=!0,i=!1,l=!1,a=1;return function o(){if(n&&!l){if(i?a++:n=!1,e+a<=r)return a;l=!0}if(!i)return l||(n=!0),t<=e-a?-a++:(i=!0,o())}}});var Mt=A(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.applyPatch=Bt;se.applyPatches=dn;var Jt=oe(),fn=cn(It());function cn(e){return e&&e.__esModule?e:{default:e}}function Bt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string"&&(t=(0,Jt.parsePatch)(t)),Array.isArray(t)){if(t.length>1)throw new Error("applyPatch only works with a single input.");t=t[0]}var n=e.split(/\r\n|[\n\v\f\r\x85]/),i=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],l=t.hunks,a=r.compareLine||function(D,F,I,J){return F===J},o=0,f=r.fuzzFactor||0,c=0,h=0,u,m;function g(D,F){for(var I=0;I<D.lines.length;I++){var J=D.lines[I],he=J.length>0?J[0]:" ",yr=J.length>0?J.substr(1):J;if(he===" "||he==="-"){if(!a(F+1,n[F],he,yr)&&(o++,o>f))return!1;F++}}return!0}for(var y=0;y<l.length;y++){for(var d=l[y],S=n.length-d.oldLines,w=0,b=h+d.oldStart-1,v=(0,fn.default)(b,c,S);w!==void 0;w=v())if(g(d,b+w)){d.offset=h+=w;break}if(w===void 0)return!1;c=d.offset+d.oldStart+d.oldLines}for(var x=0,L=0;L<l.length;L++){var N=l[L],p=N.oldStart+N.offset+x-1;x+=N.newLines-N.oldLines;for(var s=0;s<N.lines.length;s++){var O=N.lines[s],E=O.length>0?O[0]:" ",_=O.length>0?O.substr(1):O,P=N.linedelimiters&&N.linedelimiters[s]||`
`;if(E===" ")p++;else if(E==="-")n.splice(p,1),i.splice(p,1);else if(E==="+")n.splice(p,0,_),i.splice(p,0,P),p++;else if(E==="\\"){var R=N.lines[s-1]?N.lines[s-1][0]:null;R==="+"?u=!0:R==="-"&&(m=!0)}}}if(u)for(;!n[n.length-1];)n.pop(),i.pop();else m&&(n.push(""),i.push(`
`));for(var C=0;C<n.length-1;C++)n[C]=n[C]+i[C];return n.join("")}function dn(e,t){typeof e=="string"&&(e=(0,Jt.parsePatch)(e));var r=0;function n(){var i=e[r++];if(!i)return t.complete();t.loadFile(i,function(l,a){if(l)return t.complete(l);var o=Bt(a,i,t);t.patched(i,o,function(f){if(f)return t.complete(f);n()})})}n()}});var Pe=A(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.structuredPatch=Ht;z.formatPatch=Te;z.createTwoFilesPatch=qt;z.createPatch=xn;var hn=ie();function Ce(e){return mn(e)||yn(e)||gn(e)||pn()}function pn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gn(e,t){if(e){if(typeof e=="string")return Ae(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ae(e,t)}}function yn(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function mn(e){if(Array.isArray(e))return Ae(e)}function Ae(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ht(e,t,r,n,i,l,a){a||(a={}),typeof a.context>"u"&&(a.context=4);var o=(0,hn.diffLines)(r,n,a);if(!o)return;o.push({value:"",lines:[]});function f(w){return w.map(function(b){return" "+b})}for(var c=[],h=0,u=0,m=[],g=1,y=1,d=function(b){var v=o[b],x=v.lines||v.value.replace(/\n$/,"").split(`
`);if(v.lines=x,v.added||v.removed){var L;if(!h){var N=o[b-1];h=g,u=y,N&&(m=a.context>0?f(N.lines.slice(-a.context)):[],h-=m.length,u-=m.length)}(L=m).push.apply(L,Ce(x.map(function(C){return(v.added?"+":"-")+C}))),v.added?y+=x.length:g+=x.length}else{if(h)if(x.length<=a.context*2&&b<o.length-2){var p;(p=m).push.apply(p,Ce(f(x)))}else{var s,O=Math.min(x.length,a.context);(s=m).push.apply(s,Ce(f(x.slice(0,O))));var E={oldStart:h,oldLines:g-h+O,newStart:u,newLines:y-u+O,lines:m};if(b>=o.length-2&&x.length<=a.context){var _=/\n$/.test(r),P=/\n$/.test(n),R=x.length==0&&m.length>E.oldLines;!_&&R&&r.length>0&&m.splice(E.oldLines,0,"\\ No newline at end of file"),(!_&&!R||!P)&&m.push("\\ No newline at end of file")}c.push(E),h=0,u=0,m=[]}g+=x.length,y+=x.length}},S=0;S<o.length;S++)d(S);return{oldFileName:e,newFileName:t,oldHeader:i,newHeader:l,hunks:c}}function Te(e){if(Array.isArray(e))return e.map(Te).join(`
`);var t=[];e.oldFileName==e.newFileName&&t.push("Index: "+e.oldFileName),t.push("==================================================================="),t.push("--- "+e.oldFileName+(typeof e.oldHeader>"u"?"":"	"+e.oldHeader)),t.push("+++ "+e.newFileName+(typeof e.newHeader>"u"?"":"	"+e.newHeader));for(var r=0;r<e.hunks.length;r++){var n=e.hunks[r];n.oldLines===0&&(n.oldStart-=1),n.newLines===0&&(n.newStart-=1),t.push("@@ -"+n.oldStart+","+n.oldLines+" +"+n.newStart+","+n.newLines+" @@"),t.push.apply(t,n.lines)}return t.join(`
`)+`
`}function qt(e,t,r,n,i,l,a){return Te(Ht(e,t,r,n,i,l,a))}function xn(e,t,r,n,i,l){return qt(e,e,t,r,n,i,l)}});var kt=A(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.arrayEqual=vn;ue.arrayStartsWith=Ut;function vn(e,t){return e.length!==t.length?!1:Ut(e,t)}function Ut(e,t){if(t.length>e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}});var er=A(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.calcLineCount=Zt;ce.merge=Nn;var wn=Pe(),En=oe(),Re=kt();function W(e){return Ln(e)||On(e)||Sn(e)||bn()}function bn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sn(e,t){if(e){if(typeof e=="string")return De(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return De(e,t)}}function On(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Ln(e){if(Array.isArray(e))return De(e)}function De(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zt(e){var t=Fe(e.lines),r=t.oldLines,n=t.newLines;r!==void 0?e.oldLines=r:delete e.oldLines,n!==void 0?e.newLines=n:delete e.newLines}function Nn(e,t,r){e=Vt(e,r),t=Vt(t,r);var n={};(e.index||t.index)&&(n.index=e.index||t.index),(e.newFileName||t.newFileName)&&(zt(e)?zt(t)?(n.oldFileName=fe(n,e.oldFileName,t.oldFileName),n.newFileName=fe(n,e.newFileName,t.newFileName),n.oldHeader=fe(n,e.oldHeader,t.oldHeader),n.newHeader=fe(n,e.newHeader,t.newHeader)):(n.oldFileName=e.oldFileName,n.newFileName=e.newFileName,n.oldHeader=e.oldHeader,n.newHeader=e.newHeader):(n.oldFileName=t.oldFileName||e.oldFileName,n.newFileName=t.newFileName||e.newFileName,n.oldHeader=t.oldHeader||e.oldHeader,n.newHeader=t.newHeader||e.newHeader)),n.hunks=[];for(var i=0,l=0,a=0,o=0;i<e.hunks.length||l<t.hunks.length;){var f=e.hunks[i]||{oldStart:1/0},c=t.hunks[l]||{oldStart:1/0};if(Wt(f,c))n.hunks.push(Gt(f,a)),i++,o+=f.newLines-f.oldLines;else if(Wt(c,f))n.hunks.push(Gt(c,o)),l++,a+=c.newLines-c.oldLines;else{var h={oldStart:Math.min(f.oldStart,c.oldStart),oldLines:0,newStart:Math.min(f.newStart+a,c.oldStart+o),newLines:0,lines:[]};_n(h,f.oldStart,f.lines,c.oldStart,c.lines),l++,i++,n.hunks.push(h)}}return n}function Vt(e,t){if(typeof e=="string"){if(/^@@/m.test(e)||/^Index:/m.test(e))return(0,En.parsePatch)(e)[0];if(!t)throw new Error("Must provide a base reference or pass in a patch");return(0,wn.structuredPatch)(void 0,void 0,t,e)}return e}function zt(e){return e.newFileName&&e.newFileName!==e.oldFileName}function fe(e,t,r){return t===r?t:(e.conflict=!0,{mine:t,theirs:r})}function Wt(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}function Gt(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}function _n(e,t,r,n,i){var l={offset:t,lines:r,index:0},a={offset:n,lines:i,index:0};for(Yt(e,l,a),Yt(e,a,l);l.index<l.lines.length&&a.index<a.lines.length;){var o=l.lines[l.index],f=a.lines[a.index];if((o[0]==="-"||o[0]==="+")&&(f[0]==="-"||f[0]==="+"))Cn(e,l,a);else if(o[0]==="+"&&f[0]===" "){var c;(c=e.lines).push.apply(c,W(M(l)))}else if(f[0]==="+"&&o[0]===" "){var h;(h=e.lines).push.apply(h,W(M(a)))}else o[0]==="-"&&f[0]===" "?Kt(e,l,a):f[0]==="-"&&o[0]===" "?Kt(e,a,l,!0):o===f?(e.lines.push(o),l.index++,a.index++):$e(e,M(l),M(a))}jt(e,l),jt(e,a),Zt(e)}function Cn(e,t,r){var n=M(t),i=M(r);if(Xt(n)&&Xt(i)){if((0,Re.arrayStartsWith)(n,i)&&Qt(r,n,n.length-i.length)){var l;(l=e.lines).push.apply(l,W(n));return}else if((0,Re.arrayStartsWith)(i,n)&&Qt(t,i,i.length-n.length)){var a;(a=e.lines).push.apply(a,W(i));return}}else if((0,Re.arrayEqual)(n,i)){var o;(o=e.lines).push.apply(o,W(n));return}$e(e,n,i)}function Kt(e,t,r,n){var i=M(t),l=An(r,i);if(l.merged){var a;(a=e.lines).push.apply(a,W(l.merged))}else $e(e,n?l:i,n?i:l)}function $e(e,t,r){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:r})}function Yt(e,t,r){for(;t.offset<r.offset&&t.index<t.lines.length;){var n=t.lines[t.index++];e.lines.push(n),t.offset++}}function jt(e,t){for(;t.index<t.lines.length;){var r=t.lines[t.index++];e.lines.push(r)}}function M(e){for(var t=[],r=e.lines[e.index][0];e.index<e.lines.length;){var n=e.lines[e.index];if(r==="-"&&n[0]==="+"&&(r="+"),r===n[0])t.push(n),e.index++;else break}return t}function An(e,t){for(var r=[],n=[],i=0,l=!1,a=!1;i<t.length&&e.index<e.lines.length;){var o=e.lines[e.index],f=t[i];if(f[0]==="+")break;if(l=l||o[0]!==" ",n.push(f),i++,o[0]==="+")for(a=!0;o[0]==="+";)r.push(o),o=e.lines[++e.index];f.substr(1)===o.substr(1)?(r.push(o),e.index++):a=!0}if((t[i]||"")[0]==="+"&&l&&(a=!0),a)return r;for(;i<t.length;)n.push(t[i++]);return{merged:n,changes:r}}function Xt(e){return e.reduce(function(t,r){return t&&r[0]==="-"},!0)}function Qt(e,t,r){for(var n=0;n<r;n++){var i=t[t.length-r+n].substr(1);if(e.lines[e.index+n]!==" "+i)return!1}return e.index+=r,!0}function Fe(e){var t=0,r=0;return e.forEach(function(n){if(typeof n!="string"){var i=Fe(n.mine),l=Fe(n.theirs);t!==void 0&&(i.oldLines===l.oldLines?t+=i.oldLines:t=void 0),r!==void 0&&(i.newLines===l.newLines?r+=i.newLines:r=void 0)}else r!==void 0&&(n[0]==="+"||n[0]===" ")&&r++,t!==void 0&&(n[0]==="-"||n[0]===" ")&&t++}),{oldLines:t,newLines:r}}});var ir=A(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.reversePatch=nr;function tr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tr(Object(r),!0).forEach(function(n){Tn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nr(e){return Array.isArray(e)?e.map(nr).reverse():rr(rr({},e),{},{oldFileName:e.newFileName,oldHeader:e.newHeader,newFileName:e.oldFileName,newHeader:e.oldHeader,hunks:e.hunks.map(function(t){return{oldLines:t.newLines,oldStart:t.newStart,newLines:t.oldLines,newStart:t.oldStart,linedelimiters:t.linedelimiters,lines:t.lines.map(function(r){return r.startsWith("-")?"+".concat(r.slice(1)):r.startsWith("+")?"-".concat(r.slice(1)):r})}})})}});var lr=A(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.convertChangesToDMP=Pn;function Pn(e){for(var t=[],r,n,i=0;i<e.length;i++)r=e[i],r.added?n=1:r.removed?n=-1:n=0,t.push([n,r.value]);return t}});var ar=A(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.convertChangesToXML=Rn;function Rn(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];n.added?t.push("<ins>"):n.removed&&t.push("<del>"),t.push(Dn(n.value)),n.added?t.push("</ins>"):n.removed&&t.push("</del>")}return t.join("")}function Dn(e){var t=e;return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/"/g,"&quot;"),t}});var cr=A(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});Object.defineProperty(T,"Diff",{enumerable:!0,get:function(){return Fn.default}});Object.defineProperty(T,"diffChars",{enumerable:!0,get:function(){return $n.diffChars}});Object.defineProperty(T,"diffWords",{enumerable:!0,get:function(){return or.diffWords}});Object.defineProperty(T,"diffWordsWithSpace",{enumerable:!0,get:function(){return or.diffWordsWithSpace}});Object.defineProperty(T,"diffLines",{enumerable:!0,get:function(){return sr.diffLines}});Object.defineProperty(T,"diffTrimmedLines",{enumerable:!0,get:function(){return sr.diffTrimmedLines}});Object.defineProperty(T,"diffSentences",{enumerable:!0,get:function(){return In.diffSentences}});Object.defineProperty(T,"diffCss",{enumerable:!0,get:function(){return Jn.diffCss}});Object.defineProperty(T,"diffJson",{enumerable:!0,get:function(){return ur.diffJson}});Object.defineProperty(T,"canonicalize",{enumerable:!0,get:function(){return ur.canonicalize}});Object.defineProperty(T,"diffArrays",{enumerable:!0,get:function(){return Bn.diffArrays}});Object.defineProperty(T,"applyPatch",{enumerable:!0,get:function(){return fr.applyPatch}});Object.defineProperty(T,"applyPatches",{enumerable:!0,get:function(){return fr.applyPatches}});Object.defineProperty(T,"parsePatch",{enumerable:!0,get:function(){return Mn.parsePatch}});Object.defineProperty(T,"merge",{enumerable:!0,get:function(){return Hn.merge}});Object.defineProperty(T,"reversePatch",{enumerable:!0,get:function(){return qn.reversePatch}});Object.defineProperty(T,"structuredPatch",{enumerable:!0,get:function(){return de.structuredPatch}});Object.defineProperty(T,"createTwoFilesPatch",{enumerable:!0,get:function(){return de.createTwoFilesPatch}});Object.defineProperty(T,"createPatch",{enumerable:!0,get:function(){return de.createPatch}});Object.defineProperty(T,"formatPatch",{enumerable:!0,get:function(){return de.formatPatch}});Object.defineProperty(T,"convertChangesToDMP",{enumerable:!0,get:function(){return Un.convertChangesToDMP}});Object.defineProperty(T,"convertChangesToXML",{enumerable:!0,get:function(){return kn.convertChangesToXML}});var Fn=Vn($()),$n=_t(),or=Tt(),sr=ie(),In=Pt(),Jn=Rt(),ur=Ft(),Bn=$t(),fr=Mt(),Mn=oe(),Hn=er(),qn=ir(),de=Pe(),Un=lr(),kn=ar();function Vn(e){return e&&e.__esModule?e:{default:e}}});var hr=A((bi,dr)=>{var wi=Lr(we());dr.exports=function(e){e.update(),e.historyUpdate(),window.addEventListener("load",t),e.editor.addEventListener("focusin",r),e.editor.addEventListener("focusout",n),e.gutter.addEventListener("click",i),document.addEventListener("mousedown",a),document.addEventListener("mousemove",o),document.addEventListener("mouseup",f),document.addEventListener("selectionchange",c),e.textarea.addEventListener("beforeinput",h),e.textarea.addEventListener("keydown",u),e.textarea.addEventListener("cut",m),e.textarea.addEventListener("copy",g),e.textarea.addEventListener("paste",y);function t(b){e.overlay.firstElementChild.innerHTML="",e.gutter.innerHTML="",e.update(),e.updateCurrentLine(),e.initialized=!0}function r(b){e.utils.addDataState(e.editor,"focused")}function n(b){e.editor.contains(b.target)||e.utils.removeDataState(e.editor,"focused")}function i(b){(Array.from(e.gutter.children).indexOf(b.target)>-1||Array.from(e.gutter.children).indexOf(b.target.parentNode)>-1)&&e.setCarretAt(parseInt(b.target.textContent.trim())-1)}var l;function a(b){if(b.target==e.container){l=b.target,b.preventDefault();let v=e.gutter.children,x="0";for(let L=0,N=v.length;L<N;L++)b.clientY>v[L].getBoundingClientRect().y&&(x=v[L].textContent.trim());x-1<0&&(x=1),e.setCarretAt(x-1),e.textarea.focus()}}function o(b){if(l==e.container&&b.buttons==1){let v=e.gutter.children,x="0";for(let L=0,N=v.length;L<N;L++)b.clientY>v[L].getBoundingClientRect().y&&(x=v[L].textContent.trim());e.textarea.focus(),e.textarea.setSelectionRange(e.textarea.value.split(`
`).slice(0,x).join().length,e.textarea.value.length,"backward")}}function f(b){l==e.container&&b.target==e.textarea&&(e.textarea.selectionEnd=e.textarea.value.length,e.textarea.selectionStart=e.textarea.value.length,e.textarea.focus()),l=void 0}function c(b){document.activeElement===e.textarea&&(e.updateCaret(),e.updateCurrentLine(),e.updateHorizontalScroll(),e.lastSelection=e.getTextareaSelection())}function h(b){e.lastTextareaValue=e.textarea.value}function u(b){if(!b.ctrlKey&&!b.shiftKey&&!b.altKey){if(b.key==" "&&e.textarea.selectionStart==e.textarea.selectionEnd&&(!/\n/.test(e.textarea.value.slice(0,e.textarea.selectionStart))&&(/ +$/.test(e.textarea.value.slice(0,e.textarea.selectionStart))||e.textarea.selectionStart===0)||/\n +$/.test(e.textarea.value.slice(0,e.textarea.selectionStart))||e.textarea.selectionStart<e.textarea.value.length&&(/\n +\n$/.test(e.textarea.value.slice(0,e.textarea.selectionStart+1))||/\n$/.test(e.textarea.value.slice(0,e.textarea.selectionStart)))||e.textarea.value.length==e.textarea.selectionStart&&(/\n +$/.test(e.textarea.value)||/\n$/.test(e.textarea.value)))){b.preventDefault();let v=e.textarea.selectionStart+4,x=e.textarea.value.slice(0,e.textarea.selectionStart)+"    "+e.textarea.value.slice(e.textarea.selectionEnd);e.setTextarea(x,v),d()}if(b.key=="Enter"){let v=e.textarea.value,x=v.split(`
`),L=e.getSelectionStartCoordinates(),N=L[0],p=L[1],s=x[N];if(/^    /.test(s)){if(b.preventDefault(),p%4!==0&&p<s.match(/^(    )+/)[0].length){for(let R=p;0<=R;R--)if(R%4==0){e.textarea.selectionStart==e.textarea.selectionEnd&&(e.textarea.selectionEnd=x.slice(0,N).join().length+R),e.textarea.selectionStart=x.slice(0,N).join().length+R,p=R;break}}let O=0;p>0&&(O=s.slice(0,p).match(/^(    )+/)[0].length);let E=e.textarea.selectionStart,_=e.textarea.value.slice(e.textarea.selectionEnd);_.split(`
`)[0].trim()==""&&(_=`
`+_.split(`
`).slice(1).join(`
`));let P=e.textarea.value.slice(0,e.textarea.selectionStart)+`
`+" ".repeat(O)+_;e.setTextarea(P,E+O+1),d()}}}else if(!b.ctrlKey&&b.shiftKey&&!b.altKey)b.key==" "&&e.textarea.selectionStart==e.textarea.selectionEnd;else if(b.ctrlKey&&!b.shiftKey&&!b.altKey){if(b.key=="Backspace"){let v=e.textarea.value.split(`
`),x=e.getSelectionStartCoordinates(),L=v[x[0]],N=L.slice(0,x[1]);if(e.textarea.selectionEnd==e.textarea.selectionStart&&/^ +$/.test(N)){b.preventDefault();let p=0;N.length%4==0?(v[x[0]]=L.slice(4),p=4):(v[x[0]]=L.slice(N.length%4),p=N.length%4),e.setTextarea(v.join(`
`)),d(),e.setCarretAt(x[0],x[1]-p)}}if(b.key==" "){let v=e.textarea.value.slice(0,e.textarea.selectionStart)+"	"+e.textarea.value.slice(e.textarea.selectionEnd);e.setTextarea(e.formatIndentation(v),e.textarea.selectionEnd+1),d()}if(b.key=="]"){b.preventDefault();let v=e.textarea.value.split(`
`),x=e.textarea.value.slice(0,e.textarea.selectionStart).split(`
`).length-1,L=e.textarea.value.slice(0,e.textarea.selectionEnd).split(`
`).length-1,N=e.textarea.selectionStart+4,p=e.textarea.selectionEnd+4*(L-x+1);for(let s=0,O=v.length;s<O;s++)s>=x&&s<=L&&(v[s]="    "+v[s]);e.setTextarea(v.join(`
`),N,p),d()}if(b.key=="["){let v=e.textarea.value,x=e.textarea.value.split(`
`),L=e.textarea.value.slice(0,e.textarea.selectionStart).split(`
`).length-1,N=e.textarea.value.slice(0,e.textarea.selectionEnd).split(`
`).length-1,p=e.textarea.selectionStart,s=e.textarea.selectionEnd;for(let O=0,E=x.length;O<E;O++)O>=L&&O<=N&&x[O].startsWith("    ")&&(O==L&&(p-=4),s-=4,x[O]=x[O].slice(4));e.setTextarea(x.join(`
`),p,s),d()}if(b.key=="Enter"){let v=e.textarea.value.split(`
`),x=e.getCurrentLine();x==v.length-1?e.setTextarea(v.join(`
`)+`
`):e.setTextarea(v.slice(0,x+1).join(`
`)+`

`+v.slice(x+1).join(`
`)),d(),e.setCarretAt(x+1)}if(b.key=="z"&&(b.preventDefault(),e.historyPosition>1)){e.historyPosition-=1;let v=e.history[e.historyPosition-1];e.setTextarea(v[0],v[1]),e.update(),e.virtualScroller.inputHandler(!0),e.textarea.blur(),e.textarea.focus()}if(b.key=="y"&&(b.preventDefault(),e.historyPosition<e.history.length)){e.historyPosition+=1;let v=e.history[e.historyPosition-1];e.setTextarea(v[0],v[1]),e.update(),e.virtualScroller.inputHandler(!0),e.textarea.blur(),e.textarea.focus()}}else if(!b.ctrlKey&&b.shiftKey&&b.altKey)b.key=="f"&&e.setTextarea(e.formatIndentation(e.textarea.value),e.textarea.selectionEnd);else if(!b.ctrlKey&&!b.shiftKey&&b.altKey){if(b.key=="ArrowDown")if(e.getSelectionStartCoordinates()[0]==e.getSelectionEndCoordinates()[0]){let v=e.textarea.value.split(`
`),x=e.getCurrentLine(),L=v[e.getCurrentLine()].slice();if(e.getCurrentLine()!==v.length){let N=v[e.getCurrentLine()+1].slice();v[e.getCurrentLine()]=N,v[e.getCurrentLine()+1]=L,e.setTextarea(v.join(`
`)),d(),e.setCarretAt(x+1)}}else{let v=e.textarea.value.split(`
`),x=e.getSelectionStartCoordinates()[0],L=e.getSelectionEndCoordinates()[0];if(L<x&&(x=e.getSelectionEndCoordinates()[0],L=e.getSelectionStartCoordinates()[0]),L!=v.length){let N=v.slice(x,L+1),p=v[L+1].slice();v[x]=p;for(let s=x,O=s+N.length;s<O;s++)v[s+1]=N[s-x];L<x?e.setTextarea(v.join(`
`),e.textarea.selectionEnd+p.length+1,e.textarea.selectionStart+p.length+1):e.setTextarea(v.join(`
`),e.textarea.selectionStart+p.length+1,e.textarea.selectionEnd+p.length+1),d()}}else if(b.key=="ArrowUp")if(e.getSelectionStartCoordinates()[0]==e.getSelectionEndCoordinates()[0]){let v=e.textarea.value.split(`
`),x=e.getCurrentLine(),L=v[e.getCurrentLine()].slice();if(e.getCurrentLine()!==0){let N=v[e.getCurrentLine()-1].slice();v[e.getCurrentLine()]=N,v[e.getCurrentLine()-1]=L,e.setTextarea(v.join(`
`)),d(),e.setCarretAt(x-1)}}else{let v=e.textarea.value.split(`
`),x=e.getSelectionStartCoordinates()[0],L=e.getSelectionEndCoordinates()[0];if(L<x&&(x=e.getSelectionEndCoordinates()[0],L=e.getSelectionStartCoordinates()[0]),x!=0){let N=v.slice(x,L+1),p=v[x-1].slice();v[L]=p;for(let s=x,O=s+N.length;s<O;s++)v[s-1]=N[s-x];L<x?e.setTextarea(v.join(`
`),e.textarea.selectionEnd-p.length-1,e.textarea.selectionStart-p.length-1):e.setTextarea(v.join(`
`),e.textarea.selectionStart-p.length-1,e.textarea.selectionEnd-p.length-1),d()}}}e.debounceLint()}function m(b){if(e.textarea.selectionStart==e.textarea.selectionEnd){b.preventDefault();let v=e.textarea.value.split(`
`),x=e.getCurrentLine(),L=v.slice(0,x).join(`
`).length,N=L+v[x].length+1;e.textarea.setSelectionRange(L,N),e.lastTextareaValue=e.textarea.value,document.execCommand("cut"),e.updateCaret()}}function g(b){if(e.textarea.selectionStart==e.textarea.selectionEnd){b.preventDefault();let v=e.textarea.value.split(`
`),x=e.getCurrentLine(),L=v.slice(0,x).join(`
`).length,N=L+v[x].length+1;e.textarea.setSelectionRange(L,N),document.execCommand("copy")}}function y(b){b.preventDefault();let v=b.clipboardData.getData("text").replace(new RegExp(/\r/g),""),x=e.textarea.value.slice(0,e.textarea.selectionStart),L=e.textarea.value.slice(e.textarea.selectionEnd),N=x+v+L,p=e.textarea.selectionStart+v.length;try{JSON.parse(N),e.setTextarea(e.damon.jsonToDamon(N)),d(),e.updateCaret(),e.debounceLint();return}catch{}let s=N.split(`
`),O=p,E=0,_=0;for(let C=0,D=s.length;C<D;C++)if(E+s[C].length+C<O)E+=s[C].length;else{E+=C,_=C;break}let P=[_,p-E],R=s[_].slice(0);if(N=e.formatIndentation(N),s=N.split(`
`),e.textarea.value!==N){let C=s.slice(0,_+1).join(`
`).length-R.length+P[1];e.setTextarea(N,C),d()}e.updateCaret(),e.debounceLint()}e.textarea.addEventListener("input",d),e.editor.addEventListener("scroll",S);function d(){document.activeElement==e.textarea&&(e.update(),e.debounceHistoryUpdate(),e.updateCurrentLine(),e.updateHorizontalScroll(),e.updateCaret(),e.debounceLint())}function S(b){e.virtualScroller.scrollHandler()}window.spaceResizeTimeout=null;function w(b){spaceResizeTimeout&&clearTimeout(spaceResizeTimeout),window.spaceResizeTimeout=setTimeout(function(){let v=e.editor.scrollTop;e.gutter.innerHTML="",e.overlay.firstElementChild.innerHTML="",e.initialized=!1,e.virtualScroller.inputHandler(),e.initialized=!0,e.editor.scrollTop=v},100)}}});var gr=A((Li,pr)=>{var Me=Ue(),zn=St(),Wn=we(),Si=cr();pr.exports=class{constructor(t,r,n){let i=this;i.dom=t,i.innerHTML="",i.editor={},i.gutter={},i.container={},i.overlay={},i.textarea={},i.caretPadding={},i.caret={},i.statusBar={},i.copyButton={},i.diffButton={},i.prism=r,i.indentation="    ",i.currentLine=0,i.history=[],i.historyPosition=0,i.historyUpdateTimeoutId,i.lintTimeoutId,i.lastTextareaValue="",i.lastSelection="",i.initialized=!1,i.virtualScroller={},i.damon=new zn,i.utils=Me}init(){let t=this;t.statusBarHTML=Me.html`
<div>
    Spaces: <a href="https://github.com/adrianturcev/space/blob/master/bindings.md"><kbd>SPACE</kbd></a>
</div>
<a href="https://github.com/adrianturcev/damon/blob/master/language_reference.md">
    DAMON
    <svg
    viewBox="0 0 24 24"
    xmlns="http://www.w3.org/2000/svg">
        <title>help-circle</title>
        <circle
            style="fill:#FEFEFE;stroke-width:1.04312;fill-opacity:1"
            cx="12"
            cy="12"
            r="9.6854191" />
        <path
            fill="#FEFEFE"
            d="M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"
            style="fill:#4169e1;fill-opacity:1" />
    </svg>
</a>
<button class="space-copyButton">
    JSON
    <svg
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg">
        <title>content-copy</title>
        <path
            fill="#FEFEFE"
            d="M 4,21 H 15 V 7 H 4 M 4,5 h 11 a -2,2 0 0 1 2,2 v 14 a -2,2 0 0 1 -2,2 H 4 A -2,2 0 0 1 2,21 V 7 A -2,2 0 0 1 4,5 M 7,1 h 12 a -2,2 0 0 1 2,2 V 17 H 19 V 3 H 7 Z"/>
    </svg>
</button>
<button class="space-diffButton">
    Diff
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <title>set-left-right</title>
        <path
            fill="#FEFEFE"
            d="M9,5C10.04,5 11.06,5.24 12,5.68C12.94,5.24 13.96,5 15,5A7,7 0 0,1 22,12A7,7 0 0,1 15,19C13.96,19 12.94,18.76 12,18.32C11.06,18.76 10.04,19 9,19A7,7 0 0,1 2,12A7,7 0 0,1 9,5M9,12C9,14.22 10.21,16.16 12,17.2C13.79,16.16 15,14.22 15,12C15,9.78 13.79,7.84 12,6.8C10.21,7.84 9,9.78 9,12Z" />
    </svg>
</button>`,t.innerHTML=Me.html`
<div class="space-editor" data-state="js-off">
    <div class="space-gutter"></div>
    <div class="space-container">
<pre class="space-dummyTextarea"><span class="space-caretPadding"></span><span class="space-caret">&nbsp;</span></pre>
        <pre class="space-overlay" aria-hidden="true" tabindex="-1">
            <code class="language-damon"></code>
        </pre>
        <textarea
            class="space-textarea"
            placeholder="Paste JSON or type DAMON"
            spellcheck="false"
            aria-labelledby=""
            aria-controls="space-statusBar0"
            maxlength="500000">
        </textarea>
        <ul class="space-suggestions"></ul>
    </div>
</div>
<div class="space-statusBar" id="space-statusBar0" role="log" aria-live="polite">${t.statusBarHTML}</div>
        `;let r="";t.dom.innerHTML!==t.innerHTML&&(t.dom.getElementsByTagName("textarea")[0]!==void 0&&(r=t.dom.getElementsByTagName("textarea")[0].innerHTML),t.dom.innerHTML=t.innerHTML),t.editor=t.dom.getElementsByClassName("space-editor")[0],t.gutter=t.dom.getElementsByClassName("space-gutter")[0],t.container=t.dom.getElementsByClassName("space-container")[0],t.overlay=t.dom.getElementsByClassName("space-overlay")[0],t.textarea=t.dom.getElementsByClassName("space-textarea")[0],t.textarea.innerHTML=r,t.caretPadding=t.dom.getElementsByClassName("space-caretPadding")[0],t.caret=t.dom.getElementsByClassName("space-caret")[0],t.statusBar=t.dom.getElementsByClassName("space-statusBar")[0],t.copyButton=t.dom.getElementsByClassName("space-copyButton")[0],t.diffButton=t.dom.getElementsByClassName("space-copyButton")[0],t.virtualScroller=new Wn(this),t.editor.dataset.state="",t.textarea.value=t.formatIndentation(t.textarea.value.replaceAll(/\r/g,"")),t.routes=hr()(this),t.lint()}update(){let t=this;t.initialized&&t.lastTextareaValue==t.textarea.value||(t.gutter.children.length==0?t.virtualScroller.init(0):t.virtualScroller.inputHandler(),t.initialized&&(t.lastTextareaValue=t.textarea.value))}updateHorizontalScroll(){let t=this;if(document.activeElement==t.textarea){let r=t.textarea.value.split(`
`),n=0,i=t.gutter.children[0].children[0].getBoundingClientRect().width;for(let l=0,a=r.length;l<a&&n+r[l].length<t.textarea.selectionEnd;l++)n+=r[l].length+1;(t.textarea.selectionEnd-n)*i-t.gutter.clientWidth<=t.editor.scrollLeft&&(t.editor.scrollLeft=0)}}getCurrentLine(){let t=this,r=t.textarea.value.split(`
`),n=0,i=0,l=0;(t.textarea.selectionDirection=="forward"||t.textarea.selectionStart==t.textarea.selectionEnd)&&(n=t.textarea.selectionEnd),t.textarea.selectionDirection=="backward"&&(n=t.textarea.selectionStart);for(let a=0,o=r.length;a<o;a++)if(i+r[a].length+a<n)i+=r[a].length;else{l=a;break}return l}getSelectionStartCoordinates(){let t=this,r=t.textarea.value.split(`
`),n=t.textarea.selectionStart,i=0,l=0;for(let a=0,o=r.length;a<o;a++)if(i+r[a].length+a<n)i+=r[a].length;else{i+=a,l=a;break}return[l,t.textarea.selectionStart-i]}getSelectionEndCoordinates(){let t=this,r=t.textarea.value.split(`
`),n=t.textarea.selectionEnd,i=0,l=0;for(let a=0,o=r.length;a<o;a++)if(i+r[a].length+a<n)i+=r[a].length;else{i+=a,l=a;break}return[l,t.textarea.selectionEnd-i]}setCarretAt(t,r){let n=this;if(r==null&&(r=n.textarea.value.split(`
`)[t].length),t==0)n.textarea.selectionStart=r;else{let i=Math.min(r,n.textarea.value.split(`
`)[t].length);n.textarea.selectionStart=n.textarea.value.split(`
`).slice(0,t).reduce(function(l,a){return l+a}).length+t+r}n.textarea.selectionEnd=n.textarea.selectionStart,n.textarea.focus()}getTextareaSelection(){let t=this;return t.textarea.selectionStart<t.textarea.selectionEnd?t.textarea.value.slice(t.textarea.selectionStart,t.textarea.selectionEnd):t.textarea.selectionStart<t.textarea.selectionEnd?t.textarea.value.slice(t.textarea.selectionEnd,t.textarea.selectionStart):void 0}updateCurrentLine(t){let r=this,n=r.currentLine;if(r.currentLine=r.getCurrentLine(),n!=r.currentLine||!r.initialized||t||r.lastSelection!=null&&r.getTextareaSelection()==null){for(let l=0,a=r.gutter.children.length;l<a;l++)r.gutter.children[l].classList.remove("currentLine"),r.gutter.children[l].classList.remove("selectionEnd");r.gutter.children[r.currentLine-r.gutter.children[0].textContent.trim()+1]&&(r.textarea.selectionEnd==r.textarea.selectionStart?r.gutter.children[r.currentLine-r.gutter.children[0].textContent.trim()+1].classList.add("currentLine"):r.gutter.children[r.currentLine-r.gutter.children[0].textContent.trim()+1].classList.add("selectionEnd"))}}historyUpdate(){let t=this;if(t.history.length==0||t.textarea.value!=t.history[t.historyPosition-1][0]){let n=function(i,l){return i+l[0]+l[1]};var r=n;if(t.history.length==1){let i=t.textarea.selectionStart-(t.textarea.value.length-t.history[0][0].length);t.history[0][0].length>t.textarea.value.length&&(i=t.textarea.selectionStart-(t.history[0][0].length-t.textarea.value.length)),t.history.push([t.history[0][0],i]),t.historyPosition++}if(t.historyPosition!=t.history.length&&(t.history=t.history.slice(0,t.historyPosition)),t.history.push([t.textarea.value,t.textarea.selectionStart]),t.history.reduce(n,"").length*4>1e8){let i=0;for(;t.history.reduce(n,"").length*4>1e8;)i++,t.history.shift();t.historyPosition-=i}t.historyPosition++}}debounceHistoryUpdate(){var t=this,r=arguments;clearTimeout(this.historyUpdateTimeoutId),this.historyUpdateTimeoutId=setTimeout(function(){t.historyUpdateTimeoutId=null,t.historyUpdate.apply(t,r)},200)}formatIndentation(t){let r=this,n=t.split(`
`);for(let i=0,l=n.length;i<l;i++){if(/^ *(\t)+/.test(n[i])){let a=n[i].match(/^ *(\t)+/)[0].length;for(let o=0,f=a;o<f;o++)n[i]=n[i].replace("	","    ")}if(/^( )+/.test(n[i])&&n[i].match(/^( )+/)[0].length%4!==0){for(let a=n[i].match(/^( )+/)[0].length;0<=a;a--)if(a%4==0){n[i].trimStart(),n[i]=" ".repeat(a)+n[i];break}}}return n.join(`
`)}formatHyphens(t){let r=this,n=t.split(`
`);for(let i=0,l=n.length;i<l;i++)if(!/^ *- /.test(n[i])){let a="";/^ /.test(n[i])&&(a=n[i].match(/^( )+/)[0]),n[i]=a+"- "+n[i].slice(a.length)}return n.join(`
`)}updateCaret(){let t=this;t.textarea.selectionDirection=="forward"||t.textarea.selectionStart==t.textarea.selectionEnd?t.caretPadding.textContent=t.textarea.value.slice(0,t.textarea.selectionEnd):t.caretPadding.textContent=t.textarea.value.slice(0,t.textarea.selectionStart)}setTextarea(t,r,n=r){let i=this;i.lastTextareaValue=i.textarea.value,i.textarea.value=t,r!==null&&i.textarea.setSelectionRange(r,n)}lint(){let t=this;try{t.damon.damonToMap(t.textarea.value),t.statusBar.innerHTML=t.statusBarHTML}catch(r){r.language=="JSON"?t.statusBar.innerHTML="<span>( ! ) Error line number "+r.line+": "+r.type+" not JSON-compliant</span>"+t.statusBarHTML:t.statusBar.innerHTML="<span>( ! ) "+r.message+"</span>"+t.statusBarHTML,console.error(r)}t.copyButton=t.dom.getElementsByClassName("space-copyButton")[0],t.copyButton.addEventListener("click",function(r){let n=document.createElement("textarea");n.style.opacity="0";try{n.value=t.damon.damonToJSON(t.textarea.value)}catch{setTimeout(function(){t.copyButton.classList.remove("error")},1100),t.copyButton.classList.add("error");return}document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy")&&(setTimeout(function(){t.copyButton.classList.remove("success")},1100),t.copyButton.classList.add("success"))}catch(i){console.error(i.name,i.message)}document.body.removeChild(n)}),t.diffButton=t.dom.getElementsByClassName("space-diffButton")[0],t.diffButton.addEventListener("click",function(r){let n=document.createElement("textarea");document.body.appendChild(n),n.addEventListener("paste",function(i){let l=t.formatIndentation(i.clipboardData.getData("text").replace(new RegExp(/\r/g),""))})})}debounceLint(){var t=this,r=arguments;clearTimeout(this.lintTimeoutId),this.lintTimeoutId=setTimeout(function(){t.lintTimeoutId=null,t.lint.apply(t,r)},200)}}});(function(){window.Space=gr()})();})();
